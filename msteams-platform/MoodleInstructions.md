---
title: Instalación de la integración de Moodle con Microsoft Teams
description: Cómo instalar y configurar la aplicación de integración de Moodle para Microsoft Teams
keywords: Complemento de integración de aplicaciones de Microsoft Teams moodle
ms.date: 01/31/2019
ms.openlocfilehash: 2b48cfb0bbef9a531e69ae5620c11a8258acdc64
ms.sourcegitcommit: 058b7bbd817af5f513e0e018f2ef562dc3086a84
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/03/2020
ms.locfileid: "43120300"
---
# <a name="installing-the-moodle-integration-with-microsoft-teams"></a><span data-ttu-id="7e592-104">Instalación de la integración de Moodle con Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="7e592-104">Installing the Moodle integration with Microsoft Teams</span></span>

> [!VIDEO https://www.youtube.com/embed/OHlPt22nKoE]

<span data-ttu-id="7e592-105">[Moodle](https://moodle.org/), el sistema de administración de aprendizaje (LMS) más popular y de código abierto en el mundo, ahora está integrado con Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="7e592-105">[Moodle](https://moodle.org/), the most popular and open-source Learning Management System (LMS) in the world, is now integrated with Microsoft Teams!</span></span> <span data-ttu-id="7e592-106">Esta integración ayuda a los educadores y a los profesores a colaborar con cursos de Moodle, formular preguntas sobre sus calificaciones y tareas y mantenerse actualizados con las notificaciones, directamente en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="7e592-106">This integration helps educators and teachers collaborate around Moodle courses, ask questions about their grades and assignments and stay updated with notifications -- right within Teams!</span></span>

<span data-ttu-id="7e592-107">Para ayudar a los administradores de ti a configurar fácilmente esta integración, hemos actualizado nuestro complemento Office 365 moodle de código abierto con las siguientes capacidades:</span><span class="sxs-lookup"><span data-stu-id="7e592-107">To help IT admins easily set this integration up, we have updated our open-source Office 365 Moodle Plugin with the following capabilities:</span></span>

* <span data-ttu-id="7e592-108">Registro automático del servidor Moodle con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7e592-108">Auto-registration of your Moodle server with Azure AD.</span></span>
* <span data-ttu-id="7e592-109">Implementación de un solo clic del bot de Moodle Assistant a Azure.</span><span class="sxs-lookup"><span data-stu-id="7e592-109">One-click deployment of your Moodle Assistant bot to Azure.</span></span>
* <span data-ttu-id="7e592-110">Aprovisionamiento automático de Teams y sincronización automática de inpuestas en equipo para todos los cursos o seleccione moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-110">Auto-provisioning of teams and auto-synchronization of team enrollments for all or select Moodle courses.</span></span>
* <span data-ttu-id="7e592-111">Instalación automática de la pestaña Moodle y el bot? el Asistente de Moodle en cada equipo sincronizado.</span><span class="sxs-lookup"><span data-stu-id="7e592-111">Auto-installation of the Moodle tab and the Moodle Assistant bot into each synchronized team.</span></span> <span data-ttu-id="7e592-112">(Próximamente)</span><span class="sxs-lookup"><span data-stu-id="7e592-112">(Coming soon)</span></span>
* <span data-ttu-id="7e592-113">Publicación de un solo clic de la aplicación de Moodle en la tienda de aplicaciones privada de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="7e592-113">One-click publishing of the Moodle app into your private Teams App Store.</span></span> <span data-ttu-id="7e592-114">(Próximamente)</span><span class="sxs-lookup"><span data-stu-id="7e592-114">(Coming soon)</span></span>

<span data-ttu-id="7e592-115">Para obtener más información sobre la funcionalidad que proporciona esta integración, vaya [aquí](https://education.microsoft.com/resource/3dffb3a8).</span><span class="sxs-lookup"><span data-stu-id="7e592-115">To learn more about the functionality this integration provides, go [here](https://education.microsoft.com/resource/3dffb3a8).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="7e592-116">Requisitos previos</span><span class="sxs-lookup"><span data-stu-id="7e592-116">Prerequisites</span></span>

<span data-ttu-id="7e592-117">Para poder instalar y configurar esta aplicación, necesitará:</span><span class="sxs-lookup"><span data-stu-id="7e592-117">In order to install and configure this application you'll need:</span></span>

1. <span data-ttu-id="7e592-118">Credenciales de administrador de moodle</span><span class="sxs-lookup"><span data-stu-id="7e592-118">Moodle administrator credentials</span></span>
2. <span data-ttu-id="7e592-119">Credenciales de administrador de Azure AD</span><span class="sxs-lookup"><span data-stu-id="7e592-119">Azure AD administrator credentials</span></span>
3. <span data-ttu-id="7e592-120">Una suscripción de Azure puede crear nuevos recursos en</span><span class="sxs-lookup"><span data-stu-id="7e592-120">An Azure subscription you can create new resources in</span></span>

## <a name="step-1-install-the-office-365-moodle-plugin"></a><span data-ttu-id="7e592-121">Paso 1: instalar el complemento Office 365 moodle</span><span class="sxs-lookup"><span data-stu-id="7e592-121">Step 1: Install the Office 365 Moodle Plugin</span></span>

> [!VIDEO https://www.youtube.com/embed/SETEC5nzMgk]

<span data-ttu-id="7e592-122">La integración de Moodle en Microsoft Teams funciona con el [conjunto de complementos Office 365 moodle](https://github.com/Microsoft/o365-moodle)de código abierto.</span><span class="sxs-lookup"><span data-stu-id="7e592-122">The Moodle integration in Microsoft Teams is powered by the open source [Office 365 Moodle plugin set](https://github.com/Microsoft/o365-moodle).</span></span> <span data-ttu-id="7e592-123">Para instalar el complemento en el servidor de Moodle:</span><span class="sxs-lookup"><span data-stu-id="7e592-123">To install the plugin in your Moodle server:</span></span>

1. <span data-ttu-id="7e592-124">En primer lugar, descargue el [conjunto de complementos de Office 365](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) y guárdelo en su equipo local.</span><span class="sxs-lookup"><span data-stu-id="7e592-124">First, download the [Office 365 plugin set](https://moodle.org/plugins/pluginversions.php?plugin=local_o365) and save it to your local computer.</span></span> <span data-ttu-id="7e592-125">Debe usar la versión 3,5 o posterior.</span><span class="sxs-lookup"><span data-stu-id="7e592-125">You'll need to use version 3.5 or newer.</span></span>
    * <span data-ttu-id="7e592-126">Al instalar el complemento de local_o365, también se instalarán los complementos de [auth_oidc](https://moodle.org/plugins/auth_oidc) y [boost_o365Teams](https://moodle.org/plugins/pluginversions.php?plugin=theme_boost_o365teams) .</span><span class="sxs-lookup"><span data-stu-id="7e592-126">Installing the local_o365 plugin will also install the [auth_oidc](https://moodle.org/plugins/auth_oidc) and [boost_o365Teams](https://moodle.org/plugins/pluginversions.php?plugin=theme_boost_o365teams) plugins.</span></span>
1. <span data-ttu-id="7e592-127">Inicie sesión en el servidor de Moodle como administrador y seleccione **Administración del sitio** en el panel de navegación de la izquierda.</span><span class="sxs-lookup"><span data-stu-id="7e592-127">Login to your Moodle server as an administrator, and select **Site administration** from the left navigation panel.</span></span>
1. <span data-ttu-id="7e592-128">Seleccione la pestaña **Complementos** y, a continuación, haga clic en **instalar complementos**.</span><span class="sxs-lookup"><span data-stu-id="7e592-128">Select the **Plugins** tab, and then click **Install plugins**.</span></span>
1. <span data-ttu-id="7e592-129">En la sección **Instalar complemento del archivo zip** , haga clic en el botón **elegir un archivo** .</span><span class="sxs-lookup"><span data-stu-id="7e592-129">Under the **Install plugin from ZIP file** section click the **Choose a file** button.</span></span>
1. <span data-ttu-id="7e592-130">Seleccione las opciones **cargar un archivo** del panel de navegación de la izquierda, busque el archivo descargado anteriormente y haga clic en **cargar este archivo**.</span><span class="sxs-lookup"><span data-stu-id="7e592-130">Select the **Upload a file** options from the left navigation, browse for the file you downloaded above and click **Upload this file**.</span></span>
1. <span data-ttu-id="7e592-131">Seleccione la opción **Administración del sitio** de nuevo en el panel de navegación izquierdo para volver al panel de administración.</span><span class="sxs-lookup"><span data-stu-id="7e592-131">Select the **Site administration** option from the left navigation panel again to return to your admin dashboard.</span></span> <span data-ttu-id="7e592-132">Desplácese hacia abajo hasta los **Complementos locales** y haga clic en el vínculo **Microsoft Office 365 Integration** .</span><span class="sxs-lookup"><span data-stu-id="7e592-132">Scroll down to the **Local plugins** and click the **Microsoft Office 365 Integration** link.</span></span> <span data-ttu-id="7e592-133">Mantenga esta página de configuración abierta en una pestaña del explorador independiente, ya que la usará en el resto de este proceso.</span><span class="sxs-lookup"><span data-stu-id="7e592-133">Keep this configuration page open in a separate browser tab as you'll be using it throughout the rest of this process.</span></span>

<span data-ttu-id="7e592-134">Puede encontrar más información sobre cómo instalar los complementos de Moodle en la [documentación de Moodle](https://docs.moodle.org/34/en/Installing_plugins).</span><span class="sxs-lookup"><span data-stu-id="7e592-134">You can find more information on how to install Moodle plugins in the [Moodle documentation](https://docs.moodle.org/34/en/Installing_plugins).</span></span>

<span data-ttu-id="7e592-135">**Nota importante:** Mantenga la página de configuración del complemento Office 365 moodle abierta en una pestaña del explorador independiente, ya que volverá a este conjunto de páginas a lo largo de este proceso.</span><span class="sxs-lookup"><span data-stu-id="7e592-135">**Important Note:** Keep your Office 365 Moodle Plugin configuration page open in a separate browser tab as you will be returning to this set of pages throughout this process.</span></span>

<span data-ttu-id="7e592-136">*¿Todavía no tiene un sitio de moodle?*</span><span class="sxs-lookup"><span data-stu-id="7e592-136">*Don't have a Moodle site already?*</span></span> <span data-ttu-id="7e592-137">Es posible que quiera consultar nuestro [repositorio](https://github.com/azure/moodle) de Moodle en Azure, donde puede implementar rápidamente una instancia de Moodle en Azure y personalizarla según sus necesidades.</span><span class="sxs-lookup"><span data-stu-id="7e592-137">You might want to check out our Moodle on Azure [repo](https://github.com/azure/moodle) where you can quickly deploy a Moodle instance on Azure and customize it to your needs.</span></span>

## <a name="step-2-configure-the-connection-between-the-office-365-plugin-and-azure-active-directory"></a><span data-ttu-id="7e592-138">Paso 2: configurar la conexión entre el complemento de Office 365 y Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="7e592-138">Step 2: Configure the connection between the Office 365 plugin and Azure Active Directory</span></span>

> [!VIDEO https://www.youtube.com/embed/FpGEezaJ3SA]

<span data-ttu-id="7e592-139">A continuación, deberá registrar moodle como una aplicación en su Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7e592-139">Next you'll need to register Moodle as an application in your Azure Active Directory.</span></span> <span data-ttu-id="7e592-140">Hemos proporcionado un script de PowerShell para ayudarle a completar este proceso.</span><span class="sxs-lookup"><span data-stu-id="7e592-140">We've provided a PowerShell script to help you complete this process.</span></span> <span data-ttu-id="7e592-141">El script de PowerShell aprovisiona una nueva aplicación de Azure AD para su inquilino de Office 365, que usará el complemento Office 365 moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-141">The PowerShell Script provisions a new Azure AD application for your Office 365 tenant, which will be used by the Office 365 Moodle Plugin.</span></span> <span data-ttu-id="7e592-142">El script aprovisionará la aplicación para el inquilino de O365, configure todas las direcciones URL de respuesta y los permisos necesarios para la aplicación aprovisionada y devuelva el AppID y la clave.</span><span class="sxs-lookup"><span data-stu-id="7e592-142">The script will provision the app for your O365 tenant, set up all the required Reply URLs and Permissions for the provisioned app and return the AppID and Key.</span></span> <span data-ttu-id="7e592-143">Puede usar el AppID y la clave generados en la página Configuración del complemento de O365 Moodle para configurar el servidor de Moodle con Azure AD.</span><span class="sxs-lookup"><span data-stu-id="7e592-143">You can use the generated AppID and Key in your O365 Moodle Plugin Setup Page to configure your Moodle server with Azure AD.</span></span> <span data-ttu-id="7e592-144">Si desea ver los pasos manuales detallados que el script de PowerShell está automatizando, puede encontrarlos en la [documentación completa del complemento](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application).</span><span class="sxs-lookup"><span data-stu-id="7e592-144">If you want to see the detailed manual steps that the PowerShell script is automating, you can find them in the full [documentation for the plugin](https://docs.moodle.org/34/en/Office365#Register_your_Moodle_instance_as_an_Application).</span></span>

### <a name="moodle-tab-for-microsoft-teams-information-flow"></a><span data-ttu-id="7e592-145">Pestaña Moodle para flujo de información de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="7e592-145">Moodle tab for Microsoft Teams information flow</span></span>

<img width="530px" src="~/assets/images/MoodleTabInformationFlow.png" title="Pestaña Moodle para flujo de información de Microsoft Teams" />

1. <span data-ttu-id="7e592-147">En la página del complemento de integración de 365 de Microsoft Office, seleccione la pestaña **configurar** .</span><span class="sxs-lookup"><span data-stu-id="7e592-147">From the Microsoft Office 365 Integration plugin page select the **Setup** tab.</span></span>
1. <span data-ttu-id="7e592-148">Haga clic en el botón **descargar script de PowerShell** y guárdelo en el equipo local.</span><span class="sxs-lookup"><span data-stu-id="7e592-148">Click the **Download PowerShell Script** button and save it to your local computer.</span></span>
1. <span data-ttu-id="7e592-149">Deberá preparar el script de PowerShell desde el archivo ZIP.</span><span class="sxs-lookup"><span data-stu-id="7e592-149">You'll need to prepare the PowerShell script from the ZIP file.</span></span> <span data-ttu-id="7e592-150">Para ello:</span><span class="sxs-lookup"><span data-stu-id="7e592-150">To do so:</span></span>
    * <span data-ttu-id="7e592-151">Descargue y extraiga el `Moodle-AzureAD-Powershell.zip` archivo.</span><span class="sxs-lookup"><span data-stu-id="7e592-151">Download and extract the `Moodle-AzureAD-Powershell.zip` file.</span></span>
    * <span data-ttu-id="7e592-152">Abra la carpeta extraída.</span><span class="sxs-lookup"><span data-stu-id="7e592-152">Open the extracted folder.</span></span>
    * <span data-ttu-id="7e592-153">Haga clic con el botón `Moodle-AzureAD-Script.ps1` derecho en el archivo y seleccione **propiedades**.</span><span class="sxs-lookup"><span data-stu-id="7e592-153">Right-click on the `Moodle-AzureAD-Script.ps1` file and select **Properties**.</span></span>
    * <span data-ttu-id="7e592-154">En la pestaña **General** de la ventana Propiedades, active la `Unblock` casilla situada junto al atributo **seguridad** en la parte inferior.</span><span class="sxs-lookup"><span data-stu-id="7e592-154">Under the **General** tab of the Properties window, check the `Unblock` box next to the **Security** attribute at the bottom.</span></span>
    * <span data-ttu-id="7e592-155">Haga clic en **Aceptar**.</span><span class="sxs-lookup"><span data-stu-id="7e592-155">Click **OK**.</span></span>
    * <span data-ttu-id="7e592-156">Copie la ruta de acceso del directorio de la carpeta extraída.</span><span class="sxs-lookup"><span data-stu-id="7e592-156">Copy the directory path of the extracted folder.</span></span>
1. <span data-ttu-id="7e592-157">A continuación, ejecutará PowerShell como administrador:</span><span class="sxs-lookup"><span data-stu-id="7e592-157">Next you'll run PowerShell as an administrator:</span></span>
    * <span data-ttu-id="7e592-158">Haga clic en Iniciar.</span><span class="sxs-lookup"><span data-stu-id="7e592-158">Click Start.</span></span>
    * <span data-ttu-id="7e592-159">Escriba PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7e592-159">Type PowerShell.</span></span>
    * <span data-ttu-id="7e592-160">Haga clic con el botón secundario en Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="7e592-160">Right-click Windows PowerShell.</span></span>
    * <span data-ttu-id="7e592-161">Haga clic en "ejecutar como administrador".</span><span class="sxs-lookup"><span data-stu-id="7e592-161">Click "Run as Administrator".</span></span>
1. <span data-ttu-id="7e592-162">Vaya al directorio descomprimido escribiendo `cd ...\...\Moodle-AzureAD-Powershell` donde `...\...` es la ruta de acceso al directorio.</span><span class="sxs-lookup"><span data-stu-id="7e592-162">Navigate to the unzipped directory by typing `cd ...\...\Moodle-AzureAD-Powershell` where `...\...` is the path to the directory.</span></span>
1. <span data-ttu-id="7e592-163">Ejecute el script de PowerShell de la siguiente manera:</span><span class="sxs-lookup"><span data-stu-id="7e592-163">Execute the PowerShell script by:</span></span>
    * <span data-ttu-id="7e592-164">Entrar `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span><span class="sxs-lookup"><span data-stu-id="7e592-164">Enter `Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`.</span></span>
    * <span data-ttu-id="7e592-165">Entrar `.\Moodle-AzureAD-Script.ps1`.</span><span class="sxs-lookup"><span data-stu-id="7e592-165">Enter `.\Moodle-AzureAD-Script.ps1`.</span></span>
    * <span data-ttu-id="7e592-166">Inicie sesión en su cuenta de administrador de O365 en la ventana emergente.</span><span class="sxs-lookup"><span data-stu-id="7e592-166">Login to your O365 Administrator account in the pop-up window.</span></span>
    * <span data-ttu-id="7e592-167">Escriba el nombre de la aplicación de Azure AD (ex.</span><span class="sxs-lookup"><span data-stu-id="7e592-167">Enter the name of the Azure AD Application (Ex.</span></span> <span data-ttu-id="7e592-168">Complemento moodle/Moodle).</span><span class="sxs-lookup"><span data-stu-id="7e592-168">Moodle/Moodle plugin).</span></span>
    * <span data-ttu-id="7e592-169">Escriba la dirección URL del servidor moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-169">Enter the URL of your Moodle server.</span></span>
    * <span data-ttu-id="7e592-170">Copie el **identificador** de la aplicación y la **clave de aplicación** generados por el script y guárdelos.</span><span class="sxs-lookup"><span data-stu-id="7e592-170">Copy the **Application ID** and **Application Key** generated by the script and save them.</span></span>
1. <span data-ttu-id="7e592-171">A continuación, tendrá que agregar el identificador y la clave al complemento Office 365 moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-171">Next you'll need to add the Id and Key to the Office 365 Moodle Plugin.</span></span> <span data-ttu-id="7e592-172">Vuelva a la página de administración del complemento (administración de sitios > complementos > integración de Microsoft Office 365).</span><span class="sxs-lookup"><span data-stu-id="7e592-172">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration).</span></span>
1. <span data-ttu-id="7e592-173">En la ficha **configurar** , agregue el **identificador de aplicación** y la clave de **aplicación** que copió anteriormente y, a continuación, haga clic en **Guardar cambios**.</span><span class="sxs-lookup"><span data-stu-id="7e592-173">On the **Setup** tab add the **Application Id** and **Application Key** you copied previously, then click **Save changes**.</span></span>
1. <span data-ttu-id="7e592-174">Una vez que se actualiza la página, ahora debería ver una sección nueva **elegir el método de conexión**.</span><span class="sxs-lookup"><span data-stu-id="7e592-174">Once the page refreshes you should now see a new section **Choose connection method**.</span></span> <span data-ttu-id="7e592-175">Haga clic en la casilla etiquetada **predeterminada** y, a continuación, haga clic en **Guardar cambios** nuevamente.</span><span class="sxs-lookup"><span data-stu-id="7e592-175">Click the checkbox labeled **Default** and then click **Save changes** again.</span></span>
1. <span data-ttu-id="7e592-176">Una vez que se actualice la página, verá otra sección nueva de administración de la sección **& información adicional**.</span><span class="sxs-lookup"><span data-stu-id="7e592-176">Once the page refreshes you will see another new section **Admin consent & additional information**.</span></span>
    * <span data-ttu-id="7e592-177">Haga clic en el vínculo **proporcionar consentimiento del administrador** , escriba sus credenciales de administrador global de Office3 365 y, a continuación, **acepte** para conceder los permisos.</span><span class="sxs-lookup"><span data-stu-id="7e592-177">Click the **Provide Admin Consent** link, enter your Office3 365 Global Administrator credentials, then **Accept** to grant the permissions.</span></span>
    * <span data-ttu-id="7e592-178">Junto al campo **inquilino de Azure ad** , haga clic en el botón **detectar** .</span><span class="sxs-lookup"><span data-stu-id="7e592-178">Next to the **Azure AD Tenant** field click the **Detect** button.</span></span>
    * <span data-ttu-id="7e592-179">Junto a la **dirección URL de OneDrive para la empresa** , haga clic en el botón **detectar** .</span><span class="sxs-lookup"><span data-stu-id="7e592-179">Next to the **OneDrive for Business URL** click the **Detect** button.</span></span>
    * <span data-ttu-id="7e592-180">Una vez rellenados los campos, haga clic de nuevo en el botón **Guardar cambios** .</span><span class="sxs-lookup"><span data-stu-id="7e592-180">Once the fields populate, click the **Save changes** button again.</span></span>
1. <span data-ttu-id="7e592-181">Haga clic en el botón **Actualizar** para comprobar la instalación y, a continuación, **guarde los cambios**.</span><span class="sxs-lookup"><span data-stu-id="7e592-181">Click the **Update** button to verify the installation, then **Save changes**.</span></span>
1. <span data-ttu-id="7e592-182">A continuación, tendrá que sincronizar los usuarios entre el servidor de Moodle y Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="7e592-182">Next you'll need to synchronize users between your Moodle server and Azure Active Directory.</span></span> <span data-ttu-id="7e592-183">En función de su entorno, puede seleccionar distintas opciones durante esta etapa.</span><span class="sxs-lookup"><span data-stu-id="7e592-183">Depending on your environment, you may select different options during this stage.</span></span> <span data-ttu-id="7e592-184">Tenga en cuenta que la configuración que establezca se ejecutará con cada moodle de cron (normalmente una vez al día) para mantener todo sincronizado. Para empezar:</span><span class="sxs-lookup"><span data-stu-id="7e592-184">Note that the configuration you set here will run with each Moodle cron run (typically once a day) to keep everything in sync. To get started:</span></span>
    * <span data-ttu-id="7e592-185">Cambiar a la **pestaña Configuración de sincronización**</span><span class="sxs-lookup"><span data-stu-id="7e592-185">Switch to the **Sync Settings tab**</span></span>
    * <span data-ttu-id="7e592-186">En la sección **sincronizar usuarios con Azure ad** , active las casillas correspondientes a su entorno.</span><span class="sxs-lookup"><span data-stu-id="7e592-186">In the **Sync users with Azure AD** section, select the checkboxes that apply to your environment.</span></span> <span data-ttu-id="7e592-187">Normalmente, debe seleccionar al menos:</span><span class="sxs-lookup"><span data-stu-id="7e592-187">Typically you would select at least:</span></span>
        * <span data-ttu-id="7e592-188">Crear cuentas en Moodle para los usuarios en Azure AD</span><span class="sxs-lookup"><span data-stu-id="7e592-188">Create accounts in Moodle for users in Azure AD</span></span>
        * <span data-ttu-id="7e592-189">Actualizar todas las cuentas de Moodle para los usuarios en Azure AD</span><span class="sxs-lookup"><span data-stu-id="7e592-189">Update all accounts in Moodle for users in Azure AD</span></span>
    * <span data-ttu-id="7e592-190">En la sección **restricción de creación de usuarios** puede configurar un filtro para limitar los usuarios de Azure ad que se sincronizarán con moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-190">In the **User Creation Restriction** section you can setup a filter to limit the Azure AD users that will by synced to Moodle.</span></span>
    * <span data-ttu-id="7e592-191">La sección de **asignación de campos de usuario** le permitirá personalizar Azure ad para Moodle la asignación de campos de Perfil de usuario.</span><span class="sxs-lookup"><span data-stu-id="7e592-191">The **User Field Mapping** section will allow you to customize the Azure AD to Moodle User Profile field mapping.</span></span>
    * <span data-ttu-id="7e592-192">En la sección de sincronización de Microsoft **Teams** , puede elegir crear automáticamente grupos (es decir, Teams) para algunos o todos los cursos de Moodle existentes.</span><span class="sxs-lookup"><span data-stu-id="7e592-192">In the **Teams Sync** section you can choose to automatically create Groups (i.e. Teams) for some, or all, of your existing Moodle courses.</span></span>
1. <span data-ttu-id="7e592-193">Para validar los trabajos de cron (y ejecutarlos manualmente si desea para la primera ejecución), haga clic en el vínculo de la **página Administración de tareas programadas** en la sección **sincronizar usuarios con Azure ad** .</span><span class="sxs-lookup"><span data-stu-id="7e592-193">To validate the cron jobs (and run them manually if you wish to for the first run) click the **Scheduled tasks management page** link in the **Sync users with Azure AD** section.</span></span> <span data-ttu-id="7e592-194">Esto le llevará a la página **tareas programadas** .</span><span class="sxs-lookup"><span data-stu-id="7e592-194">This will take you to the **Scheduled Tasks** page.</span></span>
    * <span data-ttu-id="7e592-195">Desplácese hacia abajo y busque el trabajo **sincronizar usuarios con el trabajo de Azure ad** y haga clic en **Ejecutar ahora**.</span><span class="sxs-lookup"><span data-stu-id="7e592-195">Scroll down and find the job **Sync users with Azure AD** job and click **Run now**.</span></span>
    * <span data-ttu-id="7e592-196">Si decide crear grupos basados en los cursos existentes, también puede ejecutar el trabajo **crear grupos de usuarios en Office 365** .</span><span class="sxs-lookup"><span data-stu-id="7e592-196">If you chose to create Groups based on existing courses, you can also run the **Create user groups in Office 365** job.</span></span>
1. <span data-ttu-id="7e592-197">Vuelva a la página de administración del complemento (administración de sitios > complementos > integración de Microsoft Office 365) y seleccione la página de configuración de Microsoft **Teams** .</span><span class="sxs-lookup"><span data-stu-id="7e592-197">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration) and select the **Teams Settings** page.</span></span> <span data-ttu-id="7e592-198">Deberá configurar algunas opciones de seguridad para habilitar la integración de aplicaciones de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="7e592-198">You'll need to configure some security settings to enable the Teams app integration.</span></span>
    * <span data-ttu-id="7e592-199">Para habilitar OpenID Connect, haga clic en el vínculo **Manage Authentication** y haga clic en el icono de ojo en la línea de **OpenID Connect** si está atenuada.</span><span class="sxs-lookup"><span data-stu-id="7e592-199">To enable OpenID Connect, click the **Manage Authentication** link, and click the eye icon on the **OpenId Connect** line if it is greyed out.</span></span>
    * <span data-ttu-id="7e592-200">A continuación, deberá habilitar la incrustación de Marcos.</span><span class="sxs-lookup"><span data-stu-id="7e592-200">Next you'll need to enable frame embedding.</span></span> <span data-ttu-id="7e592-201">Haga clic en el vínculo **Seguridad http** y, a continuación, haga clic en la casilla al lado de **permitir incrustar fotogramas**.</span><span class="sxs-lookup"><span data-stu-id="7e592-201">Click the **HTTP Security** link, then click the checkbox next to **Allow frame embedding**.</span></span>
    * <span data-ttu-id="7e592-202">El paso siguiente es habilitar los servicios web que habilitarán las características de la API de moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-202">The next step is to enable web services which will enable the Moodle API features.</span></span> <span data-ttu-id="7e592-203">Haga clic en el vínculo **características avanzadas** y, a continuación, asegúrese de que la casilla de verificación situada junto a **habilitar servicios web** está seleccionada.</span><span class="sxs-lookup"><span data-stu-id="7e592-203">Click the **Advanced Features** link, then make sure the checkbox next to **Enable web services** is checked.</span></span>
    * <span data-ttu-id="7e592-204">Por último, tendrá que habilitar los servicios externos para Office 365.</span><span class="sxs-lookup"><span data-stu-id="7e592-204">Finally you'll need to enabled the external services for Office 365.</span></span> <span data-ttu-id="7e592-205">Haga clic en el vínculo **servicios externos** :</span><span class="sxs-lookup"><span data-stu-id="7e592-205">Click the **External services** link then:</span></span>
        * <span data-ttu-id="7e592-206">Haga clic en **Editar** en la fila **moodle Office 365 webservices** .</span><span class="sxs-lookup"><span data-stu-id="7e592-206">Click **Edit** on the **Moodle Office 365 Webservices** row.</span></span>
        * <span data-ttu-id="7e592-207">Marque la casilla de verificación situada junto a **habilitado**y haga clic en **Guardar cambios** .</span><span class="sxs-lookup"><span data-stu-id="7e592-207">Mark the checkbox next to **Enabled**, then click **Save Changes**</span></span>
    * <span data-ttu-id="7e592-208">A continuación, tendrá que editar los permisos de usuario autenticado para permitirles crear tokens de servicio Web.</span><span class="sxs-lookup"><span data-stu-id="7e592-208">Next you'll need to edit your authenticated user permissions to allow them to create web service tokens.</span></span> <span data-ttu-id="7e592-209">Haga clic en el vínculo **Editar rol ' usuario autenticado '** .</span><span class="sxs-lookup"><span data-stu-id="7e592-209">Click the **Editing role 'Authenticated user'** link.</span></span> <span data-ttu-id="7e592-210">Desplácese hacia abajo y busque la opción **crear un token de servicio Web** y marque la casilla **permitir** .</span><span class="sxs-lookup"><span data-stu-id="7e592-210">Scroll down and find the **Create a web service token** capability and mark the **Allow** checkbox.</span></span>

## <a name="step-3-deploy-the-moodle-assistant-bot-to-azure"></a><span data-ttu-id="7e592-211">Paso 3: implementar el bot? moodle Assistant en Azure</span><span class="sxs-lookup"><span data-stu-id="7e592-211">Step 3: Deploy the Moodle Assistant Bot to Azure</span></span>

> [!VIDEO https://www.youtube.com/embed/gbkJxf8FlfY]

<span data-ttu-id="7e592-212">El bot? n gratuito de Moodle Assistant para Microsoft Teams ayuda a los profesores y alumnos a responder preguntas sobre sus cursos, tareas, calificaciones y otra información en moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-212">The free Moodle Assistant Bot for Microsoft Teams helps teachers and students answer questions about their courses, assignments, grades and other information in Moodle.</span></span> <span data-ttu-id="7e592-213">El bot también envía notificaciones de Moodle a alumnos y profesores directamente en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="7e592-213">The bot also sends Moodle notifications to students and teachers right within Teams.</span></span> <span data-ttu-id="7e592-214">Este bot es un proyecto de código abierto mantenido por Microsoft y está [disponible en github](https://github.com/microsoft/Moodle-Teams-Bot).</span><span class="sxs-lookup"><span data-stu-id="7e592-214">This bot is an open source project maintained by Microsoft, and is [available on GitHub](https://github.com/microsoft/Moodle-Teams-Bot).</span></span>

> [!NOTE]
> <span data-ttu-id="7e592-215">En esta sección, va a implementar recursos en su suscripción a Azure y todos los recursos se configurarán con el nivel **gratuito** .</span><span class="sxs-lookup"><span data-stu-id="7e592-215">In this section you will deploy resources to your Azure subscription, and all resources will be configured using the **free** tier.</span></span> <span data-ttu-id="7e592-216">Según el uso del bot, es posible que necesite escalar estos recursos.</span><span class="sxs-lookup"><span data-stu-id="7e592-216">Depending on the usage of your bot, you may need to scale these resources.</span></span>
> <span data-ttu-id="7e592-217">Si solo desea usar la pestaña moodle sin el bot, vaya al [paso 4](#step-4-deploy-your-microsoft-teams-app).</span><span class="sxs-lookup"><span data-stu-id="7e592-217">If you want to just use the Moodle tab without the bot, skip to [step 4](#step-4-deploy-your-microsoft-teams-app).</span></span>

### <a name="moodle-bot-information-flow"></a><span data-ttu-id="7e592-218">Flujo de información de bot de moodle</span><span class="sxs-lookup"><span data-stu-id="7e592-218">Moodle bot information flow</span></span>

<img width="530px" src="~/assets/images/MoodleBotInformationFlow.png" title="Moodle bot para el flujo de información de Microsoft Teams" />

<span data-ttu-id="7e592-220">Para instalar el bot, primero tendrá que registrarlo en la plataforma de [identidad de Microsoft](https://identity.microsoft.com/Landing).</span><span class="sxs-lookup"><span data-stu-id="7e592-220">To install the bot, you'll first need to register it on the [Microsoft Identity Platform](https://identity.microsoft.com/Landing).</span></span> <span data-ttu-id="7e592-221">Esto permite a su bot autenticarse en los puntos de conexión de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="7e592-221">This allows your Bot to authenticate against your Microsoft endpoints.</span></span> <span data-ttu-id="7e592-222">Para registrar el bot:</span><span class="sxs-lookup"><span data-stu-id="7e592-222">To register your bot:</span></span>

1. <span data-ttu-id="7e592-223">Vuelva a la página de administración del complemento (administración de sitios > complementos > integración de Microsoft Office 365) y seleccione la pestaña Configuración de Microsoft **Teams** .</span><span class="sxs-lookup"><span data-stu-id="7e592-223">Return to the plugin administration page (Site administration > Plugins > Microsoft Office 365 Integration) and select the **Teams Settings** tab.</span></span>
1. <span data-ttu-id="7e592-224">Haga clic en el vínculo **portal de registro de aplicaciones de Microsoft** y inicie sesión con el identificador de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="7e592-224">Click the **Microsoft Application Registration Portal** link and login with your Microsoft Id.</span></span>
1. <span data-ttu-id="7e592-225">Escriba un nombre para la aplicación (por ejemplo,</span><span class="sxs-lookup"><span data-stu-id="7e592-225">Enter a name for your app (Eg.</span></span> <span data-ttu-id="7e592-226">MoodleBot) y haga clic en el botón **crear** .</span><span class="sxs-lookup"><span data-stu-id="7e592-226">MoodleBot) and click the **Create** button.</span></span>
1. <span data-ttu-id="7e592-227">Copie el **identificador de aplicación** y péguelo en el campo ID de la **aplicación de bot** en la página **configuración del equipo** .</span><span class="sxs-lookup"><span data-stu-id="7e592-227">Copy the **Application Id** and paste it into the **Bot Application ID** field on the **Team Settings** page.</span></span>
1. <span data-ttu-id="7e592-228">Haga clic en el botón **generar nueva contraseña** .</span><span class="sxs-lookup"><span data-stu-id="7e592-228">Click the **Generate New Password** button.</span></span> <span data-ttu-id="7e592-229">Copie la contraseña generada y péguela en el campo **contraseña** de la aplicación de bot en la página **configuración del equipo** .</span><span class="sxs-lookup"><span data-stu-id="7e592-229">Copy the generated password and and paste it into the **Bot Application Password** field on the **Team Settings** page.</span></span>
1. <span data-ttu-id="7e592-230">Desplácese hasta la parte inferior del formulario y haga clic en **Guardar cambios**.</span><span class="sxs-lookup"><span data-stu-id="7e592-230">Scroll to the bottom of the form and click **Save Changes**.</span></span>

<span data-ttu-id="7e592-231">Ahora que ha generado el identificador de aplicación y la contraseña, es el momento de implementar el bot en Azure.</span><span class="sxs-lookup"><span data-stu-id="7e592-231">Now that you've generated your Application Id and Password, it's time to deploy your bot to Azure.</span></span> <span data-ttu-id="7e592-232">Haga clic en el botón **implementar en Azure** y rellene el formulario con la información necesaria (el identificador de la aplicación de bot, la contraseña de la aplicación bot y el secreto moodle se encuentran en la página **configuración del equipo** y la información de Azure se encuentra en la página **configuración** ).</span><span class="sxs-lookup"><span data-stu-id="7e592-232">Click on the **Deploy to Azure** button and fill out the form with the necessary information (the Bot Application Id, Bot Application Password and the Moodle Secret are on the **Team Settings** page, and the Azure information is on the **Setup** page).</span></span> <span data-ttu-id="7e592-233">Una vez que haya rellenado el formulario, haga clic en la casilla para aceptar los términos y condiciones y, a continuación, haga clic en el botón **comprar** (todos los recursos de Azure se implementan en el nivel gratuito).</span><span class="sxs-lookup"><span data-stu-id="7e592-233">Once you've got the form filled out, click the check box to agree to the terms and conditions then click the **Purchase** button (all Azure resources are deployed to the free tier).</span></span>

<span data-ttu-id="7e592-234">Una vez que los recursos hayan terminado de implementarse en Azure, tendrá que configurar el complemento Office 365 Moodle con su punto de conexión de mensajería.</span><span class="sxs-lookup"><span data-stu-id="7e592-234">Once the resources are finished deploying to Azure, you'll need to configure the Office 365 Moodle plugin with it's messaging endpoint.</span></span> <span data-ttu-id="7e592-235">En primer lugar, necesitará obtener el punto de conexión de su bot en Azure.</span><span class="sxs-lookup"><span data-stu-id="7e592-235">First, you'll need to get the endpoint from you Bot in Azure.</span></span> <span data-ttu-id="7e592-236">Para ello:</span><span class="sxs-lookup"><span data-stu-id="7e592-236">To do that:</span></span>

1. <span data-ttu-id="7e592-237">Si aún no lo ha hecho, inicie sesión en [Azure portal](https://portal.azure.com).</span><span class="sxs-lookup"><span data-stu-id="7e592-237">If you aren't already, log into the [Azure portal](https://portal.azure.com).</span></span>
2. <span data-ttu-id="7e592-238">En el panel izquierdo, seleccione **grupos de recursos**.</span><span class="sxs-lookup"><span data-stu-id="7e592-238">In the left pane select **Resource groups**.</span></span>
3. <span data-ttu-id="7e592-239">En la lista, seleccione el grupo de recursos que acaba de usar (o que creó) al implementar el bot.</span><span class="sxs-lookup"><span data-stu-id="7e592-239">From the list select the resource group you just used (or created) while deploying your Bot.</span></span>
4. <span data-ttu-id="7e592-240">Seleccione el recurso **Bot de webapp** de la lista de recursos del grupo.</span><span class="sxs-lookup"><span data-stu-id="7e592-240">Select the **WebApp Bot** resource from the list of resources in the group.</span></span>
5. <span data-ttu-id="7e592-241">Copie el **extremo de mensajería** de la sección **información general** .</span><span class="sxs-lookup"><span data-stu-id="7e592-241">Copy the **Messaging Endpoint** from the **Overview** section.</span></span>
6. <span data-ttu-id="7e592-242">En Moodle, abra la página **configuración del equipo** del complemento Office 365 moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-242">In Moodle, open the **Team Settings** page of your Office 365 Moodle Plugin.</span></span>
7. <span data-ttu-id="7e592-243">En el campo **punto de conexión del bot** , pegue la dirección URL que acaba de copiar y cambie los *mensajes* de Word a *webhook*.</span><span class="sxs-lookup"><span data-stu-id="7e592-243">In the **Bot Endpoint** field paste the URL you just copied and change the word *messages* to *webhook*.</span></span> <span data-ttu-id="7e592-244">La dirección URL ahora debería ser similar a`https://botname.azurewebsites.net/api/webhook`</span><span class="sxs-lookup"><span data-stu-id="7e592-244">The URL should now look like `https://botname.azurewebsites.net/api/webhook`</span></span>
8. <span data-ttu-id="7e592-245">Haga clic en **Guardar cambios**</span><span class="sxs-lookup"><span data-stu-id="7e592-245">Click **Save Changes**</span></span>
9. <span data-ttu-id="7e592-246">Una vez que los cambios se hayan guardado, vuelva a la pestaña **configuración del equipo** , haga clic en el botón **Descargar archivo de manifiesto** y guarde el paquete del manifiesto en el equipo (lo utilizará en la sección siguiente).</span><span class="sxs-lookup"><span data-stu-id="7e592-246">Once your changes have saved, go back to the **Team Settings** tab, click the **Download manifest file** button and save the manifest package to your computer (you'll use it in the next section).</span></span>

## <a name="step-4-deploy-your-microsoft-teams-app"></a><span data-ttu-id="7e592-247">Paso 4: implementar la aplicación de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="7e592-247">Step 4: Deploy your Microsoft Teams app</span></span>

> [!VIDEO https://www.youtube.com/embed/2rMb7gtM_ZM]

<span data-ttu-id="7e592-248">Ahora que ha implementado el bot en Azure y configurado para comunicarse con el servidor de Moodle, es el momento de implementar su aplicación de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="7e592-248">Now that you have your Bot deployed to Azure and configured to talk to your Moodle server, it's time to deploy your Microsoft Teams app.</span></span> <span data-ttu-id="7e592-249">Para ello, debe cargar el archivo de manifiesto que ha descargado de la página Configuración del equipo de complementos de Office 365 Moodle en el paso anterior.</span><span class="sxs-lookup"><span data-stu-id="7e592-249">To do this you'll load the manifest file you downloaded from the Office 365 Moodle Plugin Team Settings page in the previous step.</span></span>

<span data-ttu-id="7e592-250">Antes de poder instalar la aplicación, debe asegurarse de que las aplicaciones externas y la carga de aplicaciones están habilitadas.</span><span class="sxs-lookup"><span data-stu-id="7e592-250">Before you can install the app you'll need to make sure external apps and uploading of apps is enabled.</span></span> <span data-ttu-id="7e592-251">Para ello, puede seguir [estos pasos](https://docs.microsoft.com/microsoftteams/platform/get-started/get-started-tenant).</span><span class="sxs-lookup"><span data-stu-id="7e592-251">To do so you can follow [these steps](https://docs.microsoft.com/microsoftteams/platform/get-started/get-started-tenant).</span></span> <span data-ttu-id="7e592-252">Una vez que se haya asegurado de que las aplicaciones externas están habilitadas, puede seguir los pasos siguientes para implementar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="7e592-252">Once you've ensured that external apps are enabled, you can follow the steps below to deploy your app.</span></span>

1. <span data-ttu-id="7e592-253">Abra Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="7e592-253">Open Microsoft Teams.</span></span>
2. <span data-ttu-id="7e592-254">Haga clic en el icono de la **tienda** de la parte inferior izquierda de la barra de navegación.</span><span class="sxs-lookup"><span data-stu-id="7e592-254">Click the **Store** icon on the lower-left of the navigation bar.</span></span>
3. <span data-ttu-id="7e592-255">Haga clic en el vínculo **cargar una aplicación personalizada** de la lista de opciones.</span><span class="sxs-lookup"><span data-stu-id="7e592-255">Click the **Upload a custom app** link from the list of options.</span></span> <span data-ttu-id="7e592-256">*Nota:* Si ha iniciado sesión como una administración global, tendrá la opción de cargar la aplicación en la tienda de aplicaciones de su organización; de lo contrario, solo podrá cargar la aplicación para un equipo del que sea miembro.</span><span class="sxs-lookup"><span data-stu-id="7e592-256">*Note:* If you're logged in as a global administer you'll have the option of uploading the app to your organization's app store, otherwise you'll only be able to load the app for a team of which you are a member.</span></span>
4. <span data-ttu-id="7e592-257">Seleccione el `manifest.zip` paquete que ha descargado anteriormente y haga clic en **Guardar**.</span><span class="sxs-lookup"><span data-stu-id="7e592-257">Select the `manifest.zip` package you downloaded previously and click **Save**.</span></span> <span data-ttu-id="7e592-258">Si aún no ha descargado el paquete del manifiesto, puede hacerlo desde la pestaña **configuración del equipo** de la página Configuración del complemento en moodle.</span><span class="sxs-lookup"><span data-stu-id="7e592-258">If you haven't yet downloaded the manifest package, you can do so from the **Team Settings** tab of the plugin configuration page in Moodle.</span></span>

<span data-ttu-id="7e592-259">Ahora que se ha instalado la aplicación, puede Agregar la ficha a cualquier canal al que tenga acceso.</span><span class="sxs-lookup"><span data-stu-id="7e592-259">Now that you have the app installed you can add the tab to any channel that you have access to.</span></span> <span data-ttu-id="7e592-260">Para ello, navegue hasta el canal, haga clic **+** en el símbolo y seleccione la aplicación en la lista.</span><span class="sxs-lookup"><span data-stu-id="7e592-260">To do so navigate to the channel, click the **+** symbol and select your app from the list.</span></span> <span data-ttu-id="7e592-261">Siga las instrucciones para terminar de agregar la ficha del curso moodle a un canal.</span><span class="sxs-lookup"><span data-stu-id="7e592-261">Follow the prompts to finish adding your Moodle course tab to a channel.</span></span>

<span data-ttu-id="7e592-262">Y eso es todo.</span><span class="sxs-lookup"><span data-stu-id="7e592-262">That's it!</span></span> <span data-ttu-id="7e592-263">Usted y su equipo ahora pueden empezar a trabajar con los cursos de Moodle directamente desde Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="7e592-263">You and your team, can now start working with your Moodle courses directly from Microsoft Teams.</span></span>

<span data-ttu-id="7e592-264">Para compartir las solicitudes o comentarios de las características con nosotros, visite nuestra [Página de voz de usuario](https://microsoftteams.uservoice.com/forums/916759-moodle).</span><span class="sxs-lookup"><span data-stu-id="7e592-264">To share any feature requests or feedback with us, please visit our [User Voice page](https://microsoftteams.uservoice.com/forums/916759-moodle).</span></span>
