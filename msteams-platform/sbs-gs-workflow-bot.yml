### YamlMime:Tutorial
title: Creación de un bot de flujo de trabajo de Teams
metadata:
  title: Creación de un bot de flujo de trabajo de Teams
  description: Con este módulo de aprendizaje, aprenderá a crear un bot de flujo de trabajo en Microsoft Teams con la característica controlador de acciones de tarjeta adaptable.
  audience: Developer
  level: Beginner
  ms.date: 28/09/2022
  ms.topic: interactive-tutorial
  nextTutorialHref: toolkit/add-capability.md
  nextTutorialTitle: Adición de funcionalidades a aplicaciones de Teams
  ms.custom: mvc
  ms.localizationpriority: none
  ms.openlocfilehash: 39ffa9600836fe58f243140c8a5379006df339eb
  ms.sourcegitcommit: 6926cf5eee55d5047c11ca13afc7f6f23e270396
  ms.translationtype: MT
  ms.contentlocale: es-ES
  ms.lasthandoff: 10/27/2022
  ms.locfileid: "68741007"
items:
- durationInMinutes: 1
  content: >
    El bot de flujo de trabajo permite a los usuarios interactuar con una tarjeta adaptable habilitada por la característica de controlador de acciones tarjeta adaptable en la aplicación de bot de flujo de trabajo. Al responder a la acción de tarjeta adaptable desencadenada, se completa un flujo de trabajo secuencial.

    Cuando se obtiene una tarjeta adaptable, proporciona uno o varios botones en la tarjeta para la entrada. También puede llamar a una API y, a continuación, enviar otra tarjeta adaptable en la conversación en respuesta a la acción de la tarjeta.

    En este tutorial, aprenderá lo siguiente:
      * Cómo crear un bot de flujo de trabajo con Teams Toolkit.
      * Acerca de la estructura de directorios de la aplicación.
      * Personalice la instalación del bot con la respuesta de la tarjeta adaptable.

    Puede ver la siguiente salida:


    :::image type="content" source="./assets/images/sbs-workflow-bot/sbs-workflow-bot-final-output.png" alt-text="Salida del bot de flujo de trabajo.":::
- title: Requisitos previos
  durationInMinutes: 1
  content: "Esta es una lista de las herramientas que necesita para compilar e implementar las aplicaciones.\n\n| &nbsp; | Instalar | Para usar |\n| --- | --- | --- |\n| **Required** | &nbsp; | &nbsp; |\n| &nbsp; | [Visual Studio Code](https://code.visualstudio.com/download) | JavaScript o TypeScript, entornos de compilación. Use la versión más reciente. |\n| &nbsp; | [Kit de herramientas de Teams](#install-the-teams-toolkit) | Extensión de Microsoft Visual Studio Code que crea un scaffolding de proyecto para la aplicación. Use la versión 4.0.0.|\n| &nbsp; | [Node.js](https://nodejs.org/en/download/) | Entorno de tiempo de ejecución de JavaScript de back-end. Use la versión 14 o 16.|\n| &nbsp; | [Microsoft Teams](https://www.microsoft.com/microsoft-teams/download-app) | Microsoft Teams para colaborar con todos los usuarios con los que trabaja a través de aplicaciones para chat, reuniones, llamadas y todo en un solo lugar.|\n| &nbsp; | [Microsoft&nbsp; Edge](https://www.microsoft.com/edge) (recomendado) o [Google Chrome](https://www.google.com/chrome/) | Un explorador con herramientas de desarrollo. |\n| &nbsp; | [Cuenta de desarrollador de Microsoft 365](/microsoftteams/platform/concepts/build-and-test/prepare-your-o365-tenant) | Acceso a la cuenta de Teams con los permisos adecuados para instalar una aplicación. |\n> [!NOTE]\n> La guía se prueba en las versiones 4.0.0 y 14 y 16 del kit de herramientas de Teams y Nodejs. Los pasos de esta guía pueden funcionar con otras versiones, pero no se han probado.\n\n## <a name=\"prepare-development-environment\"></a>Preparación del entorno de desarrollo\nDespués de instalar las herramientas necesarias, configure el entorno de desarrollo.\n\n### <a name=\"install-the-teams-toolkit\"></a>Instalación del kit de herramientas de Teams\nEl kit de herramientas de Teams ayuda a simplificar el proceso de desarrollo con herramientas para aprovisionar e implementar recursos en la nube para la aplicación, publicar en la tienda de Teams y mucho más. \n\nPuede usar el kit de herramientas con Visual Studio Code o CLI (interfaz de línea de comandos) denominada `TeamsFx`.\n\n# <a name=\"visual-studio-code\"></a>[Visual Studio Code](#tab/vscode)\n\n1. Abra Visual Studio Code y seleccione **Extensiones** (**Ctrl+Mayús+X** / **⌘⇧-X** o **Ver extensiones de >**).\n1. En el cuadro de búsqueda, escriba **Kit de herramientas de Teams**.\n1. Seleccione **Instalar** junto al kit de herramientas de Teams.\n   :::image type=\"content\" source=\"~/assets/images/sbs-command-bot/teams-toolkit.png\" alt-text=\"Ilustración que muestra la instalación de la extensión teams Toolkit.\":::\n\nLa ilustración del kit de herramientas de :::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/prerequisites/hw-teams-toolkit-sidebar-icon.png\" alt-text=\"Teams muestra el icono del kit de herramientas de Teams en Visual Studio Code barra lateral.\"::: aparece en la barra lateral de Visual Studio Code después de instalarla.\n    \nTambién puede encontrar el kit de herramientas de Teams en [Visual Studio Code Marketplace](https://marketplace.visualstudio.com/items?itemName=TeamsDevApp.ms-teams-vscode-extension).\n\n# <a name=\"command-line\"></a>[Línea de comandos](#tab/cli)\nPara instalar la CLI de TeamsFx, use el administrador de `npm` paquetes:\n``` bash\nnpm install -g @microsoft/teamsfx-cli\n```\nEn función de la configuración, es posible que tenga que usar `sudo` para instalar la CLI:\n``` bash\nsudo npm install -g --unsafe-perm @microsoft/teamsfx-cli\n```\nEs más común en sistemas Linux y macOS.\nAsegúrese de agregar la memoria caché global npm a la ruta de acceso. Este paso se realiza normalmente como parte del instalador de Node.js.  \nPuede usar la CLI con el `teamsfx` comando . Compruebe que el comando funciona ejecutando `teamsfx -h`.\n\n> [!NOTE]\n> Antes de ejecutar TeamsFx en terminales de PowerShell, asegúrese de habilitar la directiva de ejecución **firmada remota** para PowerShell.\n\n## <a name=\"set-up-your-teams-development-tenant\"></a>Configuración del inquilino de desarrollo de Teams\nUn **inquilino** es como un espacio o un contenedor donde chatea, comparte archivos y ejecuta reuniones para su organización en Teams. También puede transferir localmente y probar la aplicación.\n### <a name=\"check-for-sideloading-option\"></a>Comprobación de la opción de instalación local\nDespués de crear la aplicación, debe cargarla en Teams sin distribuirla. Esto se conoce como transferencia local. Inicie sesión en su cuenta de Microsoft 365 para ver esta opción.\n> [!NOTE]\n> La instalación local es necesaria para obtener una vista previa y probar aplicaciones en el entorno local de Teams. Habilite la instalación local para obtener una vista previa y probar la aplicación en Teams localmente.\n\n¿Ya tiene un inquilino y tiene acceso de administrador? ¡Vamos a comprobar si realmente lo haces!\nPara comprobar la transferencia local de aplicaciones en Teams:\n1. En el cliente de Teams, seleccione **Almacenar** .\n1. Seleccione **Administrar las aplicaciones**.\n1. Seleccione **Publicar una aplicación**.\n1. Busque la opción **Cargar una aplicación personalizada**. Si ve la opción, la instalación de prueba de aplicaciones está habilitada.\n    :::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/prerequisites/upload-custom-app.png\" alt-text=\"Ilustración que muestra la opción para cargar una aplicación personalizada en Teams.\":::\n    > [!NOTE]\n    > Póngase en contacto con el administrador de Teams si no tiene la opción de cargar una aplicación personalizada.\n### <a name=\"create-a-free-teams-developer-tenant-optional\"></a>Creación de un inquilino para desarrolladores de Teams gratuito (opcional)\nSi no tiene una cuenta de desarrollador de Teams, puede obtenerla de forma gratuita. ¡Únete al programa para desarrolladores de Microsoft 365!\n1. Vaya al [programa para desarrolladores de Microsoft 365](https://developer.microsoft.com/microsoft-365/dev-program).\n1. Seleccione **Unirse ahora** y siga las instrucciones en pantalla.\n1. Seleccione **Setup E5 subscription (Configurar suscripción E5** ) en la pantalla de bienvenida.\n1. Configurar la cuenta de administrador. Una vez finalizada, se muestra la pantalla siguiente.\n   :::image type=\"content\" source=\"~/assets/images/teams-toolkit-v2/prerequisites/microsoft-365.png\" alt-text=\"Microsoft\":::\n1. Inicie sesión en Teams con la nueva cuenta de administrador. Ahora debe tener la opción **Cargar una aplicación personalizada** .\n"
- title: Compilación de un bot de flujo de trabajo
  durationInMinutes: 5
  content: "Para compilar un bot de flujo de trabajo mediante Visual Studio Code, siga estos pasos:\n1. Abrir Visual Studio Code.\n1. Seleccione el icono **kit de herramientas de** :::image type=\"icon\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/teams-toolkit-sidebar-icon.png\"::: Teams en la barra lateral de Visual Studio Code.\n1. Seleccione **Crear una nueva aplicación de Teams** .\n  \n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-create.png\" alt-text=\"crear una nueva aplicación de Teams en el panel lateral.\":::\n\n1. Seleccione **la opción Crear una nueva** aplicación de Teams para crear una aplicación mediante teams toolkit.\n\n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-teams-app.png\" alt-text=\" seleccione la opción crear una nueva aplicación de Teams.\":::\n\n1. En **Aplicaciones de Teams basadas en escenarios**, seleccione **Bot de flujo de** trabajo como la funcionalidad que desea compilar en la aplicación.\n\n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-capabilities-workflow.png\" alt-text=\" seleccionar la opción Bot de flujo de trabajo para las funcionalidades\" lightbox=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-capabilities-workflow.png\":::\n\n1. Seleccione **TypeScript** como lenguaje de programación.\n\n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-program-lang.png\" alt-text=\" seleccionar script de tipo de opción para el lenguaje de programación\":::\n\n1. Seleccione **Carpeta predeterminada** para almacenar la carpeta raíz del proyecto en la ubicación predeterminada.\n  \n    > [!NOTE]\n    > También puede cambiar la ubicación predeterminada seleccionando **Examinar...**\n    \n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-workspace-folder.png\" alt-text=\" seleccionar para agregar la carpeta del área de trabajo\":::\n   \n1. Escriba un nombre adecuado para la aplicación, como el bot de flujo de trabajo, como el nombre de la aplicación.\n    > [!NOTE]\n    > Asegúrese de usar solo caracteres alfanuméricos en el nombre de la aplicación.\n    \n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-app-name.png\" alt-text=\"escriba el nombre de la aplicación.\":::\n\n1. Seleccione **Introducir**.\n    \n1. El bot de flujo de trabajo se crea en unos segundos y puede ver el scaffolding.\n    \n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-scaffolding1.png\" alt-text=\"la aplicación se crea con el scaffolding visible en el panel lateral\":::\n\n1. Seleccione **el icono Ejecutar y depurar** :::image type=\"icon\" source=\"../msteams-platform/assets/images/teams-toolkit-v2/run-debug-icon.png\"::: en la barra lateral Visual Studio Code.\n\n1. Seleccione **Depurar (Edge)** o **Depurar (Chrome)** en la lista desplegable.\n\n   :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-local-debug1.png\" alt-text=\"la aplicación se crea con el scaffolding visible en el panel lateral\":::    \n\n1. Seleccione **Iniciar depuración**.\n\n1. Seleccione **Agregar**.\n    :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-add-app.png\" alt-text=\"seleccione agregar para agregar la aplicación de bot de flujo de trabajo.\":::\n### <a name=\"take-tour-of-source-code\"></a>Realizar un recorrido por el código fuente\nTeams Toolkit proporciona componentes para crear una aplicación. Después de crear el proyecto, puede ver las carpetas y los archivos del proyecto en el área Explorador de Visual Studio Code para JavaScript/TypeScript. \n\n:::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-scaffolding2.png\" alt-text=\"seleccione agregar para agregar la aplicación de bot de flujo de trabajo.\":::\n\n\nEl bot creado es un proyecto de TeamsFx normal que contiene las siguientes carpetas:\n\n| Folder | Contenido |\n|   ---  |   ---   |\n|`.fx`   | Configuración de nivel de proyecto, configuraciones e información del entorno.|\n|`.vscode`| Visual Studio Code archivos para la depuración local |\n|`bot`   | Código fuente de la aplicación de Teams del bot de flujo de trabajo.|\n|`templates`| Plantillas para el manifiesto de aplicación de Teams y para aprovisionar recursos de Azure.|\n\nLa implementación principal del bot de Teams está en `bot/` la carpeta . Los siguientes archivos de `bot/` la carpeta proporcionan la lógica de negocios para el bot de flujo de trabajo.\nEstos archivos se pueden actualizar para ajustarse a los requisitos de la lógica de negocios. La implementación predeterminada proporciona un punto de partida para ayudarle a empezar:\n\n| Folder | Contenido |\n|   ---  |   ---   |\n|`src/index.js(ts)` | Punto de entrada de la aplicación y `restify` controladores para el bot de flujo de trabajo.|\n|`src/adaptiveCards/helloworldCommand.json` | Una tarjeta adaptable generada que se envía a Teams. |\n|`src/commands/helloworldCommandHandler.js(ts)` | Responde al mensaje de comando.|\n|`src/cardActions/doStuffActionHandler.js(ts)` | Responde a la acción de la `doStuff` tarjeta.|\n|`src/cardModels.js(ts)` | Modelo de datos de tarjeta adaptable predeterminado.|\n\nEl archivo siguiente implementa el bot de flujo de trabajo principal en Bot Framework; por lo general, no es necesario personalizar este archivo:\n\n| Archivo o carpeta | Contenido |\n|   ---  |   ---   |\n| `src/internal/initialize.js(ts)`| Inicialización de la aplicación y control de mensajes del bot.|\n\nLos siguientes archivos son archivos relacionados con el proyecto, por lo general no es necesario personalizar estos archivos:\n\n| Archivo o carpeta | Contenido |\n|   ---  |   ---   |\n| `.gitignore` | Archivo de omisión de Git|\n| `package.json` | Archivo de paquete NPM|\n"
- title: Interacción con el bot de flujo de trabajo
  durationInMinutes: 2
  content: "Puede interactuar con el bot en Teams mediante el envío de un comando helloWorld. Después de ejecutar esta plantilla, obtendrá una respuesta y, a continuación, seleccione el **bot de flujo de trabajo** y **Entrar**.\n :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-action-response.png\" alt-text=\"seleccione agregar para agregar la aplicación de bot de flujo de trabajo.\":::\n\nRecibirá la siguiente respuesta de comando en Tarjeta adaptable: :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-debug-output1.png\" alt-text=\"seleccione Agregar para agregar la aplicación de bot de flujo de trabajo\":::.\n\nA continuación, puede seleccionar el botón **DoStuff** para invocar la acción, que responde con la siguiente tarjeta adaptable actualizada: :::image type=\"content\" source=\"./assets/images/sbs-workflow-bot/sbs-workflow-bot-debug-output2.png\" alt-text=\"seleccione Agregar para agregar la aplicación de bot de flujo de trabajo\":::.\n   \n"
- title: Desafío completo
  durationInMinutes: 1
  content: >
    ¿Se te ocurrió algo como esto?


    :::image type="content" source="./assets/images/sbs-workflow-bot/sbs-workflow-bot-debug-output2.png" alt-text="seleccione agregar para agregar la aplicación de bot de flujo de trabajo.":::
- content: Ha completado el tutorial para empezar a trabajar con el bot de flujo de trabajo para Microsoft Teams.
