---
title: ¿Qué son los módulos de tareas?
author: clearab
description: Agregar experiencias emergentes modales para recopilar o mostrar información a los usuarios desde Microsoft Teams aplicaciones
localization_priority: Normal
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: 23157e30ce25c2dfa1c21e7f5c4ddd4f735b660f
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/19/2021
ms.locfileid: "52566847"
---
# <a name="task-modules"></a><span data-ttu-id="0ef7b-103">Módulos de tareas</span><span class="sxs-lookup"><span data-stu-id="0ef7b-103">Task modules</span></span>

<span data-ttu-id="0ef7b-104">Los módulos de tareas le permiten crear experiencias emergentes modales en su aplicación de Teams.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-104">Task modules allow you to create modal popup experiences in your Teams application.</span></span> <span data-ttu-id="0ef7b-105">Dentro del elemento emergente puede ejecutar su propio código HTML/JavaScript personalizado, mostrar un widget basado en youtube o vídeo de Microsoft Stream o mostrar `<iframe>` una [tarjeta adaptable.](/adaptive-cards/)</span><span class="sxs-lookup"><span data-stu-id="0ef7b-105">Inside the popup you can run your own custom HTML/JavaScript code, show an `<iframe>`-based widget such as a YouTube or Microsoft Stream video or display an [Adaptive card](/adaptive-cards/).</span></span> <span data-ttu-id="0ef7b-106">Son especialmente útiles para iniciar y completar tareas o para mostrar información enriquecid como vídeos o Power BI paneles.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-106">They are especially useful for initiating and completing tasks or displaying rich information like videos or Power BI dashboards.</span></span> <span data-ttu-id="0ef7b-107">Una experiencia emergente suele ser más natural para los usuarios que inician y completan tareas en comparación con una pestaña o una experiencia de bot basada en conversación.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-107">A popup experience is often more natural for users initiating and completing tasks compared to a tab or a conversation-based bot experience.</span></span>

<span data-ttu-id="0ef7b-108">Los módulos de tareas se crean sobre la base Microsoft Teams pestañas; son esencialmente una pestaña dentro de una ventana emergente.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-108">Task modules build on the foundation of Microsoft Teams tabs; they are essentially a tab inside a popup window.</span></span> <span data-ttu-id="0ef7b-109">Usan el mismo SDK, por lo que si has creado una pestaña ya estás en el 90 % de la forma de crear un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-109">They use the same SDK, so if you've built a tab you are already 90% of the way to being able to create a task module.</span></span>

<span data-ttu-id="0ef7b-110">Los módulos de tarea pueden invocarse de tres maneras:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-110">Task modules can be invoked in three ways:</span></span>

* <span data-ttu-id="0ef7b-111">**Pestañas** de canal o personales: con el SDK de Microsoft Teams Tabs puede invocar módulos de tareas desde botones, vínculos o menús de la pestaña. Esto se trata detalladamente [aquí.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span><span class="sxs-lookup"><span data-stu-id="0ef7b-111">**Channel or personal tabs**: Using the Microsoft Teams Tabs SDK you can invoke task modules from buttons, links or menus on your tab. [This is covered in detail here.](~/task-modules-and-cards/task-modules/task-modules-tabs.md)</span></span>
* <span data-ttu-id="0ef7b-112">**Bots: botones** [en las tarjetas](~/task-modules-and-cards/cards/cards-reference.md) enviadas desde el bot.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-112">**Bots**: Buttons on [cards](~/task-modules-and-cards/cards/cards-reference.md) sent from your bot.</span></span> <span data-ttu-id="0ef7b-113">Esto es especialmente útil cuando no necesita que todos los usuarios de un canal vean lo que está haciendo con un bot.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-113">This is particularly useful when you don't need everyone in a channel to see what you are doing with a bot.</span></span> <span data-ttu-id="0ef7b-114">Por ejemplo, cuando los usuarios responden a un sondeo de un canal, no resulta útil ver un registro de ese sondeo que se está creando.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-114">For example, when having users respond to a poll in a channel it's not terribly useful to see a record of that poll being created.</span></span> [<span data-ttu-id="0ef7b-115">Esto se trata detalladamente aquí.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-115">This is covered in detail here.</span></span>](~/task-modules-and-cards/task-modules/task-modules-bots.md)
* <span data-ttu-id="0ef7b-116">**Fuera de Teams desde un vínculo profundo:** también puede crear direcciones URL para invocar un módulo de tareas desde cualquier lugar.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-116">**Outside of Teams from a deep link**: You can also create URLs to invoke a task module from anywhere.</span></span> [<span data-ttu-id="0ef7b-117">Esto se trata detalladamente aquí.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-117">This is covered in detail here.</span></span>](#task-module-deep-link-syntax)

## <a name="task-module-looks-like"></a><span data-ttu-id="0ef7b-118">El módulo de tareas tiene el aspecto de</span><span class="sxs-lookup"><span data-stu-id="0ef7b-118">Task module looks like</span></span>

<span data-ttu-id="0ef7b-119">Este es el aspecto de un módulo de tareas cuando se invoca desde un bot (sin los rectángulos de colores y los círculos numerados, por supuesto):</span><span class="sxs-lookup"><span data-stu-id="0ef7b-119">Here's what a task module looks like when invoked from a bot (without the colored rectangles and numbered circles, of course):</span></span>

![Ejemplo del módulo de tareas](~/assets/images/task-module/task-module-example.png)

<span data-ttu-id="0ef7b-121">Vamos a recorrerlo:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-121">Let's walk through it:</span></span>

1. <span data-ttu-id="0ef7b-122">Icono de la [ `color` aplicación](~/resources/schema/manifest-schema.md#icons).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-122">Your app's [`color` icon](~/resources/schema/manifest-schema.md#icons).</span></span>
1. <span data-ttu-id="0ef7b-123">Nombre de la [ `short` aplicación](~/resources/schema/manifest-schema.md#name).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-123">Your app's [`short` name](~/resources/schema/manifest-schema.md#name).</span></span>
1. <span data-ttu-id="0ef7b-124">El título del módulo de tareas especificado en la `title` propiedad del [objeto TaskInfo](#the-taskinfo-object).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-124">The task module's title specified in the `title` property of the [TaskInfo object](#the-taskinfo-object).</span></span>
1. <span data-ttu-id="0ef7b-125">Botón cerrar/cancelar del módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-125">The task module's close/cancel button.</span></span> <span data-ttu-id="0ef7b-126">Si el usuario presiona esto, la aplicación recibirá un `err` evento como se describe [aquí](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-126">If the user presses this, your app will receive an `err` event as described [here](~/task-modules-and-cards/task-modules/task-modules-tabs.md#example-submitting-the-result-of-a-task-module).</span></span>
    > [!Note]
    > <span data-ttu-id="0ef7b-127">Actualmente no es posible detectar este evento cuando se invoca un módulo de tareas desde un bot.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-127">It is currently not possible to detect this event when a task module is invoked from a bot.</span></span>
1. <span data-ttu-id="0ef7b-128">El rectángulo azul es el lugar donde aparece la página web si está cargando su propia página web mediante la propiedad `url` del [objeto TaskInfo](#the-taskinfo-object).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-128">The blue rectangle is the where your web page appears if you are loading your own web page using the `url` property of the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="0ef7b-129">Encontrará más detalles en la sección de tamaño [del módulo de](#task-module-sizing) tareas que se muestra a continuación.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-129">More detail is in the [task module sizing](#task-module-sizing) section below.</span></span>
1. <span data-ttu-id="0ef7b-130">Si va a mostrar una tarjeta adaptable a través de la propiedad del objeto TaskInfo, el relleno se agrega automáticamente, de lo contrario tendrá que `card` [controlarlo usted mismo.](#task-module-css-for-htmljavascript-task-modules) [](#the-taskinfo-object)</span><span class="sxs-lookup"><span data-stu-id="0ef7b-130">If you are displaying an Adaptive card via the `card` property of the [TaskInfo object](#the-taskinfo-object) the padding is added for you, otherwise you'll need to [handle this yourself](#task-module-css-for-htmljavascript-task-modules).</span></span>
1. <span data-ttu-id="0ef7b-131">Aquí se representarán los botones de tarjeta adaptable.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-131">Adaptive card buttons will render here.</span></span> <span data-ttu-id="0ef7b-132">Si usa su propia página, debe crear sus propios botones.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-132">If you're using your own page you must create your own buttons.</span></span>

## <a name="overview-of-invoking-and-dismissing-task-modules"></a><span data-ttu-id="0ef7b-133">Información general sobre invocar y descartar módulos de tareas</span><span class="sxs-lookup"><span data-stu-id="0ef7b-133">Overview of invoking and dismissing task modules</span></span>

<span data-ttu-id="0ef7b-134">Los módulos de tareas se pueden invocar desde pestañas, bots o vínculos profundos y lo que aparece en uno puede ser HTML o una tarjeta adaptable, por lo que hay mucha flexibilidad en términos de cómo se invocan y cómo tratar el resultado de la interacción de un usuario.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-134">Task modules can be invoked from tabs, bots or deep links and what appears in one can be either HTML or an Adaptive card, so there's a lot of flexibility in terms of how they are invoked and how to deal with the result of a user's interaction.</span></span> <span data-ttu-id="0ef7b-135">En la tabla siguiente se resume cómo funciona esto:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-135">The table below summarizes how this works:</span></span>

| <span data-ttu-id="0ef7b-136">**Invocado a través de...**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-136">**Invoked via...**</span></span> | <span data-ttu-id="0ef7b-137">**El módulo de tareas es HTML/JavaScript**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-137">**Task module is HTML/JavaScript**</span></span> | <span data-ttu-id="0ef7b-138">**El módulo de tareas es tarjeta adaptable**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-138">**Task module is Adaptive card**</span></span> |
| --- | --- | --- |
| <span data-ttu-id="0ef7b-139">**JavaScript en una pestaña**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-139">**JavaScript in a tab**</span></span> | <span data-ttu-id="0ef7b-140">1. Use la función Teams SDK de cliente `tasks.startTask()` con una función de devolución de llamada `submitHandler(err, result)` opcional.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-140">1. Use the Teams client SDK function `tasks.startTask()` with an optional `submitHandler(err, result)` callback function.</span></span> <br/><br/> <span data-ttu-id="0ef7b-141">2. En el código del módulo de tareas, cuando el usuario haya terminado, llame a la función Teams SDK con `tasks.submitTask()` un `result` objeto como parámetro.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-141">2. In the task module code, when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <span data-ttu-id="0ef7b-142">Si se especificó una devolución de llamada `submitHandler` en , Teams la llama con como `tasks.startTask()` `result` parámetro.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-142">If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with `result` as a parameter.</span></span><br/><br/> <span data-ttu-id="0ef7b-143">3. Si se produjo un error al invocar , se llama a la `tasks.startTask()` función con una cadena en su `submitHandler` `err` lugar.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-143">3. If there was an error when invoking `tasks.startTask()`, the `submitHandler` function is called with an `err` string instead.</span></span> <br/><br/> <span data-ttu-id="0ef7b-144">4. También puede especificar un al llamar; en `completionBotId` `teams.startTask()` ese caso, se envía al bot en `result` su lugar.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-144">4. You can also specify a `completionBotId` when calling `teams.startTask()` - in that case `result` is sent to the bot instead.</span></span> | <span data-ttu-id="0ef7b-145">1. Llame a la función Teams SDK de cliente con un objeto TaskInfo y que contenga el JSON para que la tarjeta adaptable se muestre en el elemento emergente `tasks.startTask()` del módulo de [](#the-taskinfo-object) `TaskInfo.card` tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-145">1. Call the Teams client SDK function `tasks.startTask()` with a [TaskInfo object](#the-taskinfo-object) and `TaskInfo.card` containing the JSON for the Adaptive card to show in the task module popup.</span></span> <br/><br/> <span data-ttu-id="0ef7b-146">2. Si se especificó una devolución de llamada en , Teams la llama con una cadena si se produjo un error al invocar o si el usuario cierra el elemento emergente del módulo de tareas con la X en la parte superior `submitHandler` `tasks.startTask()` `err` `tasks.startTask()` derecha.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-146">2. If a `submitHandler` callback was specified in `tasks.startTask()`, Teams calls it with an `err` string if there was an error when invoking `tasks.startTask()` or if the user closes the task module popup using the X at the upper right.</span></span> <br/><br/> <span data-ttu-id="0ef7b-147">3. Si el usuario presiona un botón Action.Submit, su `data` objeto se devuelve como el valor de `result` .</span><span class="sxs-lookup"><span data-stu-id="0ef7b-147">3. If the user presses an Action.Submit button then its `data` object is returned as the value of `result`.</span></span> |
| <span data-ttu-id="0ef7b-148">**Botón de tarjeta bot**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-148">**Bot card button**</span></span> | <span data-ttu-id="0ef7b-149">1. Los botones de tarjeta bot, según el tipo de botón, pueden invocar módulos de tareas de dos maneras: una dirección URL de vínculo profundo o mediante el envío de un `task/fetch` mensaje.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-149">1. Bot card buttons, depending on the type of button, can invoke task modules in two ways: a deep link URL or by sending a `task/fetch` message.</span></span> <span data-ttu-id="0ef7b-150">Vea a continuación cómo funcionan las direcciones URL de vínculo profundo.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-150">See below for how deep link URLs work.</span></span> <br/><br/> <span data-ttu-id="0ef7b-151">2. Si la acción del botón es ( tipo de botón para tarjetas adaptables), se envía un evento (un HTTP POST debajo de las portadas) al bot y el bot responde al POST con `type` `task/fetch` HTTP `Action.Submit` `task/fetch invoke` 200 [](#the-taskinfo-object)y al cuerpo de la respuesta que contiene un contenedor alrededor del objeto TaskInfo .</span><span class="sxs-lookup"><span data-stu-id="0ef7b-151">2. If the button's action `type` is `task/fetch` (`Action.Submit` button type for Adaptive cards), a `task/fetch invoke` event (an HTTP POST under the covers) is sent to the bot, and the bot responds to the POST with HTTP 200 and the response body containing a wrapper around the [TaskInfo object](#the-taskinfo-object).</span></span> <span data-ttu-id="0ef7b-152">Esto se explica detalladamente al [invocar un módulo de tareas mediante task/fetch](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-through-taskfetch).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-152">This is explained in detail in [invoking a task module via task/fetch](~/task-modules-and-cards/task-modules/task-modules-bots.md#invoking-a-task-module-through-taskfetch).</span></span><br/><br/> <span data-ttu-id="0ef7b-153">3. Teams muestra el módulo de tareas; cuando el usuario haya terminado, llame a la Teams SDK `tasks.submitTask()` con un objeto como `result` parámetro.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-153">3. Teams displays the task module; when the user is finished, call the Teams SDK function `tasks.submitTask()` with a `result` object as a parameter.</span></span> <br/><br/> <span data-ttu-id="0ef7b-154">4. El bot recibe un `task/submit invoke` mensaje que contiene el `result` objeto.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-154">4. The bot receives a `task/submit invoke` message that contains the `result` object.</span></span> <span data-ttu-id="0ef7b-155">Tiene tres formas diferentes de responder al mensaje: no hacer nada (la tarea se completó correctamente), mostrar un mensaje al usuario en una ventana emergente o invocar otra ventana del módulo de tareas (es decir, crear una experiencia de `task/submit` asistente).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-155">You have three different ways to respond to the `task/submit` message: by doing nothing (the task completed successfully), by displaying a message to the user in a popup window, or by invoking another task module window (i.e. creating a wizard-like experience).</span></span> <span data-ttu-id="0ef7b-156">Estas tres opciones se debaten más en [la discusión detallada sobre tarea/envío](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-156">These three options are discussed more [in the detailed discussion on task/submit](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> | <span data-ttu-id="0ef7b-157">1. Al igual que los botones de las tarjetas de Bot Framework, los botones de las tarjetas adaptables admiten dos formas de invocar módulos de tareas: las direcciones URL de vínculo profundo con botones y el uso de `Action.openUrl` `task/fetch` `Action.Submit` botones.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-157">1. Like buttons on Bot Framework cards, buttons on Adaptive cards support two ways of invoking task modules: deep link URLs with `Action.openUrl` buttons, and via `task/fetch` using `Action.Submit` buttons.</span></span> <br/><br/> <span data-ttu-id="0ef7b-158">2. Los módulos de tareas con tarjetas adaptables funcionan de forma muy similar al caso HTML/JavaScript (vea la izquierda).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-158">2. Task modules with Adaptive cards work very similarly to the HTML/JavaScript case (see left).</span></span> <span data-ttu-id="0ef7b-159">La principal diferencia es que, dado que no hay JavaScript cuando se usan tarjetas adaptables, no hay forma de llamar a `tasks.submitTask()` .</span><span class="sxs-lookup"><span data-stu-id="0ef7b-159">The major difference is that since there's no JavaScript when you're using Adaptive cards, there's no way to call `tasks.submitTask()`.</span></span> <span data-ttu-id="0ef7b-160">En su lugar, Teams toma el objeto y lo devuelve como la carga `data` `Action.Submit` del `task/submit` evento, como se describe [aquí](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-160">Instead, Teams takes the `data` object from `Action.Submit` and returns it as the payload of in the `task/submit` event, as described [here](~/task-modules-and-cards/task-modules/task-modules-bots.md#the-flexibility-of-tasksubmit).</span></span> |
| <span data-ttu-id="0ef7b-161">**URL de vínculo profundo**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-161">**Deep link URL**</span></span> <br/>[<span data-ttu-id="0ef7b-162">sintaxis URL</span><span class="sxs-lookup"><span data-stu-id="0ef7b-162">URL syntax</span></span>](#task-module-deep-link-syntax) | <span data-ttu-id="0ef7b-163">1. Teams invoca el módulo de tareas; la dirección URL que aparece dentro `<iframe>` del especificado en el parámetro del vínculo `url` profundo.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-163">1. Teams invokes the task module; the URL that appears inside the `<iframe>` specified in the `url` parameter of the deep link.</span></span> <span data-ttu-id="0ef7b-164">No hay `submitHandler` devolución de llamada.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-164">There is no `submitHandler` callback.</span></span> <br/><br/> <span data-ttu-id="0ef7b-165">2. Dentro del JavaScript de la página del módulo de tareas, llame para cerrarlo con un objeto como parámetro, lo mismo que al invocarlo desde una pestaña o un botón de tarjeta `tasks.submitTask()` `result` de bot.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-165">2. Within the JavaScript of the page in the task module, call `tasks.submitTask()` to close it with a `result` object as a parameter, the same as when invoking it from a tab or a bot card button.</span></span> <span data-ttu-id="0ef7b-166">Sin embargo, la lógica de finalización es ligeramente diferente.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-166">Completion logic is slightly different, however.</span></span> <span data-ttu-id="0ef7b-167">Si la lógica de finalización reside en el cliente (es decir, si no hay bot) no hay devolución de llamada, por lo que cualquier lógica de finalización debe estar en el código anterior a la llamada `submitHandler` a `tasks.submitTask()` .</span><span class="sxs-lookup"><span data-stu-id="0ef7b-167">If your completion logic resides on the client (i.e. if there is no bot) there is no `submitHandler` callback, so any completion logic must be in the code preceding the call to `tasks.submitTask()`.</span></span> <span data-ttu-id="0ef7b-168">Los errores de invocación solo se notifican a través de la consola.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-168">Invocation errors are only reported via the console.</span></span> <span data-ttu-id="0ef7b-169">Si tiene un bot, puede especificar un parámetro en el vínculo profundo para `completionBotId` enviar el objeto a través de un `result` `task/submit` evento.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-169">If you have a bot, then you can specify a `completionBotId` parameter in the deep link to send the `result` object via a `task/submit` event.</span></span> | <span data-ttu-id="0ef7b-170">1. Teams invoca el módulo de tareas; el cuerpo de la tarjeta JSON de la tarjeta adaptable se especifica como un valor codificado en URL del `card` parámetro del vínculo profundo.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-170">1. Teams invokes the task module; the JSON card body of the Adaptive card is specified as a URL-encoded value of the `card` parameter of the deep link.</span></span> <br/><br/> <span data-ttu-id="0ef7b-171">2. El usuario cierra el módulo de tareas haciendo clic en la X en la parte superior derecha del módulo de tareas o presionando un `Action.Submit` botón en la tarjeta.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-171">2. The user closes the task module by clicking on the X at the upper right of the task module or by pressing an `Action.Submit` button on the card.</span></span> <span data-ttu-id="0ef7b-172">Dado que no hay que llamar, debe tener un bot al que enviar el valor de `submitHandler` los campos de tarjeta adaptable.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-172">Since there is no `submitHandler` to call, you must have a bot to send the value of the Adaptive card fields to.</span></span> <span data-ttu-id="0ef7b-173">Use el parámetro en el vínculo profundo para especificar el bot al que `completionBotId` se enviarán los datos a través de un `task/submit invoke` evento.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-173">You use the `completionBotId` parameter in the deep link to specify the bot to send the data to via a `task/submit invoke` event.</span></span> |

## <a name="the-taskinfo-object"></a><span data-ttu-id="0ef7b-174">El objeto TaskInfo</span><span class="sxs-lookup"><span data-stu-id="0ef7b-174">The TaskInfo object</span></span>

<span data-ttu-id="0ef7b-175">El `TaskInfo` objeto contiene los metadatos de un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-175">The `TaskInfo` object contains the metadata for a task module.</span></span> <span data-ttu-id="0ef7b-176">La definición de objeto está a continuación.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-176">The object definition is below.</span></span> <span data-ttu-id="0ef7b-177">Debes **definir** para `url` un iFrame incrustado o para una tarjeta `card` adaptable.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-177">You **must** define either `url` for an embedded iFrame or `card` for an Adaptive Card.</span></span>

| <span data-ttu-id="0ef7b-178">Atributo</span><span class="sxs-lookup"><span data-stu-id="0ef7b-178">Attribute</span></span> | <span data-ttu-id="0ef7b-179">Tipo</span><span class="sxs-lookup"><span data-stu-id="0ef7b-179">Type</span></span> | <span data-ttu-id="0ef7b-180">Descripción</span><span class="sxs-lookup"><span data-stu-id="0ef7b-180">Description</span></span> |
| --- | --- | --- |
| `title` | <span data-ttu-id="0ef7b-181">string</span><span class="sxs-lookup"><span data-stu-id="0ef7b-181">string</span></span> | <span data-ttu-id="0ef7b-182">Aparece debajo del nombre de la aplicación y a la derecha del icono de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-182">Appears below the app name and to the right of the app icon.</span></span> |
| `height` | <span data-ttu-id="0ef7b-183">número o cadena</span><span class="sxs-lookup"><span data-stu-id="0ef7b-183">number or string</span></span> | <span data-ttu-id="0ef7b-184">Puede ser un número que representa el alto del módulo de tareas en píxeles, `small` o , `medium` o `large` .</span><span class="sxs-lookup"><span data-stu-id="0ef7b-184">This can be a number representing the task module's height in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="0ef7b-185">[Vea a continuación cómo se controlan el alto y el ancho](#task-module-sizing).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-185">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `width` | <span data-ttu-id="0ef7b-186">número o cadena</span><span class="sxs-lookup"><span data-stu-id="0ef7b-186">number or string</span></span> | <span data-ttu-id="0ef7b-187">Puede ser un número que representa el ancho del módulo de tareas en píxeles, `small` o , `medium` o `large` .</span><span class="sxs-lookup"><span data-stu-id="0ef7b-187">This can be a number representing the task module's width in pixels, or `small`, `medium`, or `large`.</span></span> <span data-ttu-id="0ef7b-188">[Vea a continuación cómo se controlan el alto y el ancho](#task-module-sizing).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-188">[See below for how height and width are handled](#task-module-sizing).</span></span> |
| `url` | <span data-ttu-id="0ef7b-189">string</span><span class="sxs-lookup"><span data-stu-id="0ef7b-189">string</span></span> | <span data-ttu-id="0ef7b-190">Dirección URL de la página cargada como dentro `<iframe>` del módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-190">The URL of the page loaded as an `<iframe>` inside the task module.</span></span> <span data-ttu-id="0ef7b-191">El dominio de la dirección URL debe estar en la matriz [validDomains](~/resources/schema/manifest-schema.md#validdomains) de la aplicación en el manifiesto de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-191">The URL's domain must be in the app's [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in your app's manifest.</span></span> |
| `card` | <span data-ttu-id="0ef7b-192">Tarjeta adaptable o datos adjuntos de una tarjeta de bot de tarjeta adaptable</span><span class="sxs-lookup"><span data-stu-id="0ef7b-192">Adaptive card or an Adaptive card bot card attachment</span></span> | <span data-ttu-id="0ef7b-193">Json para que la tarjeta adaptable aparezca en el módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-193">The JSON for the Adaptive card to appear in the task module.</span></span> <span data-ttu-id="0ef7b-194">Si invocas desde un bot, tendrás que usar el JSON de tarjeta adaptable en un objeto Bot `attachment` Framework.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-194">If you're invoking from a bot, you'll need to use the Adaptive card JSON in a Bot Framework `attachment` object.</span></span> <span data-ttu-id="0ef7b-195">Desde una pestaña, usarás solo una tarjeta adaptable.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-195">From a tab you'll use just an Adaptive Card.</span></span> [<span data-ttu-id="0ef7b-196">Este es un ejemplo.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-196">Here's an example.</span></span>](#adaptive-card-or-adaptive-card-bot-card-attachment) |
| `fallbackUrl` | <span data-ttu-id="0ef7b-197">string</span><span class="sxs-lookup"><span data-stu-id="0ef7b-197">string</span></span> | <span data-ttu-id="0ef7b-198">Si un cliente no admite la característica del módulo de tareas, esta dirección URL se abre en una pestaña del explorador.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-198">If a client does not support the task module feature, this URL is opened in a browser tab.</span></span> |
| `completionBotId` | <span data-ttu-id="0ef7b-199">string</span><span class="sxs-lookup"><span data-stu-id="0ef7b-199">string</span></span> | <span data-ttu-id="0ef7b-200">Especifica un identificador de aplicación de bot al que enviar el resultado de la interacción del usuario con el módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-200">Specifies a bot App ID to send the result of the user's interaction with the task module to.</span></span> <span data-ttu-id="0ef7b-201">Si se especifica, el bot recibirá un `task/submit invoke` evento con un objeto JSON en la carga del evento.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-201">If specified, the bot will receive a `task/submit invoke` event with a JSON object in the event payload.</span></span> |

> [!NOTE]
> <span data-ttu-id="0ef7b-202">La característica del módulo de tareas requiere que los dominios de las direcciones URL que quiera cargar se incluyan en la matriz en el `validDomains` manifiesto de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-202">The task module feature requires that the domains of any URLs you want to load are included in the `validDomains` array in your app's manifest.</span></span>

## <a name="task-module-sizing"></a><span data-ttu-id="0ef7b-203">Tamaño del módulo de tareas</span><span class="sxs-lookup"><span data-stu-id="0ef7b-203">Task module sizing</span></span>

<span data-ttu-id="0ef7b-204">El uso de números enteros `TaskInfo.width` para `TaskInfo.height` y establecerá el alto y el ancho en píxeles.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-204">Using integers for `TaskInfo.width` and `TaskInfo.height` will set the height and width in pixels.</span></span> <span data-ttu-id="0ef7b-205">Sin embargo, según el tamaño de la ventana y la resolución de pantalla del equipo, se reducirán proporcionalmente mientras se mantiene la relación de aspecto (ancho/alto).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-205">However, depending on the size of the Team's window and screen resolution they will be reduced proportionally while maintaining the aspect ratio (width/height).</span></span>

<span data-ttu-id="0ef7b-206">Si y son , o el tamaño del rectángulo rojo de la imagen anterior es una proporción del espacio `TaskInfo.width` `TaskInfo.height` `"small"` `"medium"` `"large"` disponible: 20%, 50%, 60% para `width` y 20%, 50%, 66% para `height` .</span><span class="sxs-lookup"><span data-stu-id="0ef7b-206">If `TaskInfo.width` and `TaskInfo.height` are `"small"`, `"medium"` or `"large"` the size of the red rectangle in the picture above is a proportion of the available space: 20%, 50%, 60% for `width` and 20%, 50%, 66% for `height`.</span></span>

<span data-ttu-id="0ef7b-207">Los módulos de tareas invocados desde una pestaña se pueden cambiar dinámicamente.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-207">Task modules invoked from a tab can be dynamically resized.</span></span> <span data-ttu-id="0ef7b-208">Después de llamar, puede llamar a donde las propiedades height y width del `tasks.startTask()` `tasks.updateTask(newSize)` objeto newSize se ajustan a la especificación TaskInfo (ex.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-208">After calling `tasks.startTask()` you can call `tasks.updateTask(newSize)` where height and width properties on the newSize object conform to the TaskInfo spec (ex.</span></span> <span data-ttu-id="0ef7b-209">`{ height: 'medium', width: 'medium' }`).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-209">`{ height: 'medium', width: 'medium' }`).</span></span>

## <a name="task-module-css-for-htmljavascript-task-modules"></a><span data-ttu-id="0ef7b-210">CSS del módulo de tareas para módulos de tareas HTML/JavaScript</span><span class="sxs-lookup"><span data-stu-id="0ef7b-210">Task module CSS for HTML/JavaScript task modules</span></span>

<span data-ttu-id="0ef7b-211">Los módulos de tareas basados en HTML/JavaScript tienen acceso a todo el área del módulo de tareas debajo del encabezado.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-211">HTML/JavaScript-based task modules have access to the entire area of the task module below the header.</span></span> <span data-ttu-id="0ef7b-212">Aunque esto ofrece una gran flexibilidad, si quieres que el relleno alrededor de los bordes se alinee con los elementos de encabezado y evite barras de desplazamiento innecesarias, tendrás que proporcionar el CSS correcto.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-212">While that offers a great deal of flexibility, if you want padding around the edges to align with the header elements and avoid unnecessary scrollbars you'll need to provide the right CSS.</span></span> <span data-ttu-id="0ef7b-213">Estos son algunos ejemplos para algunos casos de uso.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-213">Here are some examples for a few use cases.</span></span>

### <a name="example-1---youtube-video"></a><span data-ttu-id="0ef7b-214">Ejemplo 1: vídeo de YouTube</span><span class="sxs-lookup"><span data-stu-id="0ef7b-214">Example 1 - YouTube video</span></span>

<span data-ttu-id="0ef7b-215">YouTube ofrece la posibilidad de insertar vídeos en páginas web.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-215">YouTube offers the ability to embed videos on web pages.</span></span> <span data-ttu-id="0ef7b-216">Con una página web de código auxiliar simple es fácil mostrar esto en un módulo de tareas:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-216">Using a simple stub web page it's easy to show this in a task module:</span></span>

![Vídeo de YouTube](~/assets/images/task-module/youtube-example.png)

<span data-ttu-id="0ef7b-218">Este es el CÓDIGO HTML de esta página, sin css:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-218">Here's the HTML for this page, without the CSS:</span></span>

```html
<!DOCTYPE html>
<html lang="en">
<head>
  ⋮
</head>
<body>
  <div id="embed-container">
    <iframe width="1000" height="700" src="https://www.youtube.com/embed/rd0Rd8w3FZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
  </div>
</body>
</html>
```

<span data-ttu-id="0ef7b-219">El CSS tiene este aspecto:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-219">The CSS looks like this:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 95%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

### <a name="example-2---powerapp"></a><span data-ttu-id="0ef7b-220">Ejemplo 2: PowerApp</span><span class="sxs-lookup"><span data-stu-id="0ef7b-220">Example 2 - PowerApp</span></span>

<span data-ttu-id="0ef7b-221">También puede usar el mismo enfoque para insertar una PowerApp.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-221">You can use the same approach to embed a PowerApp as well.</span></span> <span data-ttu-id="0ef7b-222">Como el alto/ancho de cualquier PowerApp individual es personalizable, es posible que deba ajustar el alto y el ancho para lograr la presentación deseada.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-222">As the height/width of any individual PowerApp is customizable, you may need to adjust the height and width to achieve your desired presentation.</span></span>

![PowerApp de administración de activos](~/assets/images/task-module/powerapp-example.png)

```html
<iframe width="720" height="520" src="https://web.powerapps.com/webplayer/iframeapp?source=iframe&screenColor=rgba(104,101,171,1)&appId=/providers/Microsoft.PowerApps/apps/xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"></iframe>
```

<span data-ttu-id="0ef7b-224">Y el CSS es:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-224">And the CSS is:</span></span>

```css
#embed-container iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 94%;
    height: 95%;
    padding-left: 20px;
    padding-right: 20px;
    padding-top: 10px;
    padding-bottom: 10px;
    border-style: none;
}
```

## <a name="adaptive-card-or-adaptive-card-bot-card-attachment"></a><span data-ttu-id="0ef7b-225">Datos adjuntos de tarjeta adaptable o de bot de tarjeta adaptable</span><span class="sxs-lookup"><span data-stu-id="0ef7b-225">Adaptive card or Adaptive card bot card attachment</span></span>

<span data-ttu-id="0ef7b-226">Como hemos indicado anteriormente, en función de cómo invojes a la tarjeta, tendrás que usar una tarjeta adaptable o un archivo adjunto de tarjeta de bot de tarjeta adaptable (que es solo una tarjeta adaptable envuelta en un objeto de datos `card` adjuntos).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-226">As we noted above, depending on how you're invoking your `card` you'll need to use either an Adaptive card, or an Adaptive card bot card attachment (which is just an Adaptive card wrapped in an attachment object).</span></span>

<span data-ttu-id="0ef7b-227">Cuando invocas desde una pestaña, tendrás que usar una tarjeta adaptable.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-227">When you're invoking from a tab, you'll need to use an adaptive card.</span></span> <span data-ttu-id="0ef7b-228">Este es un ejemplo muy sencillo:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-228">Here's a very simple example:</span></span>

```json
{
    "type": "AdaptiveCard",
    "body": [
        {
            "type": "TextBlock",
            "text": "Here is a ninja cat:"
        },
        {
            "type": "Image",
            "url": "http://adaptivecards.io/content/cats/1.png",
            "size": "Medium"
        }
    ],
    "version": "1.0"
}
```

<span data-ttu-id="0ef7b-229">Cuando invocas desde un bot, tendrás que usar un archivo adjunto de tarjeta de bot de tarjeta adaptable como en el ejemplo siguiente:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-229">When you're invoking from a bot you'll need to use an Adaptive card bot card attachment as in the example below:</span></span>

```json
{
    "contentType": "application/vnd.microsoft.card.adaptive",
    "content": {
        "type": "AdaptiveCard",
        "body": [
            {
                "type": "TextBlock",
                "text": "Here is a ninja cat:"
            },
            {
                "type": "Image",
                "url": "http://adaptivecards.io/content/cats/1.png",
                "size": "Medium"
            }
        ],
        "version": "1.0"
    }
}
```

<span data-ttu-id="0ef7b-230">Tendrás que recordar si estás invocando un módulo de tareas que contiene una tarjeta adaptable desde un bot o una pestaña.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-230">You'll need to remember whether you are invoking a task module containing an Adaptive card from a bot or a tab.</span></span>

## <a name="task-module-deep-link-syntax"></a><span data-ttu-id="0ef7b-231">Sintaxis de vínculo profundo del módulo de tareas</span><span class="sxs-lookup"><span data-stu-id="0ef7b-231">Task module deep link syntax</span></span>

<span data-ttu-id="0ef7b-232">Un vínculo profundo del módulo de tareas es solo una serialización del [objeto TaskInfo](#the-taskinfo-object) con otras dos partes de información, y `APP_ID` opcionalmente: `BOT_APP_ID`</span><span class="sxs-lookup"><span data-stu-id="0ef7b-232">A task module deep link is just a serialization of the [TaskInfo object](#the-taskinfo-object) with two other pieces of information, `APP_ID` and optionally the `BOT_APP_ID`:</span></span>

`https://teams.microsoft.com/l/task/APP_ID?url=<TaskInfo.url>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

`https://teams.microsoft.com/l/task/APP_ID?card=<TaskInfo.card>&height=<TaskInfo.height>&width=<TaskInfo.width>&title=<TaskInfo.title>&completionBotId=BOT_APP_ID`

<span data-ttu-id="0ef7b-233">Vea [Objeto TaskInfo para](#the-taskinfo-object) los tipos de datos y los valores permitidos para , , , y `<TaskInfo.url>` `<TaskInfo.card>` `<TaskInfo.height>` `<TaskInfo.width>` `<TaskInfo.title>` .</span><span class="sxs-lookup"><span data-stu-id="0ef7b-233">See [TaskInfo object](#the-taskinfo-object) for the data types and allowable values for `<TaskInfo.url>`, `<TaskInfo.card>`, `<TaskInfo.height>`, `<TaskInfo.width>`, and `<TaskInfo.title>`.</span></span>

> [!TIP]
> <span data-ttu-id="0ef7b-234">Asegúrese de codificar el vínculo profundo en dirección URL, especialmente al usar el `card` parámetro (por ejemplo, la función de [ `encodeURI()` JavaScript](https://www.w3schools.com/jsref/jsref_encodeURI.asp)).</span><span class="sxs-lookup"><span data-stu-id="0ef7b-234">Be sure to URL encode the deep link, especially when using the `card` parameter (for example, JavaScript's [`encodeURI()` function](https://www.w3schools.com/jsref/jsref_encodeURI.asp)).</span></span>

<span data-ttu-id="0ef7b-235">Esta es la información sobre `APP_ID` y `BOT_APP_ID` :</span><span class="sxs-lookup"><span data-stu-id="0ef7b-235">Here's the information on `APP_ID` and `BOT_APP_ID`:</span></span>

| <span data-ttu-id="0ef7b-236">Valor</span><span class="sxs-lookup"><span data-stu-id="0ef7b-236">Value</span></span> | <span data-ttu-id="0ef7b-237">Tipo</span><span class="sxs-lookup"><span data-stu-id="0ef7b-237">Type</span></span> | <span data-ttu-id="0ef7b-238">¿Necesario?</span><span class="sxs-lookup"><span data-stu-id="0ef7b-238">Required?</span></span> | <span data-ttu-id="0ef7b-239">Descripción</span><span class="sxs-lookup"><span data-stu-id="0ef7b-239">Description</span></span> |
| --- | --- | --- | --- |
| `APP_ID` | <span data-ttu-id="0ef7b-240">string</span><span class="sxs-lookup"><span data-stu-id="0ef7b-240">string</span></span> | <span data-ttu-id="0ef7b-241">Sí</span><span class="sxs-lookup"><span data-stu-id="0ef7b-241">Yes</span></span> | <span data-ttu-id="0ef7b-242">El [identificador](~/resources/schema/manifest-schema.md#id) de la aplicación que invoca el módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-242">The [id](~/resources/schema/manifest-schema.md#id) of the app invoking the task module.</span></span> <span data-ttu-id="0ef7b-243">La [matriz validDomains](~/resources/schema/manifest-schema.md#validdomains) del manifiesto `APP_ID` para debe contener el dominio para if está en la dirección `url` `url` URL.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-243">The [validDomains array](~/resources/schema/manifest-schema.md#validdomains) in the manifest for `APP_ID` must contain the domain for `url` if `url` is in the URL.</span></span> <span data-ttu-id="0ef7b-244">(El identificador de la aplicación ya se conoce cuando se invoca un módulo de tareas desde una pestaña o un bot, por lo que no se incluye en `TaskInfo` .)</span><span class="sxs-lookup"><span data-stu-id="0ef7b-244">(The app ID is already known when a task module is invoked from a tab or a bot, which is why it's not included in `TaskInfo`.)</span></span> |
| `BOT_APP_ID` | <span data-ttu-id="0ef7b-245">string</span><span class="sxs-lookup"><span data-stu-id="0ef7b-245">string</span></span> | <span data-ttu-id="0ef7b-246">No</span><span class="sxs-lookup"><span data-stu-id="0ef7b-246">No</span></span> | <span data-ttu-id="0ef7b-247">Si se especifica un valor para, el objeto se envía a través de `completionBotId` un mensaje al bot `result` `task/submit invoke` especificado.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-247">If a value for `completionBotId` is specified, the `result` object is sent via a a `task/submit invoke` message to the specified bot.</span></span> <span data-ttu-id="0ef7b-248">`BOT_APP_ID` debe especificarse como bot en el manifiesto de la aplicación, es decir, no puede enviarlo a ningún bot.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-248">`BOT_APP_ID` must be specified as a bot in the app's manifest, i.e. you can't just send it to any bot.</span></span> |

<span data-ttu-id="0ef7b-249">Ten en cuenta que es válido para y para ser el mismo, y en muchos casos será si una aplicación tiene un bot, ya que se recomienda usarlo como identificador de una aplicación si hay `APP_ID` `BOT_APP_ID` uno.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-249">Note that it's valid for `APP_ID` and `BOT_APP_ID` to be the same, and in many cases will be if an app has a bot since it's recommended to use that as an app's ID if there is one.</span></span>

## <a name="keyboard-and-accessibility-guidelines"></a><span data-ttu-id="0ef7b-250">Directrices de teclado y accesibilidad</span><span class="sxs-lookup"><span data-stu-id="0ef7b-250">Keyboard and accessibility guidelines</span></span>

<span data-ttu-id="0ef7b-251">Con los módulos de tareas basados en HTML/JavaScript, es tu responsabilidad garantizar que el módulo de tareas de la aplicación se pueda usar con un teclado.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-251">With HTML/JavaScript-based task modules it is your responsibility to ensure your app's task module can be used with a keyboard.</span></span> <span data-ttu-id="0ef7b-252">Los programas de lector de pantalla también dependen de la capacidad de navegar con el teclado.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-252">Screen reader programs also depend on the ability to navigate using the keyboard.</span></span> <span data-ttu-id="0ef7b-253">Como cuestión práctica, esto significa dos cosas:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-253">As a practical matter this means two things:</span></span>

1. <span data-ttu-id="0ef7b-254">Usar el [atributo tabindex](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) en las etiquetas HTML para controlar qué elementos se pueden centrar y si/dónde participa en la navegación secuencial del teclado (normalmente con las teclas <kbd>Tab</kbd> y <kbd>Mayús-Tab).</kbd></span><span class="sxs-lookup"><span data-stu-id="0ef7b-254">Using the [tabindex attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex) in your HTML tags to control which elements can be focused and if/where it participates in sequential keyboard navigation (usually with the <kbd>Tab</kbd> and <kbd>Shift-Tab</kbd> keys).</span></span>
2. <span data-ttu-id="0ef7b-255">Control de <kbd>la clave Esc</kbd> en JavaScript para el módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-255">Handling the <kbd>Esc</kbd> key in the JavaScript for your task module.</span></span> <span data-ttu-id="0ef7b-256">Este es un ejemplo de código que muestra cómo hacerlo:</span><span class="sxs-lookup"><span data-stu-id="0ef7b-256">Here's a code sample showing how to do this:</span></span>

  ```javascript
  // Handle the Esc key
  document.onkeyup = function(event) {
  if ((event.key === 27) || (event.key === "Escape")) {
    microsoftTeams.submitTask(null); // this will return an err object to the completionHandler()
    }
  }
  ```

<span data-ttu-id="0ef7b-257">Microsoft Teams garantizará que la navegación del teclado funcione correctamente desde el encabezado del módulo de tareas al HTML y viceversa.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-257">Microsoft Teams will ensure that keyboard navigation works properly from the task module header into your HTML and vice-versa.</span></span>

## <a name="code-sample"></a><span data-ttu-id="0ef7b-258">Ejemplo de código</span><span class="sxs-lookup"><span data-stu-id="0ef7b-258">Code sample</span></span>
|<span data-ttu-id="0ef7b-259">**Nombre de ejemplo**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-259">**Sample name**</span></span> | <span data-ttu-id="0ef7b-260">**Descripción**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-260">**Description**</span></span> | <span data-ttu-id="0ef7b-261">**.NET**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-261">**.NET**</span></span> | <span data-ttu-id="0ef7b-262">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="0ef7b-262">**Node.js**</span></span>|
|----------------|-----------------|--------------|----------------|
|<span data-ttu-id="0ef7b-263">Ejemplo de módulo de tareas (Bots-V4)</span><span class="sxs-lookup"><span data-stu-id="0ef7b-263">Task module sample (Bots-V4)</span></span> | <span data-ttu-id="0ef7b-264">Ejemplos para crear módulos de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-264">Samples for creating task modules.</span></span> |[<span data-ttu-id="0ef7b-265">View</span><span class="sxs-lookup"><span data-stu-id="0ef7b-265">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/app-task-module/csharp)|[<span data-ttu-id="0ef7b-266">View</span><span class="sxs-lookup"><span data-stu-id="0ef7b-266">View</span></span>](https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/app-task-module/nodejs)| 
|<span data-ttu-id="0ef7b-267">Ejemplo de módulo de tareas (Tabs + Bots-V3)</span><span class="sxs-lookup"><span data-stu-id="0ef7b-267">Task module sample (Tabs + Bots-V3)</span></span> | <span data-ttu-id="0ef7b-268">Ejemplos para crear módulos de tareas.</span><span class="sxs-lookup"><span data-stu-id="0ef7b-268">Samples for creating task modules.</span></span> |[<span data-ttu-id="0ef7b-269">View</span><span class="sxs-lookup"><span data-stu-id="0ef7b-269">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/csharp_dotnetcore/54.teams-task-module)|[<span data-ttu-id="0ef7b-270">View</span><span class="sxs-lookup"><span data-stu-id="0ef7b-270">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/javascript_nodejs/54.teams-task-module)|

## <a name="see-also"></a><span data-ttu-id="0ef7b-271">Consulte también</span><span class="sxs-lookup"><span data-stu-id="0ef7b-271">See also</span></span>

* [<span data-ttu-id="0ef7b-272">Solicitar permisos de dispositivo</span><span class="sxs-lookup"><span data-stu-id="0ef7b-272">Request device permissions</span></span>](../concepts/device-capabilities/native-device-permissions.md)
* [<span data-ttu-id="0ef7b-273">Integrar capacidades multimedia</span><span class="sxs-lookup"><span data-stu-id="0ef7b-273">Integrate media capabilities</span></span>](../concepts/device-capabilities/mobile-camera-image-permissions.md)
* [<span data-ttu-id="0ef7b-274">Integrar la funcionalidad de escáner de códigos QR o códigos de barras en Teams</span><span class="sxs-lookup"><span data-stu-id="0ef7b-274">Integrate QR or barcode scanner capability in Teams</span></span>](../concepts/device-capabilities/qr-barcode-scanner-capability.md)
* [<span data-ttu-id="0ef7b-275">Integrar las capacidades de ubicación en Teams</span><span class="sxs-lookup"><span data-stu-id="0ef7b-275">Integrate location capabilities in Teams</span></span>](../concepts/device-capabilities/location-capability.md)
