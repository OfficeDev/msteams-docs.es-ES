---
title: Conceptos básicos de bot
author: clearab
description: Comprenda los conceptos básicos de los bots en Teams.
ms.topic: conceptual
ms.author: anclear
ms.openlocfilehash: 43dd351b30fdba3435d39aca43aae0f2de00ed24
ms.sourcegitcommit: d0e71ea63af2f67eba75ba283ec46cc7cdf87d75
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 12/24/2020
ms.locfileid: "49731961"
---
# <a name="bot-basics"></a><span data-ttu-id="b4899-103">Conceptos básicos de bot</span><span class="sxs-lookup"><span data-stu-id="b4899-103">Bot basics</span></span>

<span data-ttu-id="b4899-104">Se trata de una introducción que se basa en el artículo sobre [Cómo funcionan los bots](https://aka.ms/how-bots-work) en la documentación principal del [marco de bot](https://aka.ms/azure-bot-service-docs).</span><span class="sxs-lookup"><span data-stu-id="b4899-104">This is an introduction that builds on the article [How bots work](https://aka.ms/how-bots-work) in the core [Bot Framework documentation](https://aka.ms/azure-bot-service-docs).</span></span> <span data-ttu-id="b4899-105">Puede que le resulte útil el artículo y los otros artículos de la sección *conceptos* .</span><span class="sxs-lookup"><span data-stu-id="b4899-105">You may find that article, and the other articles in the *Concepts* section, useful.</span></span>

<span data-ttu-id="b4899-106">La diferencia principal en los bots desarrollados para Microsoft Teams es la forma en que se administran las actividades.</span><span class="sxs-lookup"><span data-stu-id="b4899-106">The primary difference in bots developed for Microsoft Teams is in how the activities are handled.</span></span> <span data-ttu-id="b4899-107">El controlador de actividades de Microsoft Teams se deriva del controlador de actividad del marco de robots para enrutar todas las actividades de Teams antes de permitir que se controlen actividades específicas que no pertenecen a teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-107">The Microsoft Teams activity handler derives from the Bot Framework's activity handler to route  all Teams activities before allowing any non-Teams specific activities to be handled.</span></span>

## <a name="teams-activity-handlers"></a><span data-ttu-id="b4899-108">Controladores de actividades de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="b4899-108">Teams Activity handlers</span></span>

<span data-ttu-id="b4899-109">Cuando un bot para Microsoft Teams recibe una actividad, lo pasa a sus *controladores de actividad*.</span><span class="sxs-lookup"><span data-stu-id="b4899-109">When a bot for Microsoft Teams receives an activity, it passes it on to its *activity handlers*.</span></span> <span data-ttu-id="b4899-110">En las cubiertas, hay un controlador base denominado el *controlador de torneado*, al que se redirigen todas las actividades.</span><span class="sxs-lookup"><span data-stu-id="b4899-110">Under the covers, there's one base handler called the *turn handler*, that all activities are routed through.</span></span> <span data-ttu-id="b4899-111">El *controlador de torneado* llama al controlador de actividades necesario para controlar cualquier tipo de actividad que se haya recibido.</span><span class="sxs-lookup"><span data-stu-id="b4899-111">The *turn handler* calls the required activity handler to handle whatever type of activity was received.</span></span> <span data-ttu-id="b4899-112">La diferencia entre un bot diseñado para Microsoft Teams es que se deriva de `TeamsActivityHandler` la clase derivada de la clase del marco de robots `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="b4899-112">Where a bot designed for Microsoft Teams differs is that it is derived from `TeamsActivityHandler` class that is derived from the Bot Framework's `ActivityHandler` class.</span></span>

# <a name="c"></a>[<span data-ttu-id="b4899-113">C#</span><span class="sxs-lookup"><span data-stu-id="b4899-113">C#</span></span>](#tab/csharp)

<span data-ttu-id="b4899-114">Como con cualquier bot creado mediante Microsoft bot Framework, si el bot recibe una actividad de mensaje, el controlador de torneado ve esa actividad entrante y la envía al `OnMessageActivityAsync` controlador de actividad.</span><span class="sxs-lookup"><span data-stu-id="b4899-114">As with any bot created using the Microsoft Bot Framework, if the bot receives a message activity, the turn handler sees that incoming activity and sends it to the `OnMessageActivityAsync` activity handler.</span></span> <span data-ttu-id="b4899-115">En Teams, esta funcionalidad sigue siendo la misma.</span><span class="sxs-lookup"><span data-stu-id="b4899-115">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="b4899-116">Si el bot recibe una actividad de actualización de conversación, el controlador de torneado ve esa actividad entrante y la envía al `OnConversationUpdateActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="b4899-116">If the bot receives a conversation update activity, the turn handler sees that incoming activity and sends it to the `OnConversationUpdateActivityAsync`.</span></span> <span data-ttu-id="b4899-117">Controlador de actividad de Microsoft *Teams* primero, comprobará los eventos específicos de Microsoft Teams y los pasará al controlador de actividad del marco de bot si no se encuentra ninguno.</span><span class="sxs-lookup"><span data-stu-id="b4899-117">*Teams* activity handler that will first check for any Teams specific events and pass it along to the Bot Framework's activity handler if none are found.</span></span>

<span data-ttu-id="b4899-118">En la clase del controlador de actividad de Microsoft Teams, hay dos controladores de actividad principales de Teams `OnConversationUpdateActivityAsync` que enrutan todas las actividades de actualización de la conversación y `OnInvokeActivityAsync` que enrutan todas las actividades de invocación de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-118">In the Teams activity handler class, there are two primary Teams activity handlers, `OnConversationUpdateActivityAsync` that routes all conversation update activities, and `OnInvokeActivityAsync` that routes all Teams invoke activities.</span></span>

<span data-ttu-id="b4899-119">Para implementar la lógica de los controladores de actividades específicos de Teams, invalide estos métodos en el bot, tal como se muestra en la sección [lógica de bot](#bot-logic) a continuación.</span><span class="sxs-lookup"><span data-stu-id="b4899-119">To implement your logic for Teams specific activity handlers, you'll override these methods in your bot as shown in the [Bot logic](#bot-logic) section below.</span></span> <span data-ttu-id="b4899-120">Para cada uno de estos controladores, no hay ninguna implementación base, así que solo agregue la lógica que desee en su reemplazo.</span><span class="sxs-lookup"><span data-stu-id="b4899-120">For each of these handlers, there is no base implementation, so just add the logic that you want in your override.</span></span>

# <a name="javascript"></a>[<span data-ttu-id="b4899-121">JavaScript</span><span class="sxs-lookup"><span data-stu-id="b4899-121">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="b4899-122">Como con cualquier bot creado mediante Microsoft bot Framework, si el bot recibe una actividad de mensaje, el controlador de torneado ve esa actividad entrante y la envía al `onMessage` controlador de actividad.</span><span class="sxs-lookup"><span data-stu-id="b4899-122">As with any bot created using the Microsoft Bot Framework, if the bot receives a message activity, the turn handler sees that incoming activity and sends it to the `onMessage` activity handler.</span></span> <span data-ttu-id="b4899-123">En Teams, esta funcionalidad sigue siendo la misma.</span><span class="sxs-lookup"><span data-stu-id="b4899-123">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="b4899-124">Si el bot recibe una actividad de actualización de conversación, el controlador de torneado ve esa actividad entrante y la envía al `dispatchConversationUpdateActivity` .</span><span class="sxs-lookup"><span data-stu-id="b4899-124">If the bot receives a conversation update activity, the turn handler sees that incoming activity and sends it to the `dispatchConversationUpdateActivity`.</span></span> <span data-ttu-id="b4899-125">Controlador de actividad de Microsoft *Teams* que primero comprobará los eventos específicos de Microsoft Teams y lo pasarán al controlador de actividad de bot frameworks si no se encuentra ninguno.</span><span class="sxs-lookup"><span data-stu-id="b4899-125">*Teams* activity handler that will first check for any Teams specific events and pass it along to the bot frameworks activity handler if none are found.</span></span>

<span data-ttu-id="b4899-126">En la clase del controlador de actividad de Microsoft Teams, hay dos controladores de actividad principales de Teams `dispatchConversationUpdateActivity` que enrutan todas las actividades de actualización de la conversación y `onInvokeActivity` que enrutan todas las actividades de invocación de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-126">In the Teams activity handler class, there are two primary Teams activity handlers, `dispatchConversationUpdateActivity` that routes all conversation update Activities, and `onInvokeActivity` that routes all Teams invoke activities.</span></span>

<span data-ttu-id="b4899-127">Para implementar la lógica de los controladores de actividades específicos de Teams, invalide estos métodos en el bot tal como se muestra en la sección de la [lógica de bot](#bot-logic) .</span><span class="sxs-lookup"><span data-stu-id="b4899-127">To implement your logic for Teams specific activity handlers, you'll override these methods in your bot as seen in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="b4899-128">Para cada uno de estos controladores, defina la lógica del bot y, a continuación, **Asegúrese de llamar `next()` al final**.</span><span class="sxs-lookup"><span data-stu-id="b4899-128">For each of these handlers, define your bot logic, then **be sure to call `next()` at the end**.</span></span> <span data-ttu-id="b4899-129">Al llamar `next()` , asegúrese de que se ejecuta el siguiente controlador.</span><span class="sxs-lookup"><span data-stu-id="b4899-129">By calling `next()` you ensure that the next handler runs.</span></span>

# <a name="python"></a>[<span data-ttu-id="b4899-130">Python</span><span class="sxs-lookup"><span data-stu-id="b4899-130">Python</span></span>](#tab/python)

<span data-ttu-id="b4899-131">Los bots se crean mediante Microsoft bot Framework, si el bot recibe una actividad de mensaje, el controlador de giro recibe una notificación de la actividad entrante.</span><span class="sxs-lookup"><span data-stu-id="b4899-131">Bots are created using the Microsoft Bot Framework, if these bot receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="b4899-132">A continuación, el controlador de Turn envía la actividad de entrada al `on_message_activity` controlador de actividad.</span><span class="sxs-lookup"><span data-stu-id="b4899-132">The turn handler then sends the incoming activity to the `on_message_activity` activity handler.</span></span> <span data-ttu-id="b4899-133">En Teams, esta funcionalidad sigue siendo la misma.</span><span class="sxs-lookup"><span data-stu-id="b4899-133">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="b4899-134">Si el bot recibe una actividad de actualización de conversación, el controlador de torneado recibe una notificación de esa actividad entrante y envía la actividad entrante a `on_conversation_update_activity` .</span><span class="sxs-lookup"><span data-stu-id="b4899-134">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `on_conversation_update_activity`.</span></span> <span data-ttu-id="b4899-135">El controlador de actividad de Microsoft Teams buscará primero los eventos específicos de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-135">The Teams activity handler will first check for any Teams specific events.</span></span> <span data-ttu-id="b4899-136">Si no se encuentra ningún evento, se pasarán al controlador de actividad del marco de robots.</span><span class="sxs-lookup"><span data-stu-id="b4899-136">If no events are found, it will then pass them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="b4899-137">En la clase del controlador de actividad de Microsoft Teams, hay dos controladores de actividad principales de Teams `on_conversation_update_activity` y `on_invoke_activity` .</span><span class="sxs-lookup"><span data-stu-id="b4899-137">In the Teams activity handler class, there are two primary Teams activity handlers, `on_conversation_update_activity` and `on_invoke_activity`.</span></span> <span data-ttu-id="b4899-138">`on_conversation_update_activity` enruta todas las actividades de actualización de conversaciones y `on_invoke_activity` enruta todas las actividades de invocación de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-138">`on_conversation_update_activity` routes all conversation update activities and `on_invoke_activity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="b4899-139">Para implementar la lógica de los controladores de actividades específicos de Teams, debe invalidar estos métodos en el bot, tal como se muestra en la sección [lógica de bot](#bot-logic) .</span><span class="sxs-lookup"><span data-stu-id="b4899-139">To implement your logic for Teams specific activity handlers, you need to override these methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="b4899-140">No hay ninguna implementación base para estos controladores; por lo tanto, debe agregar la lógica que desee en su reemplazo.</span><span class="sxs-lookup"><span data-stu-id="b4899-140">There is no base implementation for these handlers, therefore, you need to add the logic that you want in your override.</span></span>

---

## <a name="bot-logic"></a><span data-ttu-id="b4899-141">Lógica de bot</span><span class="sxs-lookup"><span data-stu-id="b4899-141">Bot logic</span></span>

<span data-ttu-id="b4899-142">La lógica de bot procesa las actividades entrantes de uno o varios de los canales de robot y genera actividades de salida en respuesta.</span><span class="sxs-lookup"><span data-stu-id="b4899-142">The bot logic processes incoming activities from one or more of your bot channels and generates outgoing activities in response.</span></span>  <span data-ttu-id="b4899-143">Esto sigue siendo el caso de los bots derivados de la clase del controlador de actividad de Microsoft Teams, que primero comprueba las actividades de Microsoft Teams y, a continuación, pasa todas las demás actividades al controlador de actividad de los marcos de bot.</span><span class="sxs-lookup"><span data-stu-id="b4899-143">This is still true of bots derived from the Teams activity handler class, which first checks for Teams activities, then passes all other activities to the bot frameworks activity handler.</span></span>

# <a name="c"></a>[<span data-ttu-id="b4899-144">C#</span><span class="sxs-lookup"><span data-stu-id="b4899-144">C#</span></span>](#tab/csharp)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="b4899-145">Controladores de Framework bot principales</span><span class="sxs-lookup"><span data-stu-id="b4899-145">Core Bot Framework handlers</span></span>

<span data-ttu-id="b4899-146">Todos los controladores de actividades que se describen a continuación seguirán funcionando como lo hacen con un bot que no es de Microsoft Teams, con la excepción de controlar los miembros *agregados* y las actividades *eliminadas* por los miembros, éstos serán distintos en el contexto de un equipo, donde el nuevo miembro se agrega al equipo en lugar de a un hilo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="b4899-146">All of the activity handlers described below will continue to work as they do with a non-Teams bot, with the exception of handling members *added* and members *removed* activities, these will be different in the context of a team, where the new member is added to the team as opposed to a message thread.</span></span>

<span data-ttu-id="b4899-147">Los controladores definidos en `ActivityHandler` se describen a continuación:</span><span class="sxs-lookup"><span data-stu-id="b4899-147">The handlers defined in `ActivityHandler` are outlined below:</span></span>

| <span data-ttu-id="b4899-148">Evento</span><span class="sxs-lookup"><span data-stu-id="b4899-148">Event</span></span> | <span data-ttu-id="b4899-149">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-149">Handler</span></span> | <span data-ttu-id="b4899-150">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-150">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="b4899-151">Cualquier tipo de actividad recibido</span><span class="sxs-lookup"><span data-stu-id="b4899-151">Any activity type received</span></span> | `OnTurnAsync` | <span data-ttu-id="b4899-152">Llama a uno de los otros controladores, en función del tipo de actividad que se ha recibido.</span><span class="sxs-lookup"><span data-stu-id="b4899-152">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="b4899-153">Actividad de mensaje recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-153">Message activity received</span></span> | `OnMessageActivityAsync` | <span data-ttu-id="b4899-154">Invalide esto para controlar una `Message` actividad.</span><span class="sxs-lookup"><span data-stu-id="b4899-154">Override this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="b4899-155">Actividad de actualización de conversación recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-155">Conversation update activity received</span></span> | `OnConversationUpdateActivityAsync` | <span data-ttu-id="b4899-156">En una `ConversationUpdate` actividad, llama a un controlador si los miembros que no son el bot se unen a la conversación o la dejan.</span><span class="sxs-lookup"><span data-stu-id="b4899-156">On a `ConversationUpdate` activity, calls a handler if members other than the bot joined or left the conversation.</span></span> |
| <span data-ttu-id="b4899-157">Los miembros que no son de bot se unieron a la conversación</span><span class="sxs-lookup"><span data-stu-id="b4899-157">Non-bot members joined the conversation</span></span> | `OnMembersAddedAsync` | <span data-ttu-id="b4899-158">Invalide esto para controlar los miembros que se unen a una conversación.</span><span class="sxs-lookup"><span data-stu-id="b4899-158">Override this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="b4899-159">Los miembros que no son de bot dejan la conversación</span><span class="sxs-lookup"><span data-stu-id="b4899-159">Non-bot members left the conversation</span></span> | `OnMembersRemovedAsync` | <span data-ttu-id="b4899-160">Invalide esto para controlar a los miembros que abandonen una conversación.</span><span class="sxs-lookup"><span data-stu-id="b4899-160">Override this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="b4899-161">Actividad de evento recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-161">Event activity received</span></span> | `OnEventActivityAsync` | <span data-ttu-id="b4899-162">En una `Event` actividad, llama a un controlador específico para el tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="b4899-162">On an `Event` activity, calls a handler specific to the event type.</span></span> |
| <span data-ttu-id="b4899-163">Actividad de evento de respuesta de token-respuesta recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-163">Token-response event activity received</span></span> | `OnTokenResponseEventAsync` | <span data-ttu-id="b4899-164">Invalide esto para controlar los eventos de respuesta de token.</span><span class="sxs-lookup"><span data-stu-id="b4899-164">Override this to handle token response events.</span></span> |
| <span data-ttu-id="b4899-165">Actividad de evento que no es de respuesta de tokens recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-165">Non-token-response event activity received</span></span> | `OnEventAsync` | <span data-ttu-id="b4899-166">Invalide esto para controlar otros tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="b4899-166">Override this to handle other types of events.</span></span> |
| <span data-ttu-id="b4899-167">Se recibió otro tipo de actividad</span><span class="sxs-lookup"><span data-stu-id="b4899-167">Other activity type received</span></span> | `OnUnrecognizedActivityTypeAsync` | <span data-ttu-id="b4899-168">Invalide esto para controlar cualquier tipo de actividad no controlado de otro modo.</span><span class="sxs-lookup"><span data-stu-id="b4899-168">Override this to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="b4899-169">Controladores específicos de Teams</span><span class="sxs-lookup"><span data-stu-id="b4899-169">Teams-specific handlers</span></span>

<span data-ttu-id="b4899-170">El `TeamsActivityHandler` extiende la lista de controladores anteriores para incluir lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b4899-170">The `TeamsActivityHandler` extends the list of handlers above to include the following:</span></span>

| <span data-ttu-id="b4899-171">Evento</span><span class="sxs-lookup"><span data-stu-id="b4899-171">Event</span></span> | <span data-ttu-id="b4899-172">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-172">Handler</span></span> | <span data-ttu-id="b4899-173">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-173">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="b4899-174">channelCreated</span><span class="sxs-lookup"><span data-stu-id="b4899-174">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="b4899-175">Invalide esto para controlar el canal de teams que se está creando.</span><span class="sxs-lookup"><span data-stu-id="b4899-175">Override this to handle a Teams channel being created.</span></span> <span data-ttu-id="b4899-176">Para obtener más información, consulte [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation Update Events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-176">For more information see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="b4899-177">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="b4899-177">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="b4899-178">Invalide esto para controlar el canal de Microsoft teams que se va a eliminar.</span><span class="sxs-lookup"><span data-stu-id="b4899-178">Override this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="b4899-179">Para obtener más información, consulte [canal eliminado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) en [eventos de actualización de conversación](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-179">For more information see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-180">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="b4899-180">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="b4899-181">Invalide esto para controlar el canal de un canal de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-181">Override this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="b4899-182">Para obtener más información, consulte [canal con nombre cambiado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) en [Conversation Update Events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-182">For more information see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-183">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="b4899-183">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="b4899-184">`return Task.CompletedTask;` Invalide esto para administrar el cambio de nombre de un equipo de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-184">`return Task.CompletedTask;` Override this to handle a Teams Team being Renamed.</span></span> <span data-ttu-id="b4899-185">Para obtener más información, vea cambio de [nombre de equipo](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) en eventos de [actualización de conversaciones](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-185">For more information see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-186">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="b4899-186">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="b4899-187">Llama al `OnMembersAddedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="b4899-187">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="b4899-188">Invalide esto para controlar a los miembros que se unen a un equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-188">Override this to handle members joining a team.</span></span> <span data-ttu-id="b4899-189">Para obtener más información, vea [miembros del equipo agregados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) en [eventos de actualización de conversación](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-189">For more information see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-190">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="b4899-190">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="b4899-191">Llama al `OnMembersRemovedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="b4899-191">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="b4899-192">Invalide esto para controlar a los miembros que salen de un equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-192">Override this to handle members leaving a team.</span></span> <span data-ttu-id="b4899-193">Para obtener más información, vea [miembros del equipo quitados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) en [eventos de actualización de conversaciones](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-193">For more information see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="b4899-194">Actividades de invocación de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="b4899-194">Teams invoke activities</span></span>

<span data-ttu-id="b4899-195">A continuación, se muestra una lista de todos los controladores de actividad de Teams a los que se llama desde el controlador de actividad de Microsoft `OnInvokeActivityAsync` _Teams_ :</span><span class="sxs-lookup"><span data-stu-id="b4899-195">Here is a list of all of the Teams activity handlers called from the `OnInvokeActivityAsync` _Teams_ activity handler:</span></span>

| <span data-ttu-id="b4899-196">Tipos de invocación</span><span class="sxs-lookup"><span data-stu-id="b4899-196">Invoke types</span></span>                    | <span data-ttu-id="b4899-197">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-197">Handler</span></span>                              | <span data-ttu-id="b4899-198">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-198">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="b4899-199">CardAction. Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-199">CardAction.Invoke</span></span>               | `OnTeamsCardActionInvokeAsync`       | <span data-ttu-id="b4899-200">Invocar acción de tarjeta de equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-200">Teams Card Action Invoke.</span></span> |
| <span data-ttu-id="b4899-201">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-201">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAcceptAsync`      | <span data-ttu-id="b4899-202">Aceptación del consentimiento del archivo de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-202">Teams File Consent Accept.</span></span> |
| <span data-ttu-id="b4899-203">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-203">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAsync`            | <span data-ttu-id="b4899-204">Consentimiento del archivo de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-204">Teams File Consent.</span></span> |
| <span data-ttu-id="b4899-205">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-205">fileConsent/invoke</span></span>              | `OnTeamsFileConsentDeclineAsync`     | <span data-ttu-id="b4899-206">Consentimiento del archivo de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-206">Teams File Consent.</span></span> |
| <span data-ttu-id="b4899-207">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="b4899-207">actionableMessage/executeAction</span></span> | `OnTeamsO365ConnectorCardActionAsync` | <span data-ttu-id="b4899-208">Acción de la tarjeta del conector de O365 de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-208">Teams O365 connector Card Action.</span></span> |
| <span data-ttu-id="b4899-209">Inicio de sesión/verifyState</span><span class="sxs-lookup"><span data-stu-id="b4899-209">signin/verifyState</span></span>              | `OnTeamsSigninVerifyStateAsync`      | <span data-ttu-id="b4899-210">El estado de comprobación de inicio de sesión de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-210">Teams Sign in Verify State.</span></span> |
| <span data-ttu-id="b4899-211">tarea/recopilación</span><span class="sxs-lookup"><span data-stu-id="b4899-211">task/fetch</span></span>                      | `OnTeamsTaskModuleFetchAsync`        | <span data-ttu-id="b4899-212">Búsqueda de módulos de tareas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-212">Teams Task Module Fetch.</span></span> |
| <span data-ttu-id="b4899-213">tarea o envío</span><span class="sxs-lookup"><span data-stu-id="b4899-213">task/submit</span></span>                     | `OnTeamsTaskModuleSubmitAsync`       | <span data-ttu-id="b4899-214">Envío del módulo de tareas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-214">Teams Task Module Submit.</span></span> |

<span data-ttu-id="b4899-215">Las actividades de invocación enumeradas anteriormente son para bots de conversación en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-215">The invoke activities listed above are for conversational bots in Teams.</span></span> <span data-ttu-id="b4899-216">El SDK de bot Framework también admite invocaciones específicas de las extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="b4899-216">The Bot Framework SDK also supports invokes specific to messaging extensions.</span></span> <span data-ttu-id="b4899-217">Para obtener más información, consulte [What is Messaging Extensions](https://aka.ms/azure-bot-what-are-messaging-extensions)</span><span class="sxs-lookup"><span data-stu-id="b4899-217">For more information see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions)</span></span>

# <a name="javascript"></a>[<span data-ttu-id="b4899-218">JavaScript</span><span class="sxs-lookup"><span data-stu-id="b4899-218">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="b4899-219">Todos los controladores de actividades descritos a continuación seguirán funcionando como lo hacen con un bot que no es de Microsoft Teams, con la excepción de controlar las actividades de los miembros *agregados* y de los miembros *quitados* , éstos serán distintos en el contexto de un equipo, donde el nuevo miembro se agrega al equipo en lugar de un hilo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="b4899-219">All of the activity handlers described below will continue to work as they do with a non-Teams bot, with the exception of handling the members *added* and members *removed* activities, these will be different in the context of a team, where the new member is added to the team as opposed to a message thread.</span></span>

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="b4899-220">Controladores de Framework bot principales</span><span class="sxs-lookup"><span data-stu-id="b4899-220">Core Bot Framework handlers</span></span>

<span data-ttu-id="b4899-221">Los controladores definidos en `ActivityHandler` se describen a continuación.</span><span class="sxs-lookup"><span data-stu-id="b4899-221">The handlers defined in `ActivityHandler` are outlined below.</span></span>

| <span data-ttu-id="b4899-222">Evento</span><span class="sxs-lookup"><span data-stu-id="b4899-222">Event</span></span> | <span data-ttu-id="b4899-223">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-223">Handler</span></span> | <span data-ttu-id="b4899-224">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-224">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="b4899-225">Cualquier tipo de actividad recibido</span><span class="sxs-lookup"><span data-stu-id="b4899-225">Any activity type received</span></span> | `onTurn` | <span data-ttu-id="b4899-226">Llama a uno de los otros controladores, en función del tipo de actividad que se ha recibido.</span><span class="sxs-lookup"><span data-stu-id="b4899-226">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="b4899-227">Actividad de mensaje recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-227">Message activity received</span></span> | `onMessage` | <span data-ttu-id="b4899-228">Proporcionar una función para que esto controle una `Message` actividad.</span><span class="sxs-lookup"><span data-stu-id="b4899-228">Provide a function for this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="b4899-229">Actividad de actualización de conversación recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-229">Conversation update activity received</span></span> | `onConversationUpdate` | <span data-ttu-id="b4899-230">En una `ConversationUpdate` actividad, llama a un controlador si los miembros que no son el bot se unen a la conversación o la dejan.</span><span class="sxs-lookup"><span data-stu-id="b4899-230">On a `ConversationUpdate` activity, calls a handler if members other than the bot joined or left the conversation.</span></span> |
| <span data-ttu-id="b4899-231">Los miembros que no son de bot se unieron a la conversación</span><span class="sxs-lookup"><span data-stu-id="b4899-231">Non-bot members joined the conversation</span></span> | `onMembersAdded` | <span data-ttu-id="b4899-232">Proporcionar una función para que esto controle los miembros que se unen a una conversación.</span><span class="sxs-lookup"><span data-stu-id="b4899-232">Provide a function for this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="b4899-233">Los miembros que no son de bot dejan la conversación</span><span class="sxs-lookup"><span data-stu-id="b4899-233">Non-bot members left the conversation</span></span> | `onMembersRemoved` | <span data-ttu-id="b4899-234">Proporcione una función para que esto gestione a los miembros que abandonen una conversación.</span><span class="sxs-lookup"><span data-stu-id="b4899-234">Provide a function for this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="b4899-235">Actividad de evento recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-235">Event activity received</span></span> | `onEvent` | <span data-ttu-id="b4899-236">En una `Event` actividad, llama a un controlador específico para el tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="b4899-236">On an `Event` activity, calls a handler specific to the event type.</span></span> |
| <span data-ttu-id="b4899-237">Actividad de evento de respuesta de token-respuesta recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-237">Token-response event activity received</span></span> | `onTokenResponseEvent` | <span data-ttu-id="b4899-238">Proporcionar una función para que esto controle los eventos de respuesta de token.</span><span class="sxs-lookup"><span data-stu-id="b4899-238">Provide a function for this to handle token response events.</span></span> |
| <span data-ttu-id="b4899-239">Se recibió otro tipo de actividad</span><span class="sxs-lookup"><span data-stu-id="b4899-239">Other activity type received</span></span> | `onUnrecognizedActivityType` | <span data-ttu-id="b4899-240">Proporcione una función para que esto controle cualquier tipo de actividad no controlada de otro modo.</span><span class="sxs-lookup"><span data-stu-id="b4899-240">Provide a function for this to handle any activity type otherwise unhandled.</span></span> |
| <span data-ttu-id="b4899-241">Controladores de actividades completados</span><span class="sxs-lookup"><span data-stu-id="b4899-241">Activity handlers have completed</span></span> | `onDialog` | <span data-ttu-id="b4899-242">Proporcione una función para que pueda controlar cualquier procesamiento que deba realizarse al final de un turno una vez que haya finalizado el resto de los controladores de actividades.</span><span class="sxs-lookup"><span data-stu-id="b4899-242">Provide a function for this to handle any processing that should be done at the end of a turn after the rest of your activity handlers have completed.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="b4899-243">Controladores específicos de Teams</span><span class="sxs-lookup"><span data-stu-id="b4899-243">Teams-specific handlers</span></span>

<span data-ttu-id="b4899-244">La `TeamsActivityHandler` amplía la lista de controladores de la sección Controladores de Framework de bot principales para incluir lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b4899-244">The `TeamsActivityHandler` extends the list of handlers in the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="b4899-245">Evento</span><span class="sxs-lookup"><span data-stu-id="b4899-245">Event</span></span> | <span data-ttu-id="b4899-246">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-246">Handler</span></span> | <span data-ttu-id="b4899-247">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-247">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="b4899-248">channelCreated</span><span class="sxs-lookup"><span data-stu-id="b4899-248">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="b4899-249">Invalide esto para controlar el canal de teams que se está creando.</span><span class="sxs-lookup"><span data-stu-id="b4899-249">Override this to handle a Teams channel being created.</span></span> <span data-ttu-id="b4899-250">Para obtener más información, consulte [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation Update Events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-250">For more information see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="b4899-251">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="b4899-251">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="b4899-252">Invalide esto para controlar el canal de Microsoft teams que se va a eliminar.</span><span class="sxs-lookup"><span data-stu-id="b4899-252">Override this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="b4899-253">Para obtener más información, consulte [canal eliminado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) en [eventos de actualización de conversación](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-253">For more information see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-254">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="b4899-254">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="b4899-255">Invalide esto para controlar el canal de un canal de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-255">Override this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="b4899-256">Para obtener más información, consulte [canal con nombre cambiado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) en [Conversation Update Events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-256">For more information see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="b4899-257">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="b4899-257">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="b4899-258">`return Task.CompletedTask;` Invalide esto para administrar el cambio de nombre de un equipo de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-258">`return Task.CompletedTask;` Override this to handle a Teams team being renamed.</span></span> <span data-ttu-id="b4899-259">Para obtener más información, vea cambio de [nombre de equipo](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) en eventos de [actualización de conversaciones](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-259">For more information see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="b4899-260">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="b4899-260">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="b4899-261">Llama al `OnMembersAddedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="b4899-261">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="b4899-262">Invalide esto para controlar a los miembros que se unen a un equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-262">Override this to handle members joining a team.</span></span> <span data-ttu-id="b4899-263">Para obtener más información, vea [miembros del equipo agregados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) en [eventos de actualización de conversación](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-263">For more information see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="b4899-264">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="b4899-264">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="b4899-265">Llama al `OnMembersRemovedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="b4899-265">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="b4899-266">Invalide esto para controlar a los miembros que salen de un equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-266">Override this to handle members leaving a team.</span></span> <span data-ttu-id="b4899-267">Para obtener más información, vea [miembros del equipo quitados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) en [eventos de actualización de conversaciones](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-267">For more information see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |

#### <a name="teams-invoke-activities"></a><span data-ttu-id="b4899-268">Actividades de invocación de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="b4899-268">Teams invoke activities</span></span>

<span data-ttu-id="b4899-269">A continuación, se muestra una lista de todos los controladores de actividad de Teams a los que se llama desde el controlador de actividad de Microsoft `onInvokeActivity` Teams:</span><span class="sxs-lookup"><span data-stu-id="b4899-269">Here is a list of all of the Teams activity handlers called from the `onInvokeActivity` Teams activity handler:</span></span>

| <span data-ttu-id="b4899-270">Tipos de invocación</span><span class="sxs-lookup"><span data-stu-id="b4899-270">Invoke types</span></span>                    | <span data-ttu-id="b4899-271">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-271">Handler</span></span>                              | <span data-ttu-id="b4899-272">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-272">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="b4899-273">CardAction. Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-273">CardAction.Invoke</span></span>               | `handleTeamsCardActionInvoke`       | <span data-ttu-id="b4899-274">Invocar acción de tarjeta de equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-274">Teams card action invoke.</span></span> |
| <span data-ttu-id="b4899-275">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-275">fileConsent/invoke</span></span>              | `handleTeamsFileConsentAccept`      | <span data-ttu-id="b4899-276">Aceptación del consentimiento del archivo de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-276">Teams file consent accept.</span></span> |
| <span data-ttu-id="b4899-277">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-277">fileConsent/invoke</span></span>              | `handleTeamsFileConsent`            | <span data-ttu-id="b4899-278">Consentimiento del archivo de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-278">Teams file consent.</span></span> |
| <span data-ttu-id="b4899-279">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-279">fileConsent/invoke</span></span>              | `handleTeamsFileConsentDecline`     | <span data-ttu-id="b4899-280">Consentimiento del archivo de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-280">Teams file consent.</span></span> |
| <span data-ttu-id="b4899-281">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="b4899-281">actionableMessage/executeAction</span></span> | `handleTeamsO365ConnectorCardAction` | <span data-ttu-id="b4899-282">Acción de la tarjeta del conector de O365 de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-282">Teams O365 connector card action.</span></span> |
| <span data-ttu-id="b4899-283">Inicio de sesión/verifyState</span><span class="sxs-lookup"><span data-stu-id="b4899-283">signin/verifyState</span></span>              | `handleTeamsSigninVerifyState`      | <span data-ttu-id="b4899-284">El estado de comprobación de inicio de sesión de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-284">Teams sign in verify state.</span></span> |
| <span data-ttu-id="b4899-285">tarea/recopilación</span><span class="sxs-lookup"><span data-stu-id="b4899-285">task/fetch</span></span>                      | `handleTeamsTaskModuleFetch`        | <span data-ttu-id="b4899-286">Búsqueda de módulos de tareas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-286">Teams task module fetch.</span></span> |
| <span data-ttu-id="b4899-287">tarea o envío</span><span class="sxs-lookup"><span data-stu-id="b4899-287">task/submit</span></span>                     | `handleTeamsTaskModuleSubmit`       | <span data-ttu-id="b4899-288">Envío del módulo de tareas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-288">Teams task module submit.</span></span> |

<span data-ttu-id="b4899-289">Las actividades de invocación que se enumeran en la sección actividades de invocación de Microsoft Teams son para bots de conversación en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-289">The invoke activities listed in the Teams invoke activities section are for conversational bots in Teams.</span></span> <span data-ttu-id="b4899-290">El SDK de bot Framework también admite actividades de invocación específicas de las extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="b4899-290">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="b4899-291">Para obtener más información, consulte [What is Messaging Extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="b4899-291">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="python"></a>[<span data-ttu-id="b4899-292">Python</span><span class="sxs-lookup"><span data-stu-id="b4899-292">Python</span></span>](#tab/python)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="b4899-293">Controladores de Framework bot principales</span><span class="sxs-lookup"><span data-stu-id="b4899-293">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="b4899-294">Excepto para las actividades de los miembros agregados y quitados, todos los controladores de actividades descritos en esta sección siguen funcionando como lo hacen con un bot que no es de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-294">Except for the added and removed members' activities, all of the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="b4899-295">Los controladores de actividades son diferentes en el contexto de un equipo, donde el nuevo miembro se agrega al equipo en lugar de a un hilo de mensaje.</span><span class="sxs-lookup"><span data-stu-id="b4899-295">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="b4899-296">La lista de controladores definidos en `ActivityHandler` incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b4899-296">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="b4899-297">Evento</span><span class="sxs-lookup"><span data-stu-id="b4899-297">Event</span></span> | <span data-ttu-id="b4899-298">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-298">Handler</span></span> | <span data-ttu-id="b4899-299">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-299">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="b4899-300">Cualquier tipo de actividad recibido</span><span class="sxs-lookup"><span data-stu-id="b4899-300">Any activity type received</span></span> | `on_turn` | <span data-ttu-id="b4899-301">Llama a uno de los otros controladores, en función del tipo de actividad que se ha recibido.</span><span class="sxs-lookup"><span data-stu-id="b4899-301">Calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="b4899-302">Actividad de mensaje recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-302">Message activity received</span></span> | `on_message_activity` | <span data-ttu-id="b4899-303">Invalida esto para controlar una `Message` actividad.</span><span class="sxs-lookup"><span data-stu-id="b4899-303">Overrides this to handle a `Message` activity.</span></span> |
| <span data-ttu-id="b4899-304">Actividad de actualización de conversación recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-304">Conversation update activity received</span></span> | `on_conversation_update_activity` | <span data-ttu-id="b4899-305">Llama a un controlador si los miembros que no son el bot se unen o abandonan la conversación.</span><span class="sxs-lookup"><span data-stu-id="b4899-305">Calls a handler if members other than the bot join or leave the conversation.</span></span> |
| <span data-ttu-id="b4899-306">Los miembros que no son de bot se unieron a la conversación</span><span class="sxs-lookup"><span data-stu-id="b4899-306">Non-bot members joined the conversation</span></span> | `on_members_added_activity` | <span data-ttu-id="b4899-307">Invalida esto para controlar los miembros que se unen a una conversación.</span><span class="sxs-lookup"><span data-stu-id="b4899-307">Overrides this to handle members joining a conversation.</span></span> |
| <span data-ttu-id="b4899-308">Los miembros que no son de bot dejan la conversación</span><span class="sxs-lookup"><span data-stu-id="b4899-308">Non-bot members left the conversation</span></span> | `on_members_removed_activity` | <span data-ttu-id="b4899-309">Invalida esto para controlar a los miembros que abandonen una conversación.</span><span class="sxs-lookup"><span data-stu-id="b4899-309">Overrides this to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="b4899-310">Actividad de evento recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-310">Event activity received</span></span> | `on_event_activity` | <span data-ttu-id="b4899-311">Llama a un controlador específico para el tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="b4899-311">Calls a handler specific to the type of event.</span></span> |
| <span data-ttu-id="b4899-312">Actividad de evento de respuesta de token-respuesta recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-312">Token-response event activity received</span></span> | `on_token_response_event` | <span data-ttu-id="b4899-313">Invalida esto para controlar los eventos de respuesta de token.</span><span class="sxs-lookup"><span data-stu-id="b4899-313">Overrides this to handle token response events.</span></span> |
| <span data-ttu-id="b4899-314">Actividad de evento que no es de respuesta de tokens recibida</span><span class="sxs-lookup"><span data-stu-id="b4899-314">Non-token-response event activity received</span></span> | `on_event` | <span data-ttu-id="b4899-315">Invalida esto para controlar otros tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="b4899-315">Overrides this to handle other types of events.</span></span> |
| <span data-ttu-id="b4899-316">Otros tipos de actividades recibidas</span><span class="sxs-lookup"><span data-stu-id="b4899-316">Other activity types received</span></span> | `on_unrecognized_activity_type` | <span data-ttu-id="b4899-317">Invalida esto para controlar cualquier tipo de actividad que no se controla.</span><span class="sxs-lookup"><span data-stu-id="b4899-317">Overrides this to handle any type of activity that is not handled.</span></span> |

#### <a name="teams-specific-handlers"></a><span data-ttu-id="b4899-318">Controladores específicos de Teams</span><span class="sxs-lookup"><span data-stu-id="b4899-318">Teams-specific handlers</span></span>

<span data-ttu-id="b4899-319">La `TeamsActivityHandler` amplía la lista de controladores de la sección Controladores de Framework de bot principales para incluir lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b4899-319">The `TeamsActivityHandler` extends the list of handlers from the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="b4899-320">Evento</span><span class="sxs-lookup"><span data-stu-id="b4899-320">Event</span></span> | <span data-ttu-id="b4899-321">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-321">Handler</span></span> | <span data-ttu-id="b4899-322">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-322">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="b4899-323">channelCreated</span><span class="sxs-lookup"><span data-stu-id="b4899-323">channelCreated</span></span> | `on_teams_channel_created` | <span data-ttu-id="b4899-324">Invalida esto para controlar el canal de teams que se está creando.</span><span class="sxs-lookup"><span data-stu-id="b4899-324">Overrides this to handle a Teams channel being created.</span></span> <span data-ttu-id="b4899-325">Para obtener más información, consulte [canal creado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) en la [actualización de conversaciones eventos](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-325">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="b4899-326">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="b4899-326">channelDeleted</span></span> | `on_teams_channel_deleted` | <span data-ttu-id="b4899-327">Invalida esto para controlar el canal de Microsoft teams que se va a eliminar.</span><span class="sxs-lookup"><span data-stu-id="b4899-327">Overrides this to handle a Teams channel being deleted.</span></span> <span data-ttu-id="b4899-328">Para obtener más información, vea [canal eliminado](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) en [conversación actualizar eventos](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-328">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-329">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="b4899-329">channelRenamed</span></span> | `on_teams_channel_renamed` | <span data-ttu-id="b4899-330">Suplanta esto para controlar el cambio del nombre de un canal de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-330">Overrides this to handle a Teams channel being renamed.</span></span> <span data-ttu-id="b4899-331">Para obtener más información, consulte [canal cambiado el nombre](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) de [eventos de actualización de conversaciones](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-331">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-332">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="b4899-332">teamRenamed</span></span> | `on_teams_team_renamed` | <span data-ttu-id="b4899-333">`return Task.CompletedTask;` Invalida esto para administrar el cambio de nombre de un equipo de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-333">`return Task.CompletedTask;` Overrides this to handle a Teams team being renamed.</span></span> <span data-ttu-id="b4899-334">Para obtener más información, vea cambio de [nombre de equipo](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) en eventos de [actualización de conversación](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-334">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-335">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="b4899-335">MembersAdded</span></span> | `on_teams_members_added` | <span data-ttu-id="b4899-336">Llama al `OnMembersAddedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="b4899-336">Calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="b4899-337">Invalida esto para controlar los miembros que se unen a un equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-337">Overrides this to handle members joining a team.</span></span> <span data-ttu-id="b4899-338">Para obtener más información, vea [miembros del equipo agregados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) en [eventos de actualización de conversación](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-338">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="b4899-339">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="b4899-339">MembersRemoved</span></span> | `on_teams_members_removed` | <span data-ttu-id="b4899-340">Llama al `OnMembersRemovedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="b4899-340">Calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="b4899-341">Invalida esto para controlar a los miembros que salen de un equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-341">Overrides this to handle members leaving a team.</span></span> <span data-ttu-id="b4899-342">Para obtener más información, vea [miembros del equipo quitados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) en [eventos de actualización de conversaciones](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="b4899-342">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="b4899-343">Actividades de invocación de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="b4899-343">Teams invoke activities</span></span>

<span data-ttu-id="b4899-344">La lista de controladores de actividad de equipos a los que se llama desde el controlador de actividad de Microsoft `on_invoke_activity` Teams incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="b4899-344">The list of Teams activity handlers called from the `on_invoke_activity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="b4899-345">Tipos de invocación</span><span class="sxs-lookup"><span data-stu-id="b4899-345">Invoke types</span></span>                    | <span data-ttu-id="b4899-346">Controlador</span><span class="sxs-lookup"><span data-stu-id="b4899-346">Handler</span></span>                              | <span data-ttu-id="b4899-347">Descripción</span><span class="sxs-lookup"><span data-stu-id="b4899-347">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="b4899-348">CardAction. Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-348">CardAction.Invoke</span></span>               | `on_teams_card_action_invoke`       | <span data-ttu-id="b4899-349">Invocar acción de tarjeta de equipo.</span><span class="sxs-lookup"><span data-stu-id="b4899-349">Teams card action invoke.</span></span> |
| <span data-ttu-id="b4899-350">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-350">fileConsent/invoke</span></span>              | `on_teams_file_consent_accept`      | <span data-ttu-id="b4899-351">Aceptación del consentimiento del archivo de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-351">Teams file consent accept.</span></span> |
| <span data-ttu-id="b4899-352">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-352">fileConsent/invoke</span></span>              | `on_teams_file_consent`            | <span data-ttu-id="b4899-353">Consentimiento del archivo de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-353">Teams file consent.</span></span> |
| <span data-ttu-id="b4899-354">fileConsent/Invoke</span><span class="sxs-lookup"><span data-stu-id="b4899-354">fileConsent/invoke</span></span>              | `on_teams_file_consent_decline`     | <span data-ttu-id="b4899-355">Rechazo del consentimiento del archivo de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-355">Teams file consent decline.</span></span> |
| <span data-ttu-id="b4899-356">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="b4899-356">actionableMessage/executeAction</span></span> | `on_teams_o365_connector_card_action` | <span data-ttu-id="b4899-357">Acción de la tarjeta del conector de O365 de Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-357">Teams O365 connector card action.</span></span> |
| <span data-ttu-id="b4899-358">Inicio de sesión/verifyState</span><span class="sxs-lookup"><span data-stu-id="b4899-358">signin/verifyState</span></span>              | `on_teams_signin_verify_state`      | <span data-ttu-id="b4899-359">El estado de comprobación de inicio de sesión de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-359">Teams sign in verify state.</span></span> |
| <span data-ttu-id="b4899-360">tarea/recopilación</span><span class="sxs-lookup"><span data-stu-id="b4899-360">task/fetch</span></span>                      | `on_teams_task_module_fetch`        | <span data-ttu-id="b4899-361">Búsqueda de módulos de tareas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-361">Teams task module fetch.</span></span> |
| <span data-ttu-id="b4899-362">tarea o envío</span><span class="sxs-lookup"><span data-stu-id="b4899-362">task/submit</span></span>                     | `on_teams_task_module_submit`       | <span data-ttu-id="b4899-363">Envío del módulo de tareas de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-363">Teams task module submit.</span></span> |

<span data-ttu-id="b4899-364">Las actividades de invocación que se enumeran en la sección actividades de invocación de Microsoft Teams son para bots de conversación en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="b4899-364">The invoke activities listed in the Teams invoke activities section are for conversational bots in Teams.</span></span> <span data-ttu-id="b4899-365">El SDK de bot Framework también admite actividades de invocación específicas de las extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="b4899-365">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="b4899-366">Para obtener más información, consulte [What is Messaging Extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="b4899-366">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

---
