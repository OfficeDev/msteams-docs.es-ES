---
title: Controladores de actividad de bots
author: surbhigupta
description: Comprender los controladores de actividad del bot en Teams.
ms.topic: conceptual
localization_priority: Normal
ms.author: anclear
ms.openlocfilehash: 4ecc40abca84466887466ef6a25ab6e57a38328c
ms.sourcegitcommit: 623d81eb079d1842813265746a5fe0fe6311b196
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/22/2021
ms.locfileid: "53069031"
---
# <a name="bot-activity-handlers"></a><span data-ttu-id="4b9f5-103">Controladores de actividad de bots</span><span class="sxs-lookup"><span data-stu-id="4b9f5-103">Bot activity handlers</span></span>

<span data-ttu-id="4b9f5-104">Este documento se basa en el artículo sobre cómo funcionan los [bots](https://aka.ms/how-bots-work) en la documentación básica [de Bot Framework](https://aka.ms/azure-bot-service-docs).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-104">This document builds on the article on [how bots work](https://aka.ms/how-bots-work) in the core [Bot Framework documentation](https://aka.ms/azure-bot-service-docs).</span></span> <span data-ttu-id="4b9f5-105">La diferencia principal entre los bots desarrollados para Microsoft Teams y el bot framework principal se encuentra en las características que se proporcionan en Teams.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-105">The primary difference between bots developed for Microsoft Teams and the core Bot Framework is in the features provided in Teams.</span></span>

<span data-ttu-id="4b9f5-106">Para organizar la lógica de conversación del bot, se usa un controlador de actividades.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-106">To organize the conversational logic for your bot, an activity handler is used.</span></span> <span data-ttu-id="4b9f5-107">Las actividades se controlan de dos maneras mediante Teams de actividad y lógica de bot.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-107">Activities are handled in two ways using Teams activity handlers and bot logic.</span></span> <span data-ttu-id="4b9f5-108">El controlador Teams de actividad agrega compatibilidad para Microsoft Teams eventos e interacciones específicos.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-108">The Teams activity handler adds support for Microsoft Teams-specific events and interactions.</span></span> <span data-ttu-id="4b9f5-109">El objeto bot contiene el razonamiento de conversación o la lógica de un turno y expone un controlador de turnos, que es el método que puede aceptar actividades entrantes del adaptador del bot.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-109">The bot object contains the conversational reasoning or logic for a turn and exposes a turn handler, which is the method that can accept incoming activities from the bot adapter.</span></span>

## <a name="teams-activity-handlers"></a><span data-ttu-id="4b9f5-110">Teams de actividad</span><span class="sxs-lookup"><span data-stu-id="4b9f5-110">Teams activity handlers</span></span>

<span data-ttu-id="4b9f5-111">Teams controlador de actividad se deriva del controlador de actividades de Microsoft Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-111">Teams activity handler is derived from Microsoft Bot Framework's activity handler.</span></span> <span data-ttu-id="4b9f5-112">Enruta todas las Teams antes de permitir que se controle cualquier actividad que no Teams específicas.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-112">It routes all Teams activities before allowing any non-Teams specific activities to be handled.</span></span>

<span data-ttu-id="4b9f5-113">Cuando un bot para Teams recibe una actividad, se enruta a los controladores de actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-113">When a bot for Teams receives an activity, it is routed to the activity handlers.</span></span> <span data-ttu-id="4b9f5-114">Todas las actividades se enrutan a través de un controlador base denominado controlador de turnos.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-114">All activities are routed through one base handler called the turn handler.</span></span> <span data-ttu-id="4b9f5-115">El controlador de turnos llama al controlador de actividad necesario para administrar cualquier actividad recibida.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-115">The turn handler calls the required activity handler to manage any activity received.</span></span> <span data-ttu-id="4b9f5-116">El Teams bot se deriva de la clase, que se deriva de la clase `TeamsActivityHandler` de Bot `ActivityHandler` Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-116">The Teams bot is derived from `TeamsActivityHandler` class, which is derived from the Bot Framework's `ActivityHandler` class.</span></span>

# <a name="c"></a>[<span data-ttu-id="4b9f5-117">C#</span><span class="sxs-lookup"><span data-stu-id="4b9f5-117">C#</span></span>](#tab/csharp)

<span data-ttu-id="4b9f5-118">Los bots se crean con Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-118">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="4b9f5-119">Si los bots reciben una actividad de mensaje, el controlador de turnos recibe una notificación de esa actividad entrante.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-119">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="4b9f5-120">A continuación, el controlador de turnos envía la actividad entrante al `OnMessageActivityAsync` controlador de actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-120">The turn handler then sends the incoming activity to the `OnMessageActivityAsync` activity handler.</span></span> <span data-ttu-id="4b9f5-121">En Teams, esta funcionalidad sigue siendo la misma.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-121">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="4b9f5-122">Si el bot recibe una actividad de actualización de conversación, el controlador de turnos recibe una notificación de esa actividad entrante y envía la actividad entrante a `OnConversationUpdateActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-122">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `OnConversationUpdateActivityAsync`.</span></span> <span data-ttu-id="4b9f5-123">El Teams de actividad comprueba primero si hay Teams eventos específicos.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-123">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="4b9f5-124">Si no se encuentra ningún evento, los pasa al controlador de actividad de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-124">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="4b9f5-125">En la Teams controlador de actividad, hay dos controladores de Teams principales y `OnConversationUpdateActivityAsync` `OnInvokeActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-125">In the Teams activity handler class, there are two primary Teams activity handlers, `OnConversationUpdateActivityAsync` and `OnInvokeActivityAsync`.</span></span> <span data-ttu-id="4b9f5-126">`OnConversationUpdateActivityAsync`enruta todas las actividades de actualización de conversación y `OnInvokeActivityAsync` enruta todas Teams invocar actividades.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-126">`OnConversationUpdateActivityAsync` routes all conversation update activities and `OnInvokeActivityAsync` routes all Teams invoke activities.</span></span>

<span data-ttu-id="4b9f5-127">Para implementar la lógica Teams controladores de actividad específicos, debe invalidar los métodos del bot como se muestra en la [sección lógica del](#bot-logic) bot.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-127">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [bot logic](#bot-logic) section.</span></span> <span data-ttu-id="4b9f5-128">No hay ninguna implementación base para estos controladores, por lo tanto, debe agregar la lógica que desee en su invalidación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-128">There is no base implementation for these handlers, therefore, you must add the logic that you want in your override.</span></span>

# <a name="javascript"></a>[<span data-ttu-id="4b9f5-129">JavaScript</span><span class="sxs-lookup"><span data-stu-id="4b9f5-129">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="4b9f5-130">Los bots se crean con Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-130">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="4b9f5-131">Si los bots reciben una actividad de mensaje, el controlador de turnos recibe una notificación de esa actividad entrante.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-131">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="4b9f5-132">A continuación, el controlador de turnos envía la actividad entrante al `onMessage` controlador de actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-132">The turn handler then sends the incoming activity to the `onMessage` activity handler.</span></span> <span data-ttu-id="4b9f5-133">En Teams, esta funcionalidad sigue siendo la misma.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-133">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="4b9f5-134">Si el bot recibe una actividad de actualización de conversación, el controlador de turnos recibe una notificación de esa actividad entrante y envía la actividad entrante a `dispatchConversationUpdateActivity` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-134">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `dispatchConversationUpdateActivity`.</span></span> <span data-ttu-id="4b9f5-135">El Teams de actividad comprueba primero si hay Teams eventos específicos.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-135">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="4b9f5-136">Si no se encuentra ningún evento, los pasa al controlador de actividad de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-136">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="4b9f5-137">En la Teams controlador de actividad, hay dos controladores de Teams principales y `dispatchConversationUpdateActivity` `onInvokeActivity` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-137">In the Teams activity handler class, there are two primary Teams activity handlers, `dispatchConversationUpdateActivity` and `onInvokeActivity`.</span></span> <span data-ttu-id="4b9f5-138">`dispatchConversationUpdateActivity`enruta todas las actividades de actualización de conversación y `onInvokeActivity` enruta todas Teams invocar actividades.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-138">`dispatchConversationUpdateActivity` routes all conversation update activities and `onInvokeActivity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="4b9f5-139">Para implementar la lógica Teams controladores de actividad específicos, debe invalidar los métodos del bot como se muestra en la [sección lógica del](#bot-logic) bot.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-139">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [bot logic](#bot-logic) section.</span></span> <span data-ttu-id="4b9f5-140">Defina la lógica del bot para estos controladores y, a continuación, asegúrese de llamar `next()` al final.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-140">Define your bot logic for these handlers, then be sure to call `next()` at the end.</span></span> <span data-ttu-id="4b9f5-141">Al `next()` llamar, asegúrese de que se ejecute el siguiente controlador.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-141">By calling `next()` you ensure that the next handler runs.</span></span>

# <a name="python"></a>[<span data-ttu-id="4b9f5-142">Python</span><span class="sxs-lookup"><span data-stu-id="4b9f5-142">Python</span></span>](#tab/python)

<span data-ttu-id="4b9f5-143">Los bots se crean con Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-143">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="4b9f5-144">Si los bots reciben una actividad de mensaje, el controlador de turnos recibe una notificación de esa actividad entrante.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-144">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="4b9f5-145">A continuación, el controlador de turnos envía la actividad entrante al `on_message_activity` controlador de actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-145">The turn handler then sends the incoming activity to the `on_message_activity` activity handler.</span></span> <span data-ttu-id="4b9f5-146">En Teams, esta funcionalidad sigue siendo la misma.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-146">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="4b9f5-147">Si el bot recibe una actividad de actualización de conversación, el controlador de turnos recibe una notificación de esa actividad entrante y envía la actividad entrante a `on_conversation_update_activity` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-147">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `on_conversation_update_activity`.</span></span> <span data-ttu-id="4b9f5-148">El Teams de actividad comprueba primero si hay Teams eventos específicos.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-148">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="4b9f5-149">Si no se encuentra ningún evento, los pasa al controlador de actividad de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-149">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="4b9f5-150">En la Teams controlador de actividad, hay dos controladores de Teams principales y `on_conversation_update_activity` `on_invoke_activity` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-150">In the Teams activity handler class, there are two primary Teams activity handlers, `on_conversation_update_activity` and `on_invoke_activity`.</span></span> <span data-ttu-id="4b9f5-151">`on_conversation_update_activity`enruta todas las actividades de actualización de conversación y `on_invoke_activity` enruta todas Teams invocar actividades.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-151">`on_conversation_update_activity` routes all conversation update activities and `on_invoke_activity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="4b9f5-152">Para implementar la lógica Teams controladores de actividad específicos, debe invalidar los métodos del bot como se muestra en la [sección lógica del](#bot-logic) bot.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-152">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [bot logic](#bot-logic) section.</span></span> <span data-ttu-id="4b9f5-153">No hay ninguna implementación base para estos controladores, por lo tanto, debe agregar la lógica que desee en su invalidación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-153">There is no base implementation for these handlers, therefore, you must add the logic that you want in your override.</span></span>

---

## <a name="bot-logic"></a><span data-ttu-id="4b9f5-154">Lógica del bot</span><span class="sxs-lookup"><span data-stu-id="4b9f5-154">Bot logic</span></span>

<span data-ttu-id="4b9f5-155">La lógica del bot procesa las actividades entrantes de uno o más canales de bot y, en respuesta, genera actividades salientes.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-155">The bot logic processes incoming activities from one or more of your bot channels and in response generates outgoing activities.</span></span> <span data-ttu-id="4b9f5-156">Esto sigue siendo así con los bots derivados de la clase de controlador de Teams de actividad, que primero comprueba si hay Teams actividades.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-156">This is still true of bots derived from the Teams activity handler class, which first checks for Teams activities.</span></span> <span data-ttu-id="4b9f5-157">Después de comprobar si Teams actividades, pasa todas las demás actividades al controlador de actividades de Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-157">After checking for Teams activities, it passes all other activities to the Bot Framework's activity handler.</span></span>

# <a name="c"></a>[<span data-ttu-id="4b9f5-158">C#</span><span class="sxs-lookup"><span data-stu-id="4b9f5-158">C#</span></span>](#tab/csharp)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="4b9f5-159">Controladores de Core Bot Framework</span><span class="sxs-lookup"><span data-stu-id="4b9f5-159">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="4b9f5-160">Excepto para las  **actividades de** los miembros agregados y quitados, todos los controladores de actividad descritos en esta sección siguen funcionando como lo hacen con un bot que no Teams usuario.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-160">Except for the **added** and **removed** members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="4b9f5-161">Los controladores de actividad son diferentes en el contexto de un equipo, donde se agrega un nuevo miembro al equipo en lugar de un subproceso de mensaje.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-161">Activity handlers are different in context of a team, where a new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="4b9f5-162">La lista de controladores definidos en `ActivityHandler` incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-162">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="4b9f5-163">Evento</span><span class="sxs-lookup"><span data-stu-id="4b9f5-163">Event</span></span> | <span data-ttu-id="4b9f5-164">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-164">Handler</span></span> | <span data-ttu-id="4b9f5-165">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-165">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="4b9f5-166">Cualquier tipo de actividad recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-166">Any activity type received</span></span> | `OnTurnAsync` | <span data-ttu-id="4b9f5-167">Este método llama a uno de los otros controladores, en función del tipo de actividad recibida.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-167">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="4b9f5-168">Actividad de mensajes recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-168">Message activity received</span></span> | `OnMessageActivityAsync` | <span data-ttu-id="4b9f5-169">Este método se puede invalidar para controlar una `Message` actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-169">This method can be overridden to handle a `Message` activity.</span></span> |
| <span data-ttu-id="4b9f5-170">Actividad de actualización de conversación recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-170">Conversation update activity received</span></span> | `OnConversationUpdateActivityAsync` | <span data-ttu-id="4b9f5-171">Este método llama a un controlador si miembros distintos del bot se unieron o dejaron la conversación en una `ConversationUpdate` actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-171">This method calls a handler if members other than the bot joined or left the conversation, on a `ConversationUpdate` activity.</span></span> |
| <span data-ttu-id="4b9f5-172">Miembros que no son bots se unieron a la conversación</span><span class="sxs-lookup"><span data-stu-id="4b9f5-172">Non-bot members joined the conversation</span></span> | `OnMembersAddedAsync` | <span data-ttu-id="4b9f5-173">Este método se puede invalidar para controlar los miembros que se unen a una conversación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-173">This method can be overridden to handle members joining a conversation.</span></span> |
| <span data-ttu-id="4b9f5-174">Los miembros que no son bots dejaron la conversación</span><span class="sxs-lookup"><span data-stu-id="4b9f5-174">Non-bot members left the conversation</span></span> | `OnMembersRemovedAsync` | <span data-ttu-id="4b9f5-175">Este método se puede invalidar para controlar los miembros que dejan una conversación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-175">This method can be overridden to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="4b9f5-176">Actividad de evento recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-176">Event activity received</span></span> | `OnEventActivityAsync` | <span data-ttu-id="4b9f5-177">Este método llama a un controlador específico del tipo de evento, en una `Event` actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-177">This method calls a handler specific to the event type, on an `Event` activity.</span></span> |
| <span data-ttu-id="4b9f5-178">Actividad de evento de respuesta de token recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-178">Token-response event activity received</span></span> | `OnTokenResponseEventAsync` | <span data-ttu-id="4b9f5-179">Este método se puede invalidar para controlar eventos de respuesta de token.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-179">This method can be overridden to handle token response events.</span></span> |
| <span data-ttu-id="4b9f5-180">Actividad de evento que no es de token-response recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-180">Non-token-response event activity received</span></span> | `OnEventAsync` | <span data-ttu-id="4b9f5-181">Este método se puede invalidar para controlar otros tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-181">This method can be overridden to handle other types of events.</span></span> |
| <span data-ttu-id="4b9f5-182">Otro tipo de actividad recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-182">Other activity type received</span></span> | `OnUnrecognizedActivityTypeAsync` | <span data-ttu-id="4b9f5-183">Este método se puede invalidar para controlar cualquier tipo de actividad que no se controle.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-183">This method can be overridden to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="4b9f5-184">Teams controladores de actividad específicos</span><span class="sxs-lookup"><span data-stu-id="4b9f5-184">Teams specific activity handlers</span></span>

<span data-ttu-id="4b9f5-185">Amplía la lista de controladores de la sección de controladores `TeamsActivityHandler` principales de Bot Framework para incluir lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-185">The `TeamsActivityHandler` extends the list of handlers in the core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="4b9f5-186">Evento</span><span class="sxs-lookup"><span data-stu-id="4b9f5-186">Event</span></span> | <span data-ttu-id="4b9f5-187">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-187">Handler</span></span> | <span data-ttu-id="4b9f5-188">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-188">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="4b9f5-189">channelCreated</span><span class="sxs-lookup"><span data-stu-id="4b9f5-189">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="4b9f5-190">Este método se puede invalidar para controlar un canal Teams que se está creando.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-190">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="4b9f5-191">Para obtener más información, vea [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in conversation [update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-191">For more information, see [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="4b9f5-192">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="4b9f5-192">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="4b9f5-193">Este método se puede invalidar para controlar un canal Teams que se va a eliminar.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-193">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="4b9f5-194">Para obtener más información, vea [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in conversation [update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-194">For more information, see [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-195">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="4b9f5-195">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="4b9f5-196">Este método se puede invalidar para controlar un canal Teams que se va a cambiar el nombre.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-196">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="4b9f5-197">Para obtener más información, vea [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-197">For more information, see [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-198">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="4b9f5-198">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="4b9f5-199">`return Task.CompletedTask;`Este método se puede invalidar para controlar un Teams equipo que se va a cambiar el nombre.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-199">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="4b9f5-200">Para obtener más información, vea [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-200">For more information, see [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-201">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="4b9f5-201">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="4b9f5-202">Este método llama al `OnMembersAddedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-202">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="4b9f5-203">El método se puede invalidar para controlar los miembros que se unen a un equipo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-203">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="4b9f5-204">Para obtener más información, vea [miembros del equipo agregados en](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) eventos de actualización de [conversación.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="4b9f5-204">For more information, see [team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-205">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="4b9f5-205">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="4b9f5-206">Este método llama al `OnMembersRemovedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-206">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="4b9f5-207">El método se puede invalidar para controlar los miembros que salen de un equipo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-207">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="4b9f5-208">Para obtener más información, consulta [Miembros del equipo eliminados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) en eventos [de actualización de conversación.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="4b9f5-208">For more information, see [team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="4b9f5-209">Teams invocar actividades</span><span class="sxs-lookup"><span data-stu-id="4b9f5-209">Teams invoke activities</span></span>

<span data-ttu-id="4b9f5-210">La lista de Teams controladores de actividad llamados desde `OnInvokeActivityAsync` el Teams de actividad incluyen lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-210">The list of Teams activity handlers called from the `OnInvokeActivityAsync` Teams activity handler include the following:</span></span>

| <span data-ttu-id="4b9f5-211">Invocar tipos</span><span class="sxs-lookup"><span data-stu-id="4b9f5-211">Invoke types</span></span>                    | <span data-ttu-id="4b9f5-212">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-212">Handler</span></span>                              | <span data-ttu-id="4b9f5-213">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-213">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="4b9f5-214">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-214">CardAction.Invoke</span></span>               | `OnTeamsCardActionInvokeAsync`       | <span data-ttu-id="4b9f5-215">Este método se invoca cuando se recibe una actividad de invocación de acción de tarjeta desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-215">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-216">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-216">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAcceptAsync`      | <span data-ttu-id="4b9f5-217">Este método se invoca cuando el usuario acepta una tarjeta de consentimiento de archivo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-217">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="4b9f5-218">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-218">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAsync`            | <span data-ttu-id="4b9f5-219">Este método se invoca cuando se recibe una actividad de tarjeta de consentimiento de archivo desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-219">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-220">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-220">fileConsent/invoke</span></span>              | `OnTeamsFileConsentDeclineAsync`     | <span data-ttu-id="4b9f5-221">Este método se invoca cuando el usuario rechaza una tarjeta de consentimiento de archivo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-221">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="4b9f5-222">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="4b9f5-222">actionableMessage/executeAction</span></span> | `OnTeamsO365ConnectorCardActionAsync` | <span data-ttu-id="4b9f5-223">Este método se invoca cuando se recibe una actividad de acción de tarjeta de conector O365 desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-223">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-224">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="4b9f5-224">signin/verifyState</span></span>              | `OnTeamsSigninVerifyStateAsync`      | <span data-ttu-id="4b9f5-225">Este método se invoca cuando se recibe una actividad de estado signIn verify desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-225">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-226">task/fetch</span><span class="sxs-lookup"><span data-stu-id="4b9f5-226">task/fetch</span></span>                      | `OnTeamsTaskModuleFetchAsync`        | <span data-ttu-id="4b9f5-227">Este método se puede invalidar en una clase derivada para proporcionar lógica cuando se captura un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-227">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="4b9f5-228">task/submit</span><span class="sxs-lookup"><span data-stu-id="4b9f5-228">task/submit</span></span>                     | `OnTeamsTaskModuleSubmitAsync`       | <span data-ttu-id="4b9f5-229">Este método se puede invalidar en una clase derivada para proporcionar lógica cuando se envía un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-229">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="4b9f5-230">Las actividades de invocación enumeradas en esta sección son para bots de conversación en Teams.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-230">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="4b9f5-231">El SDK de Bot Framework también admite invocar actividades específicas de extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-231">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="4b9f5-232">Para obtener más información, [vea what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-232">For more information, see [what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="javascript"></a>[<span data-ttu-id="4b9f5-233">JavaScript</span><span class="sxs-lookup"><span data-stu-id="4b9f5-233">JavaScript</span></span>](#tab/javascript)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="4b9f5-234">Controladores de Core Bot Framework</span><span class="sxs-lookup"><span data-stu-id="4b9f5-234">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="4b9f5-235">Excepto para las  **actividades de** los miembros agregados y quitados, todos los controladores de actividad descritos en esta sección siguen funcionando como lo hacen con un bot que no Teams usuario.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-235">Except for the **added** and **removed** members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="4b9f5-236">Los controladores de actividad son diferentes en el contexto de un equipo, donde el nuevo miembro se agrega al equipo en lugar de un subproceso de mensaje.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-236">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="4b9f5-237">La lista de controladores definidos en `ActivityHandler` incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-237">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="4b9f5-238">Evento</span><span class="sxs-lookup"><span data-stu-id="4b9f5-238">Event</span></span> | <span data-ttu-id="4b9f5-239">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-239">Handler</span></span> | <span data-ttu-id="4b9f5-240">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-240">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="4b9f5-241">Cualquier tipo de actividad recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-241">Any activity type received</span></span> | `onTurn` | <span data-ttu-id="4b9f5-242">Este método llama a uno de los otros controladores, en función del tipo de actividad recibida.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-242">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="4b9f5-243">Actividad de mensajes recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-243">Message activity received</span></span> | `onMessage` | <span data-ttu-id="4b9f5-244">Este método ayuda a controlar una `Message` actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-244">This method helps to handle a `Message` activity.</span></span> |
| <span data-ttu-id="4b9f5-245">Actividad de actualización de conversación recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-245">Conversation update activity received</span></span> | `onConversationUpdate` | <span data-ttu-id="4b9f5-246">Este método llama a un controlador si miembros distintos del bot se unieron o dejaron la conversación en una `ConversationUpdate` actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-246">This method calls a handler if members other than the bot joined or left the conversation, on a `ConversationUpdate` activity.</span></span> |
| <span data-ttu-id="4b9f5-247">Miembros que no son bots se unieron a la conversación</span><span class="sxs-lookup"><span data-stu-id="4b9f5-247">Non-bot members joined the conversation</span></span> | `onMembersAdded` | <span data-ttu-id="4b9f5-248">Este método ayuda a controlar los miembros que se unen a una conversación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-248">This method helps to handle members joining a conversation.</span></span> |
| <span data-ttu-id="4b9f5-249">Los miembros que no son bots dejaron la conversación</span><span class="sxs-lookup"><span data-stu-id="4b9f5-249">Non-bot members left the conversation</span></span> | `onMembersRemoved` | <span data-ttu-id="4b9f5-250">Este método ayuda a controlar los miembros que dejan una conversación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-250">This method helps to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="4b9f5-251">Actividad de evento recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-251">Event activity received</span></span> | `onEvent` | <span data-ttu-id="4b9f5-252">Este método llama a un controlador específico del tipo de evento, en una `Event` actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-252">This method calls a handler specific to the event type, on an `Event` activity.</span></span> |
| <span data-ttu-id="4b9f5-253">Actividad de evento de respuesta de token recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-253">Token-response event activity received</span></span> | `onTokenResponseEvent` | <span data-ttu-id="4b9f5-254">Este método ayuda a controlar eventos de respuesta de token.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-254">This method helps to handle token response events.</span></span> |
| <span data-ttu-id="4b9f5-255">Otro tipo de actividad recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-255">Other activity type received</span></span> | `onUnrecognizedActivityType` | <span data-ttu-id="4b9f5-256">Este método ayuda a controlar cualquier tipo de actividad que no se controle.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-256">This method helps to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="4b9f5-257">Teams controladores de actividad específicos</span><span class="sxs-lookup"><span data-stu-id="4b9f5-257">Teams specific activity handlers</span></span>

<span data-ttu-id="4b9f5-258">Amplía la lista de controladores de la sección de controladores `TeamsActivityHandler` principales de Bot Framework para incluir lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-258">The `TeamsActivityHandler` extends the list of handlers in the core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="4b9f5-259">Evento</span><span class="sxs-lookup"><span data-stu-id="4b9f5-259">Event</span></span> | <span data-ttu-id="4b9f5-260">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-260">Handler</span></span> | <span data-ttu-id="4b9f5-261">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-261">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="4b9f5-262">channelCreated</span><span class="sxs-lookup"><span data-stu-id="4b9f5-262">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="4b9f5-263">Este método se puede invalidar para controlar un canal Teams que se está creando.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-263">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="4b9f5-264">Para obtener más información, vea [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in conversation [update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-264">For more information, see [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="4b9f5-265">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="4b9f5-265">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="4b9f5-266">Este método se puede invalidar para controlar un canal Teams que se va a eliminar.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-266">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="4b9f5-267">Para obtener más información, vea [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in conversation [update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-267">For more information, see [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-268">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="4b9f5-268">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="4b9f5-269">Este método se puede invalidar para controlar un canal Teams que se va a cambiar el nombre.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-269">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="4b9f5-270">Para obtener más información, vea [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-270">For more information, see [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="4b9f5-271">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="4b9f5-271">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="4b9f5-272">`return Task.CompletedTask;`Este método se puede invalidar para controlar un Teams equipo que se va a cambiar el nombre.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-272">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="4b9f5-273">Para obtener más información, vea [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-273">For more information, see [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="4b9f5-274">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="4b9f5-274">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="4b9f5-275">Este método llama al `OnMembersAddedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-275">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="4b9f5-276">El método se puede invalidar para controlar los miembros que se unen a un equipo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-276">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="4b9f5-277">Para obtener más información, vea [miembros del equipo agregados en](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) eventos de actualización de [conversación.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="4b9f5-277">For more information, see [team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="4b9f5-278">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="4b9f5-278">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="4b9f5-279">Este método llama al `OnMembersRemovedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-279">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="4b9f5-280">El método se puede invalidar para controlar los miembros que salen de un equipo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-280">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="4b9f5-281">Para obtener más información, consulta [Miembros del equipo eliminados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) en eventos [de actualización de conversación.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="4b9f5-281">For more information, see [team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |

#### <a name="teams-invoke-activities"></a><span data-ttu-id="4b9f5-282">Teams invocar actividades</span><span class="sxs-lookup"><span data-stu-id="4b9f5-282">Teams invoke activities</span></span>

<span data-ttu-id="4b9f5-283">La lista de Teams controladores de actividad llamados desde `onInvokeActivity` el Teams de actividad incluyen lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-283">The list of Teams activity handlers called from the `onInvokeActivity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="4b9f5-284">Invocar tipos</span><span class="sxs-lookup"><span data-stu-id="4b9f5-284">Invoke types</span></span>                    | <span data-ttu-id="4b9f5-285">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-285">Handler</span></span>                              | <span data-ttu-id="4b9f5-286">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-286">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="4b9f5-287">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-287">CardAction.Invoke</span></span>               | `handleTeamsCardActionInvoke`       | <span data-ttu-id="4b9f5-288">Este método se invoca cuando se recibe una actividad de invocación de acción de tarjeta desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-288">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-289">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-289">fileConsent/invoke</span></span>              | `handleTeamsFileConsentAccept`      | <span data-ttu-id="4b9f5-290">Este método se invoca cuando el usuario acepta una tarjeta de consentimiento de archivo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-290">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="4b9f5-291">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-291">fileConsent/invoke</span></span>              | `handleTeamsFileConsent`            | <span data-ttu-id="4b9f5-292">Este método se invoca cuando se recibe una actividad de tarjeta de consentimiento de archivo desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-292">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-293">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-293">fileConsent/invoke</span></span>              | `handleTeamsFileConsentDecline`     | <span data-ttu-id="4b9f5-294">Este método se invoca cuando el usuario rechaza una tarjeta de consentimiento de archivo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-294">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="4b9f5-295">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="4b9f5-295">actionableMessage/executeAction</span></span> | `handleTeamsO365ConnectorCardAction` | <span data-ttu-id="4b9f5-296">Este método se invoca cuando se recibe una actividad de acción de tarjeta de conector O365 desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-296">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-297">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="4b9f5-297">signin/verifyState</span></span>              | `handleTeamsSigninVerifyState`      | <span data-ttu-id="4b9f5-298">Este método se invoca cuando se recibe una actividad de estado signIn verify desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-298">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-299">task/fetch</span><span class="sxs-lookup"><span data-stu-id="4b9f5-299">task/fetch</span></span>                      | `handleTeamsTaskModuleFetch`        | <span data-ttu-id="4b9f5-300">Este método se puede invalidar en una clase derivada para proporcionar lógica cuando se captura un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-300">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="4b9f5-301">task/submit</span><span class="sxs-lookup"><span data-stu-id="4b9f5-301">task/submit</span></span>                     | `handleTeamsTaskModuleSubmit`       | <span data-ttu-id="4b9f5-302">Este método se puede invalidar en una clase derivada para proporcionar lógica cuando se envía un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-302">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="4b9f5-303">Las actividades de invocación enumeradas en esta sección son para bots de conversación en Teams.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-303">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="4b9f5-304">El SDK de Bot Framework también admite invocar actividades específicas de extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-304">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="4b9f5-305">Para obtener más información, [vea what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-305">For more information, see [what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="python"></a>[<span data-ttu-id="4b9f5-306">Python</span><span class="sxs-lookup"><span data-stu-id="4b9f5-306">Python</span></span>](#tab/python)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="4b9f5-307">Controladores de Core Bot Framework</span><span class="sxs-lookup"><span data-stu-id="4b9f5-307">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="4b9f5-308">Excepto para las  **actividades de** los miembros agregados y quitados, todos los controladores de actividad descritos en esta sección siguen funcionando como lo hacen con un bot que no Teams usuario.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-308">Except for the **added** and **removed** members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="4b9f5-309">Los controladores de actividad son diferentes en el contexto de un equipo, donde el nuevo miembro se agrega al equipo en lugar de un subproceso de mensaje.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-309">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="4b9f5-310">La lista de controladores definidos en `ActivityHandler` incluye lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-310">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="4b9f5-311">Evento</span><span class="sxs-lookup"><span data-stu-id="4b9f5-311">Event</span></span> | <span data-ttu-id="4b9f5-312">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-312">Handler</span></span> | <span data-ttu-id="4b9f5-313">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-313">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="4b9f5-314">Cualquier tipo de actividad recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-314">Any activity type received</span></span> | `on_turn` | <span data-ttu-id="4b9f5-315">Este método llama a uno de los otros controladores, en función del tipo de actividad recibida.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-315">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="4b9f5-316">Actividad de mensajes recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-316">Message activity received</span></span> | `on_message_activity` | <span data-ttu-id="4b9f5-317">Este método se puede invalidar para controlar una `Message` actividad.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-317">This method can be overridden to handle a `Message` activity.</span></span> |
| <span data-ttu-id="4b9f5-318">Actividad de actualización de conversación recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-318">Conversation update activity received</span></span> | `on_conversation_update_activity` | <span data-ttu-id="4b9f5-319">Este método llama a un controlador si miembros distintos del bot se unen o salen de la conversación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-319">This method calls a handler if members other than the bot join or leave the conversation.</span></span> |
| <span data-ttu-id="4b9f5-320">Miembros que no son bots se unieron a la conversación</span><span class="sxs-lookup"><span data-stu-id="4b9f5-320">Non-bot members joined the conversation</span></span> | `on_members_added_activity` | <span data-ttu-id="4b9f5-321">Este método se puede invalidar para controlar los miembros que se unen a una conversación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-321">This method can be overridden to handle members joining a conversation.</span></span> |
| <span data-ttu-id="4b9f5-322">Los miembros que no son bots dejaron la conversación</span><span class="sxs-lookup"><span data-stu-id="4b9f5-322">Non-bot members left the conversation</span></span> | `on_members_removed_activity` | <span data-ttu-id="4b9f5-323">Este método se puede invalidar para controlar los miembros que dejan una conversación.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-323">This method can be overridden to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="4b9f5-324">Actividad de evento recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-324">Event activity received</span></span> | `on_event_activity` | <span data-ttu-id="4b9f5-325">Este método llama a un controlador específico del tipo de evento.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-325">This method calls a handler specific to the type of event.</span></span> |
| <span data-ttu-id="4b9f5-326">Actividad de evento de respuesta de token recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-326">Token-response event activity received</span></span> | `on_token_response_event` | <span data-ttu-id="4b9f5-327">Este método se puede invalidar para controlar eventos de respuesta de token.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-327">This method can be overridden to handle token response events.</span></span> |
| <span data-ttu-id="4b9f5-328">Actividad de evento que no es de token-response recibida</span><span class="sxs-lookup"><span data-stu-id="4b9f5-328">Non-token-response event activity received</span></span> | `on_event` | <span data-ttu-id="4b9f5-329">Este método se puede invalidar para controlar otros tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-329">This method can be overridden to handle other types of events.</span></span> |
| <span data-ttu-id="4b9f5-330">Otros tipos de actividad recibidos</span><span class="sxs-lookup"><span data-stu-id="4b9f5-330">Other activity types received</span></span> | `on_unrecognized_activity_type` | <span data-ttu-id="4b9f5-331">Este método se puede invalidar para controlar cualquier tipo de actividad que no se controle.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-331">This method can be overridden to handle any type of activity that is not handled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="4b9f5-332">Teams controladores de actividad específicos</span><span class="sxs-lookup"><span data-stu-id="4b9f5-332">Teams specific activity handlers</span></span>

<span data-ttu-id="4b9f5-333">Amplía la lista de controladores de la sección de controladores `TeamsActivityHandler` principales de Bot Framework para incluir lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-333">The `TeamsActivityHandler` extends the list of handlers from the core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="4b9f5-334">Evento</span><span class="sxs-lookup"><span data-stu-id="4b9f5-334">Event</span></span> | <span data-ttu-id="4b9f5-335">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-335">Handler</span></span> | <span data-ttu-id="4b9f5-336">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-336">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="4b9f5-337">channelCreated</span><span class="sxs-lookup"><span data-stu-id="4b9f5-337">channelCreated</span></span> | `on_teams_channel_created` | <span data-ttu-id="4b9f5-338">Este método se puede invalidar para controlar un canal Teams que se está creando.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-338">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="4b9f5-339">Para obtener más información, vea [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in conversation [update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-339">For more information, see [channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="4b9f5-340">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="4b9f5-340">channelDeleted</span></span> | `on_teams_channel_deleted` | <span data-ttu-id="4b9f5-341">Este método se puede invalidar para controlar un canal Teams que se va a eliminar.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-341">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="4b9f5-342">Para obtener más información, vea [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in conversation [update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-342">For more information, see [channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-343">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="4b9f5-343">channelRenamed</span></span> | `on_teams_channel_renamed` | <span data-ttu-id="4b9f5-344">Este método se puede invalidar para controlar un canal Teams que se va a cambiar el nombre.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-344">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="4b9f5-345">Para obtener más información, vea [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-345">For more information, see [channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-346">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="4b9f5-346">teamRenamed</span></span> | `on_teams_team_renamed` | <span data-ttu-id="4b9f5-347">`return Task.CompletedTask;`Este método se puede invalidar para controlar un Teams equipo que se va a cambiar el nombre.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-347">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="4b9f5-348">Para obtener más información, vea [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-348">For more information, see [team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-349">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="4b9f5-349">MembersAdded</span></span> | `on_teams_members_added` | <span data-ttu-id="4b9f5-350">Este método llama al `OnMembersAddedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-350">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="4b9f5-351">El método se puede invalidar para controlar los miembros que se unen a un equipo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-351">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="4b9f5-352">Para obtener más información, vea [miembros del equipo agregados en](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) eventos de actualización de [conversación.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="4b9f5-352">For more information, see [team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="4b9f5-353">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="4b9f5-353">MembersRemoved</span></span> | `on_teams_members_removed` | <span data-ttu-id="4b9f5-354">Este método llama al `OnMembersRemovedAsync` método en `ActivityHandler` .</span><span class="sxs-lookup"><span data-stu-id="4b9f5-354">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="4b9f5-355">El método se puede invalidar para controlar los miembros que salen de un equipo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-355">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="4b9f5-356">Para obtener más información, consulta [Miembros del equipo eliminados](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) en eventos [de actualización de conversación.](https://aka.ms/azure-bot-subscribe-to-conversation-events)</span><span class="sxs-lookup"><span data-stu-id="4b9f5-356">For more information, see [team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="4b9f5-357">Teams invocar actividades</span><span class="sxs-lookup"><span data-stu-id="4b9f5-357">Teams invoke activities</span></span>

<span data-ttu-id="4b9f5-358">La lista de Teams controladores de actividad llamados desde `on_invoke_activity` el Teams de actividad incluyen lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="4b9f5-358">The list of Teams activity handlers called from the `on_invoke_activity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="4b9f5-359">Invocar tipos</span><span class="sxs-lookup"><span data-stu-id="4b9f5-359">Invoke types</span></span>                    | <span data-ttu-id="4b9f5-360">Controlador</span><span class="sxs-lookup"><span data-stu-id="4b9f5-360">Handler</span></span>                              | <span data-ttu-id="4b9f5-361">Descripción</span><span class="sxs-lookup"><span data-stu-id="4b9f5-361">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="4b9f5-362">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-362">CardAction.Invoke</span></span>               | `on_teams_card_action_invoke`       | <span data-ttu-id="4b9f5-363">Este método se invoca cuando se recibe una actividad de invocación de acción de tarjeta desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-363">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-364">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-364">fileConsent/invoke</span></span>              | `on_teams_file_consent_accept`      | <span data-ttu-id="4b9f5-365">Este método se invoca cuando el usuario acepta una tarjeta de consentimiento de archivo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-365">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="4b9f5-366">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-366">fileConsent/invoke</span></span>              | `on_teams_file_consent`            | <span data-ttu-id="4b9f5-367">Este método se invoca cuando se recibe una actividad de tarjeta de consentimiento de archivo desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-367">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-368">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="4b9f5-368">fileConsent/invoke</span></span>              | `on_teams_file_consent_decline`     | <span data-ttu-id="4b9f5-369">Este método se invoca cuando el usuario rechaza una tarjeta de consentimiento de archivo.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-369">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="4b9f5-370">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="4b9f5-370">actionableMessage/executeAction</span></span> | `on_teams_o365_connector_card_action` | <span data-ttu-id="4b9f5-371">Este método se invoca cuando se recibe una actividad de acción de tarjeta de conector O365 desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-371">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-372">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="4b9f5-372">signin/verifyState</span></span>              | `on_teams_signin_verify_state`      | <span data-ttu-id="4b9f5-373">Este método se invoca cuando se recibe una actividad de estado signIn verify desde el conector.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-373">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="4b9f5-374">task/fetch</span><span class="sxs-lookup"><span data-stu-id="4b9f5-374">task/fetch</span></span>                      | `on_teams_task_module_fetch`        | <span data-ttu-id="4b9f5-375">Este método se puede invalidar en una clase derivada para proporcionar lógica cuando se captura un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-375">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="4b9f5-376">task/submit</span><span class="sxs-lookup"><span data-stu-id="4b9f5-376">task/submit</span></span>                     | `on_teams_task_module_submit`       | <span data-ttu-id="4b9f5-377">Este método se puede invalidar en una clase derivada para proporcionar lógica cuando se envía un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-377">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="4b9f5-378">Las actividades de invocación enumeradas en esta sección son para bots de conversación en Teams.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-378">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="4b9f5-379">El SDK de Bot Framework también admite invocar actividades específicas de extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-379">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="4b9f5-380">Para obtener más información, [vea what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span><span class="sxs-lookup"><span data-stu-id="4b9f5-380">For more information, see [what are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

---

* * *

<span data-ttu-id="4b9f5-381">Ahora que ya se ha familiarizado con los controladores de actividad del bot, veamos cómo los bots se comportan de forma diferente en función de la conversación y los mensajes que recibe o envía.</span><span class="sxs-lookup"><span data-stu-id="4b9f5-381">Now that you have familiarized yourself with bot activity handlers, let us see how bots behave differently depending on the conversation and the messages it receives or sends.</span></span>

## <a name="next-step"></a><span data-ttu-id="4b9f5-382">Paso siguiente</span><span class="sxs-lookup"><span data-stu-id="4b9f5-382">Next step</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="4b9f5-383">Conceptos básicos de la conversación</span><span class="sxs-lookup"><span data-stu-id="4b9f5-383">Conversation basics</span></span>](~/bots/how-to/conversations/conversation-basics.md)
