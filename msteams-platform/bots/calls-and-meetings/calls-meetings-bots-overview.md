---
title: Bots de llamadas y reuniones en línea
description: Obtén información sobre cómo las aplicaciones de Microsoft Teams pueden interactuar con los usuarios mediante voz y vídeo con las API de Microsoft Graph para llamadas y reuniones en línea.
keywords: llamadas de audio vídeo IVR reuniones en línea de voz
ms.openlocfilehash: 0fcf420ba8d698404d00bb2cab3d61cab2245f40
ms.sourcegitcommit: 49d1ecda14042bf3f368b14c1971618fe979b914
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 03/23/2021
ms.locfileid: "51034645"
---
# <a name="calls-and-online-meetings-bots"></a><span data-ttu-id="11b12-104">Bots de llamadas y reuniones en línea</span><span class="sxs-lookup"><span data-stu-id="11b12-104">Calls and online meetings bots</span></span>

<span data-ttu-id="11b12-105">Con la adición de API de [Microsoft Graph](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true)para llamadas y reuniones en línea, las aplicaciones de Microsoft Teams ahora pueden interactuar con los usuarios de formas enriquecciones mediante voz y vídeo.</span><span class="sxs-lookup"><span data-stu-id="11b12-105">With the addition of [Microsoft Graph APIs for calls and online meetings](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true), Microsoft Teams apps can now interact with users in rich ways using voice and video.</span></span> <span data-ttu-id="11b12-106">Estas API te permiten agregar nuevas características, como la respuesta de voz interactiva (IVR), el control de llamadas y el acceso a secuencias de audio o vídeo en tiempo real para llamadas y reuniones, incluido el uso compartido de aplicaciones y escritorio.</span><span class="sxs-lookup"><span data-stu-id="11b12-106">These APIs allow you to add new features such as interactive voice response (IVR), call control, and access to real-time audio and/or video streams for calls and meetings, including desktop and app sharing.</span></span>

<span data-ttu-id="11b12-107">Para usar estas API de Microsoft Graph en una aplicación de Microsoft Teams, crea un bot y especifica información y permisos adicionales que describiremos en otro lugar, pero en primer lugar, es importante comprender algunos conceptos básicos, terminología y convenciones:</span><span class="sxs-lookup"><span data-stu-id="11b12-107">To use these Microsoft Graph APIs in a Microsoft Teams app, you create a bot and specify some additional information and permissions which we'll describe elsewhere, but first, it's important to understand some core concepts, terminology, and conventions:</span></span>

* <span data-ttu-id="11b12-108">**Llamadas de audio y vídeo.**</span><span class="sxs-lookup"><span data-stu-id="11b12-108">**Audio/video calls.**</span></span> <span data-ttu-id="11b12-109">Las llamadas en Teams pueden ser puramente audio o audio+vídeo.</span><span class="sxs-lookup"><span data-stu-id="11b12-109">Calls in Teams can be purely audio or audio+video.</span></span> <span data-ttu-id="11b12-110">Por razones de brevedad, no decimos "llamada de audio y vídeo" en todas partes; simplemente decimos "llamar".</span><span class="sxs-lookup"><span data-stu-id="11b12-110">For brevity's sake, we don't say "audio/video call" everywhere; we just say "call."</span></span>
* <span data-ttu-id="11b12-111">**Tipos de llamadas.**</span><span class="sxs-lookup"><span data-stu-id="11b12-111">**Call types.**</span></span> <span data-ttu-id="11b12-112">Las llamadas son punto a punto (entre una persona y el bot) o multipartes (el bot y dos o más personas en una llamada de grupo).</span><span class="sxs-lookup"><span data-stu-id="11b12-112">Calls are either peer-to-peer (between a person and your bot) or multiparty (your bot and two or more people in a group call).</span></span>
  <span data-ttu-id="11b12-113">![CallingTypes ](~/assets/images/calls-and-meetings/call-types.png) :</span><span class="sxs-lookup"><span data-stu-id="11b12-113">![CallingTypes](~/assets/images/calls-and-meetings/call-types.png):</span></span>
  * <span data-ttu-id="11b12-114">Un usuario puede iniciar una llamada punto a punto con el bot o invitar al bot a una llamada multiparte existente (aunque esta última aún no está habilitada en la interfaz de usuario de Microsoft Teams).</span><span class="sxs-lookup"><span data-stu-id="11b12-114">A user may initiate a peer-to-peer call with your bot or invite your bot into an existing multiparty call (although the latter is not yet enabled in the Microsoft Teams UI).</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="11b12-115">Actualmente, las llamadas iniciadas por el usuario a un bot no se admiten en la plataforma móvil de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="11b12-115">User initiated calls to a bot are currently not supported on Microsoft Teams mobile platform.</span></span> 
  
  * <span data-ttu-id="11b12-116">Los permisos de Microsoft Graph no son necesarios para que un usuario inicie una llamada punto a punto con el bot, pero se necesitan permisos adicionales para que el bot participe en una llamada multipartid o para que el bot inicie una llamada punto a punto con un usuario.</span><span class="sxs-lookup"><span data-stu-id="11b12-116">Microsoft Graph permissions aren't necessary for a user to initiate a peer-to-peer call with your bot, but additional permissions are needed for your bot to participate in a multiparty call, or for your bot to initiate a peer-to-peer call with a user.</span></span>
  * <span data-ttu-id="11b12-117">Una llamada puede comenzar como punto a punto y escalar a varias partes.</span><span class="sxs-lookup"><span data-stu-id="11b12-117">A call may start as peer-to-peer and escalate to multiparty.</span></span> <span data-ttu-id="11b12-118">El bot puede iniciar esta escalada invitando a otros usuarios, siempre que el bot tenga los permisos adecuados.</span><span class="sxs-lookup"><span data-stu-id="11b12-118">Your bot can initiate this escalation by inviting others, provided your bot has the proper permissions.</span></span> <span data-ttu-id="11b12-119">Si el bot no tiene permisos para participar en llamadas de grupo y un participante agrega otra parte, el bot se descarta de la llamada.</span><span class="sxs-lookup"><span data-stu-id="11b12-119">If your bot doesn't have permissions to participate in group calls and one participant adds another party, your bot is dropped from the call.</span></span>
* <span data-ttu-id="11b12-120">**Señalización.**</span><span class="sxs-lookup"><span data-stu-id="11b12-120">**Signaling.**</span></span> <span data-ttu-id="11b12-121">Hay dos tipos de señales: llamadas entrantes y llamadas entrantes:</span><span class="sxs-lookup"><span data-stu-id="11b12-121">There are two types of signals — incoming call and in-call:</span></span>
  * <span data-ttu-id="11b12-122">Para recibir una llamada entrante, especifique un extremo en la configuración del bot; este extremo recibe una notificación cuando llega una llamada entrante.</span><span class="sxs-lookup"><span data-stu-id="11b12-122">To receive an incoming call, you specify an endpoint in your bot settings; this endpoint receives a notification when an incoming call arrives.</span></span> <span data-ttu-id="11b12-123">Puedes responder a la llamada, rechazarla o redirigirla a otro lugar o a otra persona.</span><span class="sxs-lookup"><span data-stu-id="11b12-123">You can answer the call, reject it, or redirect it to somewhere or someone else.</span></span>
  <span data-ttu-id="11b12-124">![Tipos de llamadas](~/assets/images/calls-and-meetings/call-handling.png)</span><span class="sxs-lookup"><span data-stu-id="11b12-124">![Call Types](~/assets/images/calls-and-meetings/call-handling.png)</span></span>
  * <span data-ttu-id="11b12-125">Cuando un bot está en una llamada, hay API para silenciar y desmutarse a sí mismo y para iniciar o dejar de compartir contenido de vídeo/escritorio con los demás participantes.</span><span class="sxs-lookup"><span data-stu-id="11b12-125">When a bot is in a call, there are APIs for muting and unmuting itself and to start/stop sharing video/desktop content with the other participants.</span></span>
  * <span data-ttu-id="11b12-126">El bot también puede acceder a la lista de participantes, invitar a nuevos participantes y silenciarlos.</span><span class="sxs-lookup"><span data-stu-id="11b12-126">The bot can also access the list of participants, invite new participants, and mute them.</span></span>
* <span data-ttu-id="11b12-127">**Llamadas y reuniones en línea.**</span><span class="sxs-lookup"><span data-stu-id="11b12-127">**Calls and online meetings.**</span></span> <span data-ttu-id="11b12-128">Desde la perspectiva de un usuario de Teams, hay dos tipos de reuniones en línea: ad hoc y programadas.</span><span class="sxs-lookup"><span data-stu-id="11b12-128">From a Teams user's perspective, there are two kinds of online meetings — ad hoc and scheduled.</span></span> <span data-ttu-id="11b12-129">Sin embargo, desde la perspectiva de un bot, ambos son los mismos.</span><span class="sxs-lookup"><span data-stu-id="11b12-129">However, from a bot's perspective, both are the same.</span></span> <span data-ttu-id="11b12-130">Para un bot, una reunión en línea es solo una llamada multiparte (el conjunto de participantes) más "coordenadas de reunión", que puede ser los metadatos de la reunión: , asociados con la reunión, , y mucho `botId` `chatId` `joinUrl` `startTime` / `endTime` más.</span><span class="sxs-lookup"><span data-stu-id="11b12-130">To a bot, an online meeting is just a multiparty call (the set of participants) plus "meeting coordinates," which you can think of as the metadata for the meeting: `botId`, `chatId` associated with the meeting, `joinUrl`, `startTime`/`endTime`, and more.</span></span>
* <span data-ttu-id="11b12-131">**Medios en tiempo real.**</span><span class="sxs-lookup"><span data-stu-id="11b12-131">**Real-time media.**</span></span> <span data-ttu-id="11b12-132">Cuando un bot participa en una llamada o reunión en línea, debe tratar con secuencias de audio y vídeo.</span><span class="sxs-lookup"><span data-stu-id="11b12-132">When a bot is participating in a call or online meeting, it must deal with audio and video streams.</span></span> <span data-ttu-id="11b12-133">Cuando los usuarios hablan en una llamada, se muestran en una cámara web o presentan sus pantallas en una reunión, un bot "ve" esto como secuencias de audio y/o vídeo.</span><span class="sxs-lookup"><span data-stu-id="11b12-133">When users talk on a call, show themselves on a webcam, or present their screens in a meeting, a bot "sees" this as audio and/or video streams.</span></span> <span data-ttu-id="11b12-134">Si un bot quiere decir algo o presentar contenido de pantalla, eso requiere una secuencia de audio o vídeo.</span><span class="sxs-lookup"><span data-stu-id="11b12-134">If a bot wants to say something or present screen content, that requires an audio or video stream.</span></span> <span data-ttu-id="11b12-135">Incluso algo tan simple como el bot que dice "presione 0 para llegar al operador" en un escenario de IVR (respuesta de voz interactiva) significa reproducir un . ARCHIVO WAV.</span><span class="sxs-lookup"><span data-stu-id="11b12-135">Even something as simple as the bot saying, "press 0 to reach the operator" in an IVR (interactive voice response) scenario means playing a .WAV file.</span></span> <span data-ttu-id="11b12-136">Colectivamente, nos referimos  a esto como medios o medios en tiempo _real_ (al hacer referencia a escenarios en los que los medios deben procesarse en tiempo real, en lugar de reproducir audio o vídeo grabados anteriormente).</span><span class="sxs-lookup"><span data-stu-id="11b12-136">Collectively, we refer to this as _media_ or _real-time media_ (when referring to scenarios where media must be processed in real time, as opposed to playback of previously-recorded audio/video).</span></span> <span data-ttu-id="11b12-137">Históricamente, tratar con secuencias multimedia, especialmente las secuencias multimedia en tiempo real, ha sido extremadamente compleja para los desarrolladores.</span><span class="sxs-lookup"><span data-stu-id="11b12-137">Historically, dealing with media streams, particularly real-time media streams, has been extremely complex for developers.</span></span> <span data-ttu-id="11b12-138">Microsoft ha creado la Plataforma multimedia en tiempo _real_ para controlar estos casos de uso y descargar la mayor parte del tradicional "trabajo pesado" del procesamiento multimedia en tiempo real como sea posible.</span><span class="sxs-lookup"><span data-stu-id="11b12-138">Microsoft has created the _Real-time Media Platform_ to handle these use cases and to offload as much of the traditional "heavy lifting" of real-time media processing as possible.</span></span>  <span data-ttu-id="11b12-139">Cuando el bot responde a una llamada entrante o se une a una llamada nueva o existente, tiene que indicarle a la plataforma Real-time Media cómo se tratarán los elementos multimedia.</span><span class="sxs-lookup"><span data-stu-id="11b12-139">When the bot answers an incoming call, or joins a new or existing call, it needs to tell the Real-time Media Platform how media will be handled.</span></span> <span data-ttu-id="11b12-140">Si está creando una aplicación IVR, puede descargar el costoso procesamiento de audio a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="11b12-140">If you're building an IVR application, you can offload the expensive audio processing to Microsoft.</span></span> <span data-ttu-id="11b12-141">Como alternativa, si el bot requiere acceso directo a las secuencias multimedia, también se admite ese escenario.</span><span class="sxs-lookup"><span data-stu-id="11b12-141">Alternatively, if your bot requires direct access to media streams, we support that scenario too.</span></span> <span data-ttu-id="11b12-142">Existen los dos tipos de procesamiento de medios:</span><span class="sxs-lookup"><span data-stu-id="11b12-142">There are the two types of media processing:</span></span>
  * <span data-ttu-id="11b12-143">**Medios hospedados en el servicio.**</span><span class="sxs-lookup"><span data-stu-id="11b12-143">**Service-hosted media.**</span></span> <span data-ttu-id="11b12-144">Los bots se centran en administrar el flujo de trabajo de aplicaciones (por ejemplo, las llamadas de enrutamiento) y en descargar el procesamiento de audio en la Plataforma multimedia en tiempo real de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="11b12-144">Bots focus on managing application workflow (e.g., routing calls) and offload audio processing to the Microsoft Real-time Media Platform.</span></span> <span data-ttu-id="11b12-145">Con los medios hospedados en el servicio, tiene varias opciones para implementar y hospedar el bot.</span><span class="sxs-lookup"><span data-stu-id="11b12-145">With service-hosted media, you have several options to implement and host your bot.</span></span> <span data-ttu-id="11b12-146">Un bot de medios hospedado por el servicio se puede implementar como un servicio sin estado, ya que no procesa los medios localmente.</span><span class="sxs-lookup"><span data-stu-id="11b12-146">A service-hosted media bot can be implemented as a stateless service since it doesn't process media locally.</span></span> <span data-ttu-id="11b12-147">Los bots multimedia hospedados en el servicio pueden usar API como reproducir un clip de audio, grabar clips de audio o suscribirse a tonos `PlayPrompt` `Record` DTMF (por ejemplo, saber cuándo un usuario ha presionado 0 para llegar al `SubscribeToTone` operador).</span><span class="sxs-lookup"><span data-stu-id="11b12-147">Service-hosted media bots can use APIs such as `PlayPrompt` for playing an audio clip, `Record` for recording audio clips, or `SubscribeToTone` for subscribing to DTMF tones (e.g., knowing when a user has pressed 0 to reach the operator).</span></span>
  * <span data-ttu-id="11b12-148">**Medios hospedados en aplicaciones.**</span><span class="sxs-lookup"><span data-stu-id="11b12-148">**Application-hosted media.**</span></span> <span data-ttu-id="11b12-149">Para que un bot obtenga acceso directo a los medios, necesita un permiso específico de Graph, pero una vez que el bot lo tiene, la Biblioteca multimedia en tiempo [real](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) y el SDK de llamadas de [Graph](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) le ayudan a crear medios enriquecidos en tiempo real y llamar a bots.</span><span class="sxs-lookup"><span data-stu-id="11b12-149">For a bot to get direct access to the media, it needs a specific Graph permission, but once your bot has it, the [Real-time Media Library](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) and the [Graph Calling SDK](https://microsoftgraph.github.io/microsoft-graph-comms-samples/docs/articles/index.html#graph-calling-sdk-and-stateful-client-builder) helps you build rich, real-time media, calling bots.</span></span> <span data-ttu-id="11b12-150">Un bot hospedado por la aplicación debe hospedarse en un entorno windows, como se describe con más [detalle aquí](./requirements-considerations-application-hosted-media-bots.md).</span><span class="sxs-lookup"><span data-stu-id="11b12-150">An Application-hosted bot must be hosted in a Windows environment, as described in more detail [here](./requirements-considerations-application-hosted-media-bots.md).</span></span>

## <a name="further-reading"></a><span data-ttu-id="11b12-151">Lectura adicional</span><span class="sxs-lookup"><span data-stu-id="11b12-151">Further reading</span></span>

<span data-ttu-id="11b12-152">A continuación, encontrará más información sobre cómo crear y probar llamadas y bots de reuniones en línea:</span><span class="sxs-lookup"><span data-stu-id="11b12-152">Here's more information on how to create and test calls and online meetings bots:</span></span>

* [<span data-ttu-id="11b12-153">Referencia de la API de Graph</span><span class="sxs-lookup"><span data-stu-id="11b12-153">Graph API reference</span></span>](/graph/api/resources/communications-api-overview?view=graph-rest-beta&preserve-view=true)
* [<span data-ttu-id="11b12-154">Aplicaciones de ejemplo</span><span class="sxs-lookup"><span data-stu-id="11b12-154">Sample apps</span></span>](https://github.com/microsoftgraph/microsoft-graph-comms-samples)
* <span data-ttu-id="11b12-155">[Registro de un bot que admite llamadas](./registering-calling-bot.md) y reuniones en línea y permisos de Microsoft Graph para [bots](./registering-calling-bot.md#add-microsoft-graph-permissions) de llamadas y reuniones en línea</span><span class="sxs-lookup"><span data-stu-id="11b12-155">[Registering a bot that supports calls and online meetings](./registering-calling-bot.md) and [Microsoft Graph permissions for calls and online meetings bots](./registering-calling-bot.md#add-microsoft-graph-permissions)</span></span>
* [<span data-ttu-id="11b12-156">Cómo desarrollar bots de llamadas y reuniones en línea en el equipo local</span><span class="sxs-lookup"><span data-stu-id="11b12-156">How to develop calling and online meeting bots on your local PC</span></span>](./debugging-local-testing-calling-meeting-bots.md)
* <span data-ttu-id="11b12-157">[Más información sobre el procesamiento de medios](./real-time-media-concepts.md)en tiempo real y lo que se necesita para admitir medios [hospedados en aplicaciones](./requirements-considerations-application-hosted-media-bots.md)</span><span class="sxs-lookup"><span data-stu-id="11b12-157">[More information on real-time media processing](./real-time-media-concepts.md), and [what's needed to support application-hosted media](./requirements-considerations-application-hosted-media-bots.md)</span></span>
* [<span data-ttu-id="11b12-158">Información técnica sobre cómo controlar las notificaciones de llamadas entrantes</span><span class="sxs-lookup"><span data-stu-id="11b12-158">Technical information on handling incoming call notifications</span></span>](./call-notifications.md)
