---
title: Llamadas multimedia en tiempo real y reuniones en línea con Microsoft Teams
description: Comprender conceptos clave en la creación de bots que pueden realizar llamadas de audio y vídeo en tiempo real y reuniones en línea.
ms.topic: conceptual
localization_priority: Normal
keywords: audio stream video stream audio/video calling meeting real-time media application-hosted media hosted media service-hosted media
ms.openlocfilehash: deedc47f67fe6848cf7f84457247d2271257e3f0
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/26/2021
ms.locfileid: "52020158"
---
# <a name="real-time-media-calls-and-meetings-with-microsoft-teams"></a><span data-ttu-id="11fe1-104">Llamadas y reuniones multimedia en tiempo real con Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="11fe1-104">Real-time media calls and meetings with Microsoft Teams</span></span>

<span data-ttu-id="11fe1-105">La Plataforma multimedia en tiempo real permite a los bots interactuar con las llamadas y reuniones de Microsoft Teams mediante el uso compartido de pantalla, vídeo y voz en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="11fe1-105">The Real-time Media Platform enables bots to interact with Microsoft Teams calls and meetings using real-time voice, video, and screen sharing.</span></span> <span data-ttu-id="11fe1-106">Se trata de una funcionalidad avanzada que permite al bot enviar y recibir contenido de voz y vídeo fotograma por fotograma.</span><span class="sxs-lookup"><span data-stu-id="11fe1-106">This is an advanced capability that allows the bot to send and receive voice and video content frame by frame.</span></span> <span data-ttu-id="11fe1-107">El bot tiene acceso sin procesar a las secuencias multimedia de voz, vídeo y pantalla compartida.</span><span class="sxs-lookup"><span data-stu-id="11fe1-107">The bot has raw access to the voice, video, and screen sharing media streams.</span></span> <span data-ttu-id="11fe1-108">Hay bots multimedia hospedados en servicios más sencillos que dependen de la Plataforma multimedia en tiempo real para todo el procesamiento de medios.</span><span class="sxs-lookup"><span data-stu-id="11fe1-108">There are simpler service-hosted media bots that rely on the Real-time Media Platform for all media processing.</span></span> <span data-ttu-id="11fe1-109">Los bots que procesan los medios por sí mismos se denominan bots multimedia hospedados en aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="11fe1-109">Bots that process media themselves are called application-hosted media bots.</span></span>

<span data-ttu-id="11fe1-110">Por ejemplo, en una llamada 1:1 con un bot, mientras el usuario habla, el bot recibe 50 fotogramas de audio por segundo, con cada fotograma que contiene 20 milisegundos (ms) de audio.</span><span class="sxs-lookup"><span data-stu-id="11fe1-110">For example, in a 1:1 call with a bot, as the user speaks, the bot receives 50 audio frames per second, with each frame containing 20 milliseconds (ms) of audio.</span></span> <span data-ttu-id="11fe1-111">Un bot multimedia hospedado por la aplicación puede realizar el reconocimiento de voz en tiempo real a medida que se reciben los fotogramas de audio, en lugar de tener que esperar una grabación después de que el usuario haya dejado de hablar.</span><span class="sxs-lookup"><span data-stu-id="11fe1-111">An application-hosted media bot can perform real-time speech recognition as the audio frames are received, rather than having to wait for a recording after the user has stopped speaking.</span></span> <span data-ttu-id="11fe1-112">El bot también puede enviar y recibir vídeo de resolución de alta definición, incluido el contenido de uso compartido de pantalla basado en vídeo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-112">The bot can also send and receive high-definition-resolution video, including video-based screen sharing content.</span></span>

<span data-ttu-id="11fe1-113">La plataforma proporciona una API sencilla como socket para que el bot envíe y reciba medios.</span><span class="sxs-lookup"><span data-stu-id="11fe1-113">The platform provides a simple socket-like API for the bot to send and receive media.</span></span> <span data-ttu-id="11fe1-114">Controla la codificación y decodificación en tiempo real de paquetes de audio o vídeo con códecs como SILK y G.722 para audio y H.264 para vídeo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-114">It handles the real-time encoding and decoding of audio or video packets using codecs such as SILK and G.722 for audio and H.264 for video.</span></span> <span data-ttu-id="11fe1-115">La plataforma también controla automáticamente todo el cifrado o descifrado de paquetes multimedia y la transmisión de red de paquetes.</span><span class="sxs-lookup"><span data-stu-id="11fe1-115">The platform also handles all media packet encryption or decryption and packet network transmission automatically.</span></span> <span data-ttu-id="11fe1-116">El bot solo se preocupa por el contenido real de audio o vídeo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-116">The bot is only concerned with the actual audio or video content.</span></span> <span data-ttu-id="11fe1-117">Un bot multimedia en tiempo real participa en llamadas 1:1, así como reuniones con varios participantes.</span><span class="sxs-lookup"><span data-stu-id="11fe1-117">A real-time media bot participates in 1:1 calls as well as meetings with multiple participants.</span></span>

## <a name="media-session"></a><span data-ttu-id="11fe1-118">Sesión multimedia</span><span class="sxs-lookup"><span data-stu-id="11fe1-118">Media session</span></span>

<span data-ttu-id="11fe1-119">Cuando un bot multimedia en tiempo real responde a una llamada entrante o se une a una reunión de Teams, debe declarar qué modalidades debe admitir.</span><span class="sxs-lookup"><span data-stu-id="11fe1-119">When a real-time media bot answers an incoming call or joins a Teams meeting, it must declare what modalities it must support.</span></span> <span data-ttu-id="11fe1-120">Para cada modalidad admitida, el bot declara si puede enviar y recibir medios, recibir solo o enviar solo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-120">For each supported modality, the bot declares whether it can send and receive media, receive only, or send only.</span></span> <span data-ttu-id="11fe1-121">Por ejemplo, un bot diseñado para controlar las llamadas de Teams 1:1 requiere enviar y recibir audio, pero solo enviar vídeo, ya que no requiere recibir el vídeo del autor de la llamada.</span><span class="sxs-lookup"><span data-stu-id="11fe1-121">For example, a bot designed to handle 1:1 Teams calls, requires to both send and receive audio, but only send video as it does not require to receive the video of the caller.</span></span> <span data-ttu-id="11fe1-122">El conjunto de modalidades de audio y vídeo establecidas entre el bot y la llamada o reunión de Teams se denomina sesión multimedia.</span><span class="sxs-lookup"><span data-stu-id="11fe1-122">The set of audio and video modalities established between the bot and the Teams caller or meeting is called the media session.</span></span>

<span data-ttu-id="11fe1-123">Se admiten dos tipos de modalidades de vídeo, el vídeo principal y el uso compartido de pantalla basado en vídeo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-123">Two types of video modalities are supported, main video and video-based screen sharing.</span></span> <span data-ttu-id="11fe1-124">El vídeo principal se usa para transportar el vídeo desde la cámara web de un usuario.</span><span class="sxs-lookup"><span data-stu-id="11fe1-124">The main video is used to transport the video from a user's webcam.</span></span> <span data-ttu-id="11fe1-125">El uso compartido de pantalla basado en vídeo permite que un usuario comparta su pantalla como una secuencia de vídeo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-125">The video-based screen sharing allows a user to share his or her screen as a video stream.</span></span> <span data-ttu-id="11fe1-126">La plataforma permite que un bot envíe y reciba ambos tipos de vídeo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-126">The platform allows a bot to send and receive both video types.</span></span>

<span data-ttu-id="11fe1-127">Cuando se une a una reunión de Teams, un bot puede recibir varias secuencias de vídeo principales simultáneamente hasta diez por sesión multimedia.</span><span class="sxs-lookup"><span data-stu-id="11fe1-127">When joined to a Teams meeting, a bot can receive multiple main video streams simultaneously up to ten per media session.</span></span> <span data-ttu-id="11fe1-128">Esto permite que el bot vea a más de un participante en la reunión.</span><span class="sxs-lookup"><span data-stu-id="11fe1-128">This allows the bot to see more than one participant in the meeting.</span></span>

<span data-ttu-id="11fe1-129">La siguiente sección proporciona detalles sobre el bot que envía y recibe medios como una secuencia de fotogramas.</span><span class="sxs-lookup"><span data-stu-id="11fe1-129">The next section provides details about the bot sending and receiving media as a sequence of frames.</span></span>

## <a name="frames-and-frame-rate"></a><span data-ttu-id="11fe1-130">Fotogramas y velocidad de fotogramas</span><span class="sxs-lookup"><span data-stu-id="11fe1-130">Frames and frame rate</span></span>

<span data-ttu-id="11fe1-131">Un bot multimedia en tiempo real interactúa directamente con las modalidades de audio y vídeo de una sesión multimedia.</span><span class="sxs-lookup"><span data-stu-id="11fe1-131">A real-time media bot interacts directly with the audio and video modalities of a media session.</span></span> <span data-ttu-id="11fe1-132">Esto significa que el bot envía y recibe medios como una secuencia de fotogramas, donde cada fotograma representa una unidad de contenido.</span><span class="sxs-lookup"><span data-stu-id="11fe1-132">This means the bot is sending and receiving media as a sequence of frames, where each frame represents a unit of content.</span></span> <span data-ttu-id="11fe1-133">Un segundo de audio se transmite como una secuencia de 50 fotogramas, con cada fotograma que contiene 20 ms que es el 1/50 de un segundo de contenido de voz.</span><span class="sxs-lookup"><span data-stu-id="11fe1-133">One second of audio is transmitted as a sequence of 50 frames, with each frame containing 20 ms that is 1/50th of a second of speech content.</span></span> <span data-ttu-id="11fe1-134">Un segundo de vídeo se transmite como una secuencia de 30 imágenes fijas, cada una destinada a ser vista durante solo 33,3 ms, es decir, 1/30 de segundo antes de que se muestre el siguiente fotograma de vídeo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-134">One second of video is transmitted as a sequence of 30 still images, each intended to be viewed for just 33.3 ms that is 1/30th of a second before the next video frame is displayed.</span></span> <span data-ttu-id="11fe1-135">El número de fotogramas transmitidos o representados por segundo se denomina velocidad de fotogramas.</span><span class="sxs-lookup"><span data-stu-id="11fe1-135">The number of frames transmitted or rendered per second is called the frame rate.</span></span>

<span data-ttu-id="11fe1-136">En la siguiente sección se proporcionan detalles sobre el formato de audio y vídeo que se usa en las reuniones y llamadas multimedia en tiempo real.</span><span class="sxs-lookup"><span data-stu-id="11fe1-136">The next section provides details about the audio and video format used in real-time media calls and meetings.</span></span>

## <a name="audio-and-video-format"></a><span data-ttu-id="11fe1-137">Formato de audio y vídeo</span><span class="sxs-lookup"><span data-stu-id="11fe1-137">Audio and video format</span></span>

<span data-ttu-id="11fe1-138">En formato de audio, cada segundo de audio se representa como 16 000 muestras, y cada muestra contiene 16 bits de datos.</span><span class="sxs-lookup"><span data-stu-id="11fe1-138">In audio format, each second of audio is represented as 16,000 samples, with each sample containing 16-bits of data.</span></span> <span data-ttu-id="11fe1-139">Un marco de audio de 20 ms contiene 320 muestras que son 640 bytes de datos.</span><span class="sxs-lookup"><span data-stu-id="11fe1-139">A 20 ms audio frame contains 320 samples that is 640 bytes of data.</span></span>

<span data-ttu-id="11fe1-140">En formato de vídeo, se admiten varios formatos.</span><span class="sxs-lookup"><span data-stu-id="11fe1-140">In video format, several formats are supported.</span></span> <span data-ttu-id="11fe1-141">Dos propiedades clave de un formato de vídeo son el tamaño del marco y el formato de color.</span><span class="sxs-lookup"><span data-stu-id="11fe1-141">Two key properties of a video format are its frame size and color format.</span></span> <span data-ttu-id="11fe1-142">Los tamaños de fotograma admitidos incluyen 640 x 360 píxeles, 1280 x 720 píxeles y 1920 x 1080 píxeles.</span><span class="sxs-lookup"><span data-stu-id="11fe1-142">Supported frame sizes include 640x360 that is 360 pixels, 1280x720 that is 720 pixels, and 1920x1080 that is 1080 pixels.</span></span> <span data-ttu-id="11fe1-143">Los formatos de color admitidos incluyen NV12 que es de 12 bits por píxel y RGB24 que es de 24 bits por píxel.</span><span class="sxs-lookup"><span data-stu-id="11fe1-143">Supported color formats include NV12 that is 12 bits per pixel and RGB24 that is 24 bits per pixel.</span></span>

<span data-ttu-id="11fe1-144">Un marco de vídeo de 720p contiene 921 600 píxeles que es 1280 veces 720.</span><span class="sxs-lookup"><span data-stu-id="11fe1-144">A 720p video frame contains 921,600 pixels that is 1280 times 720.</span></span> <span data-ttu-id="11fe1-145">En el formato de color RGB24, cada píxel se representa como 3 bytes de 24 bits compuestos de un byte cada uno de los componentes de color rojo, verde y azul.</span><span class="sxs-lookup"><span data-stu-id="11fe1-145">In the RGB24 color format, each pixel is represented as 3 bytes that is 24-bits comprised of one byte each of red, green, and blue color components.</span></span> <span data-ttu-id="11fe1-146">Por lo tanto, un único fotograma de vídeo RGB24 de 720p requiere 2.764.800 bytes de datos que son 921.600 píxeles por 3 bytes por píxel.</span><span class="sxs-lookup"><span data-stu-id="11fe1-146">Therefore, a single 720p RGB24 video frame requires 2,764,800 bytes of data that is 921,600 pixels times 3 bytes per pixel.</span></span> <span data-ttu-id="11fe1-147">A una velocidad de fotogramas de 30 fps, enviar fotogramas de vídeo RGB24 de 720p significa procesar aproximadamente 80 megabytes por segundo de contenido, que el códec de vídeo H.264 comprime considerablemente antes de la transmisión de red.</span><span class="sxs-lookup"><span data-stu-id="11fe1-147">At a frame rate of 30 fps, sending 720p RGB24 video frames means processing approximately 80 megabytes per second of content, which is substantially compressed by the H.264 video codec before network transmission.</span></span>

<span data-ttu-id="11fe1-148">Una funcionalidad avanzada de la plataforma permite que un bot envíe o reciba vídeo como fotogramas H.264 codificados.</span><span class="sxs-lookup"><span data-stu-id="11fe1-148">An advanced capability of the platform allows a bot to send or receive video as encoded H.264 frames.</span></span> <span data-ttu-id="11fe1-149">Esto admite bots que proporcionan su propio codificador o descodificador H.264, o no requieren que la secuencia de vídeo se descodifica en mapas de bits RGB24 o NV12 sin procesar.</span><span class="sxs-lookup"><span data-stu-id="11fe1-149">This supports bots which provide their own H.264 encoder or decoder, or do not require the video stream decoded into raw RGB24 or NV12 bitmaps.</span></span>

<span data-ttu-id="11fe1-150">En la siguiente sección se proporcionan detalles acerca de qué participantes de la reunión hablan los que son oradores activos y dominantes.</span><span class="sxs-lookup"><span data-stu-id="11fe1-150">The next section provides details about which meeting participants are speaking that is which are active and dominant speakers.</span></span>

## <a name="active-and-dominant-speakers"></a><span data-ttu-id="11fe1-151">Altavoces activos y dominantes</span><span class="sxs-lookup"><span data-stu-id="11fe1-151">Active and dominant speakers</span></span>

<span data-ttu-id="11fe1-152">Cuando se une a una reunión de Teams formada por varios participantes, un bot puede identificar qué participantes de la reunión hablan actualmente.</span><span class="sxs-lookup"><span data-stu-id="11fe1-152">When joined to a Teams meeting consisting of multiple participants, a bot can identify which meeting participants are currently speaking.</span></span> <span data-ttu-id="11fe1-153">Los altavoces activos identifican qué participantes se escuchan en cada fotograma de audio recibido.</span><span class="sxs-lookup"><span data-stu-id="11fe1-153">Active speakers identify which participants are being heard in each received audio frame.</span></span> <span data-ttu-id="11fe1-154">Los altavoces dominantes identifican qué participantes son actualmente más activos o dominantes en la conversación de grupo, aunque su voz no se escucha en todos los fotogramas de audio.</span><span class="sxs-lookup"><span data-stu-id="11fe1-154">Dominant speakers identify which participants are currently most active or dominant in the group conversation, even though their voice is not heard in every audio frame.</span></span> <span data-ttu-id="11fe1-155">El conjunto de altavoces dominantes puede cambiar a medida que los diferentes participantes toman turnos de palabra.</span><span class="sxs-lookup"><span data-stu-id="11fe1-155">The set of dominant speakers can change as different participants take turns speaking.</span></span>

<span data-ttu-id="11fe1-156">En la siguiente sección se proporcionan detalles sobre las solicitudes de suscripción de vídeo realizadas por un bot.</span><span class="sxs-lookup"><span data-stu-id="11fe1-156">The next section provides details about video subscription requests made by a bot.</span></span>

## <a name="video-subscription"></a><span data-ttu-id="11fe1-157">Suscripción de vídeo</span><span class="sxs-lookup"><span data-stu-id="11fe1-157">Video subscription</span></span>

<span data-ttu-id="11fe1-158">En una llamada 1:1, el bot recibe automáticamente el vídeo del autor de la llamada si el bot está habilitado para recibir el vídeo.</span><span class="sxs-lookup"><span data-stu-id="11fe1-158">In a 1:1 call, the bot automatically receives the video of the caller if the bot is enabled to receive the video.</span></span> <span data-ttu-id="11fe1-159">En una reunión de Teams, el bot debe indicar a la plataforma qué participantes quiere ver.</span><span class="sxs-lookup"><span data-stu-id="11fe1-159">In a Teams meeting, the bot must indicate to the platform which participants it wants to see.</span></span> <span data-ttu-id="11fe1-160">Una suscripción de vídeo es una solicitud del bot para recibir el vídeo principal o el contenido para compartir pantalla de un participante.</span><span class="sxs-lookup"><span data-stu-id="11fe1-160">A video subscription is a request by the bot to receive a participant’s main video or screen-sharing content.</span></span> <span data-ttu-id="11fe1-161">A medida que los participantes en la reunión llevan a cabo su conversación, el bot modifica sus suscripciones de vídeo deseadas en función de las actualizaciones del conjunto de altavoces dominante o las notificaciones que indican qué participante está compartiendo pantalla actualmente.</span><span class="sxs-lookup"><span data-stu-id="11fe1-161">As the participants in the meeting conduct their conversation, the bot modifies its desired video subscriptions based on updates of the dominant speaker set or notifications indicating which participant is currently screen sharing.</span></span>

<span data-ttu-id="11fe1-162">En la siguiente sección se proporcionan detalles sobre lo que debe instalar y los requisitos para desarrollar un bot multimedia hospedado en la aplicación.</span><span class="sxs-lookup"><span data-stu-id="11fe1-162">The next section provides details about what you must install and the requirements to develop an application-hosted media bot.</span></span>

## <a name="developer-resources"></a><span data-ttu-id="11fe1-163">Recursos para desarrolladores</span><span class="sxs-lookup"><span data-stu-id="11fe1-163">Developer resources</span></span>

<span data-ttu-id="11fe1-164">Para desarrollar un bot multimedia hospedado por la aplicación, debe instalar el paquete NuGet de la biblioteca .NET de [Microsoft.Graph.Calls.Media](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) en el Visual Studio proyecto.</span><span class="sxs-lookup"><span data-stu-id="11fe1-164">To develop an application-hosted media bot, you must install the [Microsoft.Graph.Calls.Media .NET library](https://www.nuget.org/packages/Microsoft.Graph.Communications.Calls.Media/) NuGet package within your Visual Studio project.</span></span>

<span data-ttu-id="11fe1-165">Los bots multimedia hospedados en aplicaciones requieren .NET o C# y Windows Server.</span><span class="sxs-lookup"><span data-stu-id="11fe1-165">Application-hosted media bots require .NET or C# and Windows Server.</span></span> <span data-ttu-id="11fe1-166">Para obtener más información, vea [requisitos y consideraciones para bots multimedia hospedados en aplicaciones.](requirements-considerations-application-hosted-media-bots.md#c-or-net-and-windows-server-for-development)</span><span class="sxs-lookup"><span data-stu-id="11fe1-166">For more information, see [requirements and considerations for application-hosted media bots](requirements-considerations-application-hosted-media-bots.md#c-or-net-and-windows-server-for-development).</span></span>

## <a name="next-step"></a><span data-ttu-id="11fe1-167">Paso siguiente</span><span class="sxs-lookup"><span data-stu-id="11fe1-167">Next step</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="11fe1-168">Registrar un bot de llamadas</span><span class="sxs-lookup"><span data-stu-id="11fe1-168">Register a calling bot</span></span>](~/bots/calls-and-meetings/registering-calling-bot.md)
