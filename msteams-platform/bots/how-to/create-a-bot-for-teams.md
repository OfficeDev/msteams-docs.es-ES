---
title: Crear un bot para Microsoft Teams
author: clearab
description: Cómo crear un bot para Microsoft Teams mediante App Studio, Yeoman Generator y otras herramientas.
ms.topic: conceptual
localization_priority: Priority
ms.author: anclear
ms.openlocfilehash: 03196c32e5e1a4b2714a4c916a71c80fc10a5edc
ms.sourcegitcommit: 1aa0b172931d0f81db346452788c41dc4a6717b9
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/22/2020
ms.locfileid: "48209833"
---
# <a name="create-a-bot-for-microsoft-teams"></a><span data-ttu-id="321ab-103">Crear un bot para Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="321ab-103">Create a bot for Microsoft Teams</span></span>

<span data-ttu-id="321ab-104">Debe completar los pasos siguientes para crear un bot de conversación:</span><span class="sxs-lookup"><span data-stu-id="321ab-104">You'll need to complete the following steps to create a conversational bot:</span></span>

1. <span data-ttu-id="321ab-105">Preparar el entorno de desarrollo.</span><span class="sxs-lookup"><span data-stu-id="321ab-105">Prepare your development environment.</span></span>
1. <span data-ttu-id="321ab-106">Crear su servicio web.</span><span class="sxs-lookup"><span data-stu-id="321ab-106">Create your web service.</span></span>
1. <span data-ttu-id="321ab-107">Registrar el servicio web como un bot con Microsoft Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="321ab-107">Register your web service as a bot with Microsoft Bot Framework.</span></span>
1. <span data-ttu-id="321ab-108">Crear el manifiesto de la aplicación y su paquete de aplicación.</span><span class="sxs-lookup"><span data-stu-id="321ab-108">Create your app manifest and your app package.</span></span>
1. <span data-ttu-id="321ab-109">Cargar el paquete en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="321ab-109">Upload your package to Microsoft Teams.</span></span>

<span data-ttu-id="321ab-110">La creación de un servicio web, el registro de un servicio web y la creación de un paquete de aplicación, se pueden realizar en cualquier orden con Bot Framework. Sin embargo, como las tres partes están tan entrelazadas, no importa en qué orden se realicen, tendrá que volver a actualizar las demás.</span><span class="sxs-lookup"><span data-stu-id="321ab-110">Creating your web service, registering your web service, and creating your app package, with the Bot Framework can be done in any order; however, because the three pieces are so intertwined, no matter in which order you do them, you'll need to return to update the others.</span></span> <span data-ttu-id="321ab-111">El registro necesita el punto final de la mensajería del servicio web implementado y el servicio web necesita el ID. y la contraseña creados a partir del registro.</span><span class="sxs-lookup"><span data-stu-id="321ab-111">Your registration needs the messaging endpoint from your deployed web service and your web service needs the ID and password created from your registration.</span></span> <span data-ttu-id="321ab-112">El manifiesto de la aplicación también necesita el identificador de registro para conectar Teams al servicio web.</span><span class="sxs-lookup"><span data-stu-id="321ab-112">Your app manifest also needs the registration ID to connect Teams to your web service.</span></span>

<span data-ttu-id="321ab-113">Durante la creación de la aplicación, se desplazará de forma periódica entre los cambios en el manifiesto de la aplicación y la implementación del código en el servicio web.</span><span class="sxs-lookup"><span data-stu-id="321ab-113">As you're building your bot, you'll regularly move between changing your app manifest and deploying code to your web service.</span></span> <span data-ttu-id="321ab-114">Al trabajar con el manifiesto de la aplicación, tenga en cuenta que puede manipular manualmente el archivo JSON o realizar cambios mediante App Studio.</span><span class="sxs-lookup"><span data-stu-id="321ab-114">When working with the app manifest, keep in mind you can either manually manipulate the JSON file, or make changes through App Studio.</span></span> <span data-ttu-id="321ab-115">En ambos casos, tendrá que volver a implementar (cargar) la aplicación en Teams cuando realice un cambio en el manifiesto. Sin embargo, no hay necesidad de hacerlo al implementar cambios en el servicio web.</span><span class="sxs-lookup"><span data-stu-id="321ab-115">Either way, you'll need to re-deploy (upload) your app in Teams when you make a change to the manifest; however, there's no need to do so when you deploy changes to your web service.</span></span>

<span data-ttu-id="321ab-116">Para obtener más información sobre Bot Framework, vea la [Documentación de Bot Framework](/azure/bot-service/).</span><span class="sxs-lookup"><span data-stu-id="321ab-116">See the [Bot Framework Documentation](/azure/bot-service/) for additional information on the Bot Framework.</span></span>

[!include[prepare environment](~/includes/prepare-environment.md)]

## <a name="create-your-web-service"></a><span data-ttu-id="321ab-117">Crear su servicio web</span><span class="sxs-lookup"><span data-stu-id="321ab-117">Create your web service</span></span>

<span data-ttu-id="321ab-118">El corazón de su bot es su servicio web.</span><span class="sxs-lookup"><span data-stu-id="321ab-118">The heart of your bot is your web service.</span></span> <span data-ttu-id="321ab-119">Definirá una única ruta, normalmente `/api/messages`, en la que recibir todas las solicitudes.</span><span class="sxs-lookup"><span data-stu-id="321ab-119">It will define a single route, typically `/api/messages`, on which to receive all requests.</span></span> <span data-ttu-id="321ab-120">Para empezar, tiene algunas opciones entre las que elegir:</span><span class="sxs-lookup"><span data-stu-id="321ab-120">To get started, you have a few options to choose from:</span></span>

* <span data-ttu-id="321ab-121">Comience con la muestra de bot de conversación de Teams en [C#/dotnet](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/57.teams-conversation-bot) o [JavaScript](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/57.teams-conversation-bot).</span><span class="sxs-lookup"><span data-stu-id="321ab-121">Start with the Teams conversation bot sample in either [C#/dotnet](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/57.teams-conversation-bot) or [JavaScript](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/57.teams-conversation-bot).</span></span>
* <span data-ttu-id="321ab-122">Si usa JavaScript, use el [generador Yeoman para Microsoft Teams](https://github.com/OfficeDev/generator-teams) para el scaffolding de la aplicación de Teams, incluido el servicio web.</span><span class="sxs-lookup"><span data-stu-id="321ab-122">If you're using JavaScript, use the [Yeoman Generator for Microsoft Teams](https://github.com/OfficeDev/generator-teams) to scaffold your Teams app, including your web service.</span></span> <span data-ttu-id="321ab-123">Esto es especialmente útil al crear una aplicación de Teams que contiene más de un bot de conversación.</span><span class="sxs-lookup"><span data-stu-id="321ab-123">This is particularly helpful when building a Teams app that contains more than just a conversational bot.</span></span>
* <span data-ttu-id="321ab-124">Crear su servicio web desde cero.</span><span class="sxs-lookup"><span data-stu-id="321ab-124">Create your web service from scratch.</span></span> <span data-ttu-id="321ab-125">Puede optar por agregar el SDK de Bot Framework para su idioma, o bien puede trabajar directamente con las cargas JSON.</span><span class="sxs-lookup"><span data-stu-id="321ab-125">You can choose to add the Bot Framework SDK for your language, or you can work directly with the JSON payloads.</span></span>

## <a name="register-your-web-service-with-the-bot-framework"></a><span data-ttu-id="321ab-126">Registrar el servicio web con Bot Framework</span><span class="sxs-lookup"><span data-stu-id="321ab-126">Register your web service with the Bot Framework</span></span>

> [!IMPORTANT]
> <span data-ttu-id="321ab-127">Al registrar el servicio web, asegúrese de establecer la **Nombre para mostrar** en el mismo nombre que utilizó para su **Nombre corto** en el manifiesto de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="321ab-127">When registering your web service, be sure to set the **Display name** to the same name you used for your **Short name** in your app manifest.</span></span> <span data-ttu-id="321ab-128">Cuando la aplicación se distribuya por carga directa o a través del catálogo de aplicaciones de la organización, los mensajes que su bot envíe a una conversación usarán el **Nombre para mostrar** en lugar del **Nombre abreviado** de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="321ab-128">When your app is distributed by either direct uploading or through an organization's app catalog, messages sent to a conversation by your bot will use the registration's **Display name** rather than the app's **Short name**.</span></span>

<span data-ttu-id="321ab-129">El registro del servicio web con Bot Framework ofrece un canal de comunicación seguro entre el cliente de Teams y el servicio web.</span><span class="sxs-lookup"><span data-stu-id="321ab-129">Registering your web service with the Bot Framework provides a secure communication channel between the Teams client and your web service.</span></span> <span data-ttu-id="321ab-130">El cliente de Teams y el servicio web nunca se comunican directamente.</span><span class="sxs-lookup"><span data-stu-id="321ab-130">The Teams client and your web service never communicate directly.</span></span> <span data-ttu-id="321ab-131">En su lugar, los mensajes se redirigen a través del servicio de Bot Framework (Microsoft Teams usa una instancia distinta de este servicio y que cumple con los estándares de Office 365).</span><span class="sxs-lookup"><span data-stu-id="321ab-131">Instead, messages are routed through the Bot Framework Service (Microsoft Teams uses a separate instance of this service that is compliant with Office 365 standards).</span></span>

<span data-ttu-id="321ab-132">Hay dos opciones al registrar el servicio web con Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="321ab-132">You have two options when registering your web service with the Bot Framework.</span></span> <span data-ttu-id="321ab-133">Puede usar [App Studio](#using-app-studio) o el [portal heredado](#in-the-legacy-portal) para registrar su bot sin usar una suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="321ab-133">You can use either [App Studio](#using-app-studio) or the [legacy portal](#in-the-legacy-portal) to register your bot without using an Azure subscription.</span></span> <span data-ttu-id="321ab-134">O bien, si ya tiene una suscripción a Azure (o no le importa crear una), puede usar [Microsoft Azure Portal](#with-an-azure-subscription) para registrar el servicio web.</span><span class="sxs-lookup"><span data-stu-id="321ab-134">Or, if you already have an Azure subscription (or don't mind creating one), you can use [the Azure portal](#with-an-azure-subscription) to register your web service.</span></span>

### <a name="without-an-azure-subscription"></a><span data-ttu-id="321ab-135">Sin una suscripción de Azure</span><span class="sxs-lookup"><span data-stu-id="321ab-135">Without an Azure subscription</span></span>

<span data-ttu-id="321ab-136">Si no desea crear el registro de bots en Azure, **debe** usar este vínculo (https://dev.botframework.com/bots/new) o App Studio.</span><span class="sxs-lookup"><span data-stu-id="321ab-136">If you do not wish to create your bot registration in Azure, you **must** use either this link - https://dev.botframework.com/bots/new, or App Studio.</span></span> <span data-ttu-id="321ab-137">Si hace clic en el botón *Crear un bot* en el portal de Bot Framework, se creará el registro de bots en Microsoft Azure y tendrá que proporcionar una suscripción de Azure.</span><span class="sxs-lookup"><span data-stu-id="321ab-137">If you click on the *Create a bot* button in the Bot Framework portal, you will create your bot registration in Microsoft Azure, and will need to provide an Azure subscription.</span></span> <span data-ttu-id="321ab-138">Para administrar el registro o migrarlo a una suscripción de Azure tras la creación, vaya a: https://dev.botframework.com/bots.</span><span class="sxs-lookup"><span data-stu-id="321ab-138">To manage your registration or migrate it to an Azure subscription after creation go to: https://dev.botframework.com/bots.</span></span>

<span data-ttu-id="321ab-139">Al editar las propiedades de un registro de Bot Framework existente que no se registró en Azure, verá una columna "Estado de la migración" y un botón "Migrar" azul que le llevará a Microsoft Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="321ab-139">When you edit the properties of an existing Bot Framework registration not registered in Azure, you'll see A "Migration status" column and a blue "Migrate" button that will take you to the Microsoft Azure portal.</span></span> <span data-ttu-id="321ab-140">No seleccione el botón "Migrar", a menos que sea lo que quiere hacer.</span><span class="sxs-lookup"><span data-stu-id="321ab-140">Don't select the "Migrate" button unless that's what you want to do.</span></span> <span data-ttu-id="321ab-141">En su lugar, seleccione el **nombre** del bot y podrá editar sus propiedades:</span><span class="sxs-lookup"><span data-stu-id="321ab-141">Instead, select the **name** of the bot and you can edit its properties:</span></span>

   ![Editar propiedades del bot](~/assets/images/bots/bf-migrate-bot-to-azure.png)

<span data-ttu-id="321ab-143">Situaciones en las que **debe** tener el registro del bot en Azure (ya sea creándolo en Microsoft Azure Portal o por migración):</span><span class="sxs-lookup"><span data-stu-id="321ab-143">Scenarios when you **must** have your bot registration in Azure (either by creating it in the Azure portal or via migration):</span></span>

* <span data-ttu-id="321ab-144">Quiera usar [OAuthPrompt](./authentication/auth-flow-bot.md) de Bot Framework para la autenticación.</span><span class="sxs-lookup"><span data-stu-id="321ab-144">You want to use the Bot Framework's [OAuthPrompt](./authentication/auth-flow-bot.md) for authentication.</span></span>
* <span data-ttu-id="321ab-145">Quiere habilitar canales adicionales como chat web, línea directa o Skype.</span><span class="sxs-lookup"><span data-stu-id="321ab-145">You want to enable additional channels like Web Chat, Direct Line, or Skype.</span></span>

#### <a name="using-app-studio"></a><span data-ttu-id="321ab-146">Usar App Studio</span><span class="sxs-lookup"><span data-stu-id="321ab-146">Using App Studio</span></span>

<span data-ttu-id="321ab-147">*App Studio* es una aplicación de Teams que le ayuda a crear aplicaciones de Teams, incluido el registro de su servicio web como bot, la creación de un manifiesto de la aplicación y el paquete de la aplicación, y la actualización de configuraciones y opciones.</span><span class="sxs-lookup"><span data-stu-id="321ab-147">*App Studio* is a Teams application that helps you build Teams apps, including registering your web service as a bot, creating an app manifest and your app package, and updating settings and configurations.</span></span> <span data-ttu-id="321ab-148">También contiene una biblioteca de control React y ejemplos configurables para tarjetas.</span><span class="sxs-lookup"><span data-stu-id="321ab-148">It also contains a React control library and configurable samples for cards.</span></span> <span data-ttu-id="321ab-149">Consulte [Introducción a Teams App Studio](../../concepts/build-and-test/app-studio-overview.md).</span><span class="sxs-lookup"><span data-stu-id="321ab-149">See [Getting started with Teams App Studio](../../concepts/build-and-test/app-studio-overview.md).</span></span>

<span data-ttu-id="321ab-150">Recuerde que si usa App Studio para registrar el servicio web, tendrá que ir a https://dev.botframework.com/bots para administrar el registro.</span><span class="sxs-lookup"><span data-stu-id="321ab-150">Remember, if you use App Studio to register your web service you'll need to go to https://dev.botframework.com/bots to manage your registration.</span></span>

#### <a name="in-the-legacy-portal"></a><span data-ttu-id="321ab-151">En el portal heredado</span><span class="sxs-lookup"><span data-stu-id="321ab-151">In the legacy portal</span></span>

<span data-ttu-id="321ab-152">Cree el registro del bot con este vínculo: https://dev.botframework.com/bots/new.</span><span class="sxs-lookup"><span data-stu-id="321ab-152">Create your bot registration using this link: https://dev.botframework.com/bots/new.</span></span> <span data-ttu-id="321ab-153">**Asegúrese de agregar Microsoft Teams como canal de la lista de canales destacados después de crear el bot.**</span><span class="sxs-lookup"><span data-stu-id="321ab-153">**Be sure to add Microsoft Teams as a channel from the featured channels list after creating your bot.**</span></span> <span data-ttu-id="321ab-154">Puede volver a usar cualquier identificador de aplicación de Microsoft que haya generado si ya ha creado el manifiesto o el paquete de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="321ab-154">Feel free to re-use any Microsoft App ID you generated if you've already created your app package/manifest.</span></span>

   ![Página de registro de Bot Framework](~/assets/images/bots/bfregister.png)

### <a name="with-an-azure-subscription"></a><span data-ttu-id="321ab-156">Con una suscripción de Azure</span><span class="sxs-lookup"><span data-stu-id="321ab-156">With an Azure subscription</span></span>

<span data-ttu-id="321ab-157">También puede registrar el servicio web creando un recurso de registro de canales de bots en Microsoft Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="321ab-157">You can also register your web service by creating a Bot Channels Registration resource in the Azure portal.</span></span>

[!INCLUDE [bot channels registration steps](~/includes/bots/azure-bot-channels-registration.md)]

<span data-ttu-id="321ab-158">El [portal de Bot Framework](https://dev.botframework.com) se ha optimizado para el registro de bots en Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="321ab-158">The [Bot Framework portal](https://dev.botframework.com) is optimized for registering bots in Microsoft Azure.</span></span> <span data-ttu-id="321ab-159">Estos son algunos aspectos que debe tener en cuenta:</span><span class="sxs-lookup"><span data-stu-id="321ab-159">Here are some things to know:</span></span>

* <span data-ttu-id="321ab-160">El canal de Microsoft Teams para bots registrados en Azure es **gratuito**.</span><span class="sxs-lookup"><span data-stu-id="321ab-160">The Microsoft Teams channel for bots registered on Azure is **free**.</span></span> <span data-ttu-id="321ab-161">Los mensajes que se envían a través del canal de Teams no se contabilizarán como mensajes consumidos para el bot.</span><span class="sxs-lookup"><span data-stu-id="321ab-161">Messages sent over the Teams channel will NOT count towards the consumed messages for the bot.</span></span>
* <span data-ttu-id="321ab-162">Si registra el bot con Microsoft Azure, no es necesario que el código del bot se *hospede* en Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="321ab-162">If you register your bot using Microsoft Azure, your bot code doesn't need to be *hosted* on Microsoft Azure.</span></span>
* <span data-ttu-id="321ab-163">Si registra un bot con Microsoft Azure Portal, debe tener una cuenta de Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="321ab-163">If you do register a bot using Microsoft Azure portal, you must have a Microsoft Azure account.</span></span> <span data-ttu-id="321ab-164">Puede [crear una de forma gratuita](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="321ab-164">You can [create one for free](https://azure.microsoft.com/free/).</span></span> <span data-ttu-id="321ab-165">Para comprobar su identidad al crear una cuenta de Azure, debe proporcionar una tarjeta de crédito, pero no se realizará ningún cargo. Siempre es gratuito crear y usar bots con Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="321ab-165">To verify your identity when you create an Azure account, you must provide a credit card, but it won't be charged; it's always free to create and use bots with Microsoft Teams.</span></span>

## <a name="create-your-app-manifest-and-package"></a><span data-ttu-id="321ab-166">Crear un manifiesto y un paquete de aplicación</span><span class="sxs-lookup"><span data-stu-id="321ab-166">Create your app manifest and package</span></span>

<span data-ttu-id="321ab-167">El [manifiesto de la aplicación](~/resources/schema/manifest-schema.md) define los metadatos de la aplicación, los puntos de extensión que usa la aplicación, y los punteros a los servicios web a los que se conectan los puntos de extensión.</span><span class="sxs-lookup"><span data-stu-id="321ab-167">Your [app manifest](~/resources/schema/manifest-schema.md) defines the metadata for your app, the extension points your app is using, and pointers to the web services those extension points connect to.</span></span> <span data-ttu-id="321ab-168">Puede usar App Studio para ayudarle a crear el manifiesto de la aplicación, o bien crearlo de forma manual.</span><span class="sxs-lookup"><span data-stu-id="321ab-168">You can either use App Studio to help you create your app manifest, or create it manually.</span></span>

### <a name="add-using-app-studio"></a><span data-ttu-id="321ab-169">Agregar con App Studio</span><span class="sxs-lookup"><span data-stu-id="321ab-169">Add using App Studio</span></span>

1. <span data-ttu-id="321ab-170">En el cliente de Teams, abra App Studio en el menú de desbordamiento **...** del raíl de navegación izquierdo.</span><span class="sxs-lookup"><span data-stu-id="321ab-170">In the Teams client, open App Studio from the **...** overflow menu on the left navigation rail.</span></span> <span data-ttu-id="321ab-171">Si App Studio aún no está instalado, puede instalarlo si lo busca.</span><span class="sxs-lookup"><span data-stu-id="321ab-171">If App Studio isn't already installed, you can do so by searching for it.</span></span>
2. <span data-ttu-id="321ab-172">En la pestaña **Editor de manifiestos**, seleccione **Crear una nueva aplicación** (o bien, si está agregando un bot a una aplicación existente, puede importar el paquete de la aplicación).</span><span class="sxs-lookup"><span data-stu-id="321ab-172">On the **Manifest editor** tab select **Create a new app** (or if you're adding a bot to an existing app, you can import your app package)</span></span>
3. <span data-ttu-id="321ab-173">Agregue los detalles de la aplicación (consulte [definición de esquema de manifiesto](~/resources/schema/manifest-schema.md) para obtener las descripciones completas de cada campo).</span><span class="sxs-lookup"><span data-stu-id="321ab-173">Add your app details (see [manifest schema definition](~/resources/schema/manifest-schema.md) for full descriptions of each field).</span></span>
4. <span data-ttu-id="321ab-174">En la pestaña **Bots**, haga clic en el botón **Configuración**.</span><span class="sxs-lookup"><span data-stu-id="321ab-174">On the **Bots** tab select the **Setup** button.</span></span>
5. <span data-ttu-id="321ab-175">Puede crear un nuevo registro de un servicio web (**Nuevo bot**), o bien, si ya ha registrado uno, seleccione **Bot existente**.</span><span class="sxs-lookup"><span data-stu-id="321ab-175">You can either create a new web service registration (**New bot**), or if you've already registered one, select **Existing bot**.</span></span>
6. <span data-ttu-id="321ab-176">Seleccione las funciones y el alcance que necesitará el bot.</span><span class="sxs-lookup"><span data-stu-id="321ab-176">Select the capabilities and scopes your bot will need.</span></span>
7. <span data-ttu-id="321ab-177">Si es necesario, actualice la dirección del extremo del bot para que apunte a su bot.</span><span class="sxs-lookup"><span data-stu-id="321ab-177">If necessary, update your bot endpoint address to point to your bot.</span></span> <span data-ttu-id="321ab-178">Debería tener un aspecto similar a `https://someplace.com/api/messages`.</span><span class="sxs-lookup"><span data-stu-id="321ab-178">It should look something like `https://someplace.com/api/messages`.</span></span>
8. <span data-ttu-id="321ab-179">Si quiere, agregue [comandos de bot](~/bots/how-to/create-a-bot-commands-menu.md).</span><span class="sxs-lookup"><span data-stu-id="321ab-179">Optionally, add [bot commands](~/bots/how-to/create-a-bot-commands-menu.md).</span></span>
9. <span data-ttu-id="321ab-180">De forma opcional, puede descargar el paquete de la aplicación finalizado desde la pestaña **Probar y distribuir**.</span><span class="sxs-lookup"><span data-stu-id="321ab-180">Optionally, you can download your completed app package from the **Test and distribute** tab.</span></span>

### <a name="create-it-manually"></a><span data-ttu-id="321ab-181">Crearlo manualmente</span><span class="sxs-lookup"><span data-stu-id="321ab-181">Create it manually</span></span>

<span data-ttu-id="321ab-182">Al igual que con las pestañas y extensiones de mensajería, se actualiza el [manifiesto de la aplicación](~/resources/schema/manifest-schema.md) para definir el bot.</span><span class="sxs-lookup"><span data-stu-id="321ab-182">As with messaging extensions and tabs, you update the [app-manifest](~/resources/schema/manifest-schema.md) to define your bot.</span></span> <span data-ttu-id="321ab-183">Agregue nueva estructura JSON de nivel superior en el manifiesto de la aplicación con la propiedad `bots`.</span><span class="sxs-lookup"><span data-stu-id="321ab-183">Add new top-level JSON structure in your app manifest with the `bots` property.</span></span>

|<span data-ttu-id="321ab-184">Nombre</span><span class="sxs-lookup"><span data-stu-id="321ab-184">Name</span></span>| <span data-ttu-id="321ab-185">Tipo</span><span class="sxs-lookup"><span data-stu-id="321ab-185">Type</span></span>| <span data-ttu-id="321ab-186">Tamaño máximo</span><span class="sxs-lookup"><span data-stu-id="321ab-186">Maximum size</span></span> | <span data-ttu-id="321ab-187">Necesario</span><span class="sxs-lookup"><span data-stu-id="321ab-187">Required</span></span> | <span data-ttu-id="321ab-188">Descripción</span><span class="sxs-lookup"><span data-stu-id="321ab-188">Description</span></span>|
|---|---|---|---|---|
|`botId`|<span data-ttu-id="321ab-189">String</span><span class="sxs-lookup"><span data-stu-id="321ab-189">String</span></span>|<span data-ttu-id="321ab-190">64 caracteres</span><span class="sxs-lookup"><span data-stu-id="321ab-190">64 characters</span></span>|<span data-ttu-id="321ab-191">✔</span><span class="sxs-lookup"><span data-stu-id="321ab-191">✔</span></span>|<span data-ttu-id="321ab-192">El ID. de aplicación de Microsoft único para el bot, registrado con Bot Framework.</span><span class="sxs-lookup"><span data-stu-id="321ab-192">The unique Microsoft app ID for the bot as registered with the Bot Framework.</span></span> <span data-ttu-id="321ab-193">Este puede ser el mismo que el identificador de aplicación general.</span><span class="sxs-lookup"><span data-stu-id="321ab-193">This may well be the same as the overall app ID.</span></span>|
|`needsChannelSelector`|<span data-ttu-id="321ab-194">Booleano</span><span class="sxs-lookup"><span data-stu-id="321ab-194">Boolean</span></span>|||<span data-ttu-id="321ab-195">Describe si el bot usa una sugerencia del usuario para agregar el bot a un canal específico.</span><span class="sxs-lookup"><span data-stu-id="321ab-195">Describes whether or not the bot utilizes a user hint to add the bot to a specific channel.</span></span> <span data-ttu-id="321ab-196">Valor predeterminado: `false`.</span><span class="sxs-lookup"><span data-stu-id="321ab-196">Default: `false`.</span></span>|
|`isNotificationOnly`|<span data-ttu-id="321ab-197">Booleano</span><span class="sxs-lookup"><span data-stu-id="321ab-197">Boolean</span></span>|||<span data-ttu-id="321ab-198">Indica si un bot es un bot unidireccional de solo notificación o un bot de conversación.</span><span class="sxs-lookup"><span data-stu-id="321ab-198">Indicates whether a bot is a one-way, notification-only bot, as opposed to a conversational bot.</span></span> <span data-ttu-id="321ab-199">Valor predeterminado: `false`.</span><span class="sxs-lookup"><span data-stu-id="321ab-199">Default: `false`.</span></span>|
|`supportsFiles`|<span data-ttu-id="321ab-200">Booleano</span><span class="sxs-lookup"><span data-stu-id="321ab-200">Boolean</span></span>|||<span data-ttu-id="321ab-201">Indica si el bot es compatible con la capacidad para cargar y descargar archivos en chat personal.</span><span class="sxs-lookup"><span data-stu-id="321ab-201">Indicates whether the bot supports the ability to upload/download files in personal chat.</span></span> <span data-ttu-id="321ab-202">Valor predeterminado: `false`.</span><span class="sxs-lookup"><span data-stu-id="321ab-202">Default: `false`.</span></span>|
|`scopes`|<span data-ttu-id="321ab-203">Matriz de enumeración</span><span class="sxs-lookup"><span data-stu-id="321ab-203">Array of enum</span></span>|<span data-ttu-id="321ab-204">3</span><span class="sxs-lookup"><span data-stu-id="321ab-204">3</span></span>|<span data-ttu-id="321ab-205">✔</span><span class="sxs-lookup"><span data-stu-id="321ab-205">✔</span></span>|<span data-ttu-id="321ab-206">Especifica si el bot ofrece una experiencia en el contexto de un canal en un `team`, en un chat de grupo (`groupchat`) o una experiencia específica para un solo usuario (`personal`).</span><span class="sxs-lookup"><span data-stu-id="321ab-206">Specifies whether the bot offers an experience in the context of a channel in a `team`, in a group chat (`groupchat`), or an experience scoped to an individual user alone (`personal`).</span></span> <span data-ttu-id="321ab-207">Estas opciones no son exclusivas.</span><span class="sxs-lookup"><span data-stu-id="321ab-207">These options are non-exclusive.</span></span>|

<span data-ttu-id="321ab-208">De forma opcional, puede definir una o varias listas de comandos que el bot puede recomendar a los usuarios.</span><span class="sxs-lookup"><span data-stu-id="321ab-208">Optionally, you can define one or more lists of commands that your bot can recommend to users.</span></span> <span data-ttu-id="321ab-209">El objeto es una matriz (con un máximo de 2 elementos) y todos los elementos de tipo `object`.</span><span class="sxs-lookup"><span data-stu-id="321ab-209">The object is an array (maximum of 2 elements) with all elements of type `object`.</span></span> <span data-ttu-id="321ab-210">Debe definir una lista de comandos independiente para cada ámbito que sea compatible con el bot.</span><span class="sxs-lookup"><span data-stu-id="321ab-210">You must define a separate command list for each scope that your bot supports.</span></span> <span data-ttu-id="321ab-211">Para obtener más información, *consulte* [Menús de bot](./create-a-bot-commands-menu.md).</span><span class="sxs-lookup"><span data-stu-id="321ab-211">*See* [Bot menus](./create-a-bot-commands-menu.md), for more information.</span></span>

|<span data-ttu-id="321ab-212">Nombre</span><span class="sxs-lookup"><span data-stu-id="321ab-212">Name</span></span>| <span data-ttu-id="321ab-213">Tipo</span><span class="sxs-lookup"><span data-stu-id="321ab-213">Type</span></span>| <span data-ttu-id="321ab-214">Tamaño máximo</span><span class="sxs-lookup"><span data-stu-id="321ab-214">Maximum size</span></span> | <span data-ttu-id="321ab-215">Necesario</span><span class="sxs-lookup"><span data-stu-id="321ab-215">Required</span></span> | <span data-ttu-id="321ab-216">Descripción</span><span class="sxs-lookup"><span data-stu-id="321ab-216">Description</span></span>|
|---|---|---|---|---|
|`items.scopes`|<span data-ttu-id="321ab-217">matriz de enumeración</span><span class="sxs-lookup"><span data-stu-id="321ab-217">array of enum</span></span>|<span data-ttu-id="321ab-218">3</span><span class="sxs-lookup"><span data-stu-id="321ab-218">3</span></span>|<span data-ttu-id="321ab-219">✔</span><span class="sxs-lookup"><span data-stu-id="321ab-219">✔</span></span>|<span data-ttu-id="321ab-220">Especifica el ámbito para el que la lista de comandos es válida.</span><span class="sxs-lookup"><span data-stu-id="321ab-220">Specifies the scope for which the command list is valid.</span></span> <span data-ttu-id="321ab-221">Las opciones son `team`, `personal` y `groupchat`.</span><span class="sxs-lookup"><span data-stu-id="321ab-221">Options are `team`, `personal`, and `groupchat`.</span></span>|
|`items.commands`|<span data-ttu-id="321ab-222">matriz de objetos</span><span class="sxs-lookup"><span data-stu-id="321ab-222">array of objects</span></span>|<span data-ttu-id="321ab-223">10</span><span class="sxs-lookup"><span data-stu-id="321ab-223">10</span></span>|<span data-ttu-id="321ab-224">✔</span><span class="sxs-lookup"><span data-stu-id="321ab-224">✔</span></span>|<span data-ttu-id="321ab-225">Una matriz de comandos que el bot admite:</span><span class="sxs-lookup"><span data-stu-id="321ab-225">An array of commands the bot supports:</span></span><br><span data-ttu-id="321ab-226">`title`: el nombre de comando del bot (cadena, 32)</span><span class="sxs-lookup"><span data-stu-id="321ab-226">`title`: the bot command name (string, 32)</span></span><br><span data-ttu-id="321ab-227">`description`: una descripción o un ejemplo sencillo de la sintaxis del comando y su argumento (cadena, 128).</span><span class="sxs-lookup"><span data-stu-id="321ab-227">`description`: a simple description or example of the command syntax and its argument (string, 128)</span></span>|

#### <a name="simple-manifest-example"></a><span data-ttu-id="321ab-228">Ejemplo de manifiesto simple</span><span class="sxs-lookup"><span data-stu-id="321ab-228">Simple manifest example</span></span>

<span data-ttu-id="321ab-229">El ejemplo siguiente es un objeto de bot simple, con dos listas de comandos definidas.</span><span class="sxs-lookup"><span data-stu-id="321ab-229">The example below is a simple bot object, with two command lists defined.</span></span> <span data-ttu-id="321ab-230">Este no es el archivo de manifiesto de la aplicación completo, solo la parte específica para las extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="321ab-230">This is not the entire app manifest file, just the part specific to messaging extensions.</span></span>

```json
...
  "bots": [
    {
      "botId": "%MICROSOFT-APP-ID-REGISTERED-WITH-BOT-FRAMEWORK%",
      "needsChannelSelector": false,
      "isNotificationOnly": false,
      "scopes": [ "team", "personal", "groupchat" ],
      "supportsFiles": true,
      "commandLists": [
        {
          "scopes": [ "team", "groupchat" ],
          "commands": [
            {
              "title": "Command 1",
              "description": "Description of Command 1"
            },
            {
              "title": "Command N",
              "description": "Description of Command N"
            }
          ]
        },
        {
          "scopes": [ "personal", "groupchat" ],
          "commands": [
            {
              "title": "Personal command 1",
              "description": "Description of Personal command 1"
            },
            {
              "title": "Personal command N",
              "description": "Description of Personal command N"
            }
          ]
        }
      ]
    }
  ],
...
```

#### <a name="create-your-app-package-manually"></a><span data-ttu-id="321ab-231">Crear el paquete de aplicación manualmente</span><span class="sxs-lookup"><span data-stu-id="321ab-231">Create your app package manually</span></span>

<span data-ttu-id="321ab-232">Para crear un paquete de aplicación, debe agregar el manifiesto de la aplicación y, opcionalmente, los iconos de la aplicación a un archivo de almacenamiento .zip.</span><span class="sxs-lookup"><span data-stu-id="321ab-232">To create an app package, you need to add your app manifest and (optionally) your app icons to a .zip archive file.</span></span> <span data-ttu-id="321ab-233">Vea [Crear un paquete de aplicación](~/concepts/build-and-test/apps-package.md) para obtener más detalles.</span><span class="sxs-lookup"><span data-stu-id="321ab-233">See [Create your app package](~/concepts/build-and-test/apps-package.md) for complete details.</span></span> <span data-ttu-id="321ab-234">Asegúrese de que el archivo .zip contiene solo los archivos necesarios y de que no tenga ninguna estructura de carpetas adicional en él.</span><span class="sxs-lookup"><span data-stu-id="321ab-234">Make sure your .zip archive contains only the necessary files, and has no additional folder structure inside of it.</span></span>

## <a name="upload-your-package-to-microsoft-teams"></a><span data-ttu-id="321ab-235">Cargar el paquete en Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="321ab-235">Upload your package to Microsoft Teams</span></span>

> [!NOTE]
> <span data-ttu-id="321ab-236">Para cargar satisfactoriamente el bot, el administrador del espacio empresarial debe antes [permitir la carga](/microsoftteams/manage-apps#manage-org-wide-app-settings) de aplicaciones de terceros o personalizadas en Teams.</span><span class="sxs-lookup"><span data-stu-id="321ab-236">To successfully upload your bot, your tenant admin must first [allow uploading](/microsoftteams/manage-apps#manage-org-wide-app-settings) third-party or custom apps in Teams.</span></span>

<span data-ttu-id="321ab-237">Si ha estado usando App Studio, puede instalar la aplicación desde la pestaña **Probar y distribuir** en el **Editor de manifiestos**.</span><span class="sxs-lookup"><span data-stu-id="321ab-237">If you've been using App Studio, you can install your app from the **Test and distribute** tab of the **Manifest editor**.</span></span> <span data-ttu-id="321ab-238">Como alternativa, puede instalar el paquete de la aplicación haciendo clic en el menú de desbordamiento `...` desde el panel de navegación izquierdo, al hacer clic en **Más aplicaciones** y el vínculo **Cargar una aplicación personalizada**.</span><span class="sxs-lookup"><span data-stu-id="321ab-238">Alternatively, you can install your app package by clicking the `...` overflow menu from the left navigation rail, clicking **More apps**, then the **Upload a custom app** link.</span></span> <span data-ttu-id="321ab-239">También puede importar un manifiesto de aplicación o un paquete de aplicación en App Studio para realizar actualizaciones adicionales antes de cargarlas.</span><span class="sxs-lookup"><span data-stu-id="321ab-239">You can also import an app manifest or app package into App Studio to make additional updates before uploading.</span></span>

## <a name="bots-in-teams-meetings"></a><span data-ttu-id="321ab-240">Bots en reuniones de Teams</span><span class="sxs-lookup"><span data-stu-id="321ab-240">Bots in Teams meetings</span></span>

<span data-ttu-id="321ab-241">Teams admite la invocación de bots durante las reuniones.</span><span class="sxs-lookup"><span data-stu-id="321ab-241">Teams supports bot invocation during meetings.</span></span> <span data-ttu-id="321ab-242">Cuando el bot recibe el mensaje de invocación, puede identificar el usuario y el espacio empresarial de `userId` y `tenantId`.</span><span class="sxs-lookup"><span data-stu-id="321ab-242">When your bot receives the invoke message, it can identify the user and tenant from `userId` and `tenantId`.</span></span> <span data-ttu-id="321ab-243">Se puede encontrar `meetingId` como parte del objeto `channelData`.</span><span class="sxs-lookup"><span data-stu-id="321ab-243">The `meetingId` can be found as part of the `channelData` object.</span></span> <span data-ttu-id="321ab-244">El bot puede usar el `userId` y `meetingId`  para la solicitud de la API de `GetParticipant` para recuperar roles de usuario.</span><span class="sxs-lookup"><span data-stu-id="321ab-244">Your bot can use the `userId` and `meetingId`  for the `GetParticipant` API request to retrieve user roles.</span></span>

## <a name="next-steps"></a><span data-ttu-id="321ab-245">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="321ab-245">Next steps</span></span>

* [<span data-ttu-id="321ab-246">Conceptos básicos de las conversaciones de bot</span><span class="sxs-lookup"><span data-stu-id="321ab-246">Bot conversation basics</span></span>](./conversations/conversation-basics.md)
* [<span data-ttu-id="321ab-247">Suscribirse a eventos de conversación</span><span class="sxs-lookup"><span data-stu-id="321ab-247">Subscribe to conversation events</span></span>](./conversations/subscribe-to-conversation-events.md)
