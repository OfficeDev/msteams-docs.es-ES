---
title: ¿Qué son las extensiones de mensajería?
author: clearab
description: Información general sobre las extensiones de mensajería en la plataforma de Microsoft Teams
ms.topic: overview
ms.author: anclear
ms.openlocfilehash: 2a9fcdbcdda6bb85b6f5edc21253d05327ca5157
ms.sourcegitcommit: 61edf47c9dd1dbc1df03d0d9fb83bfedca4c423b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/28/2020
ms.locfileid: "43914605"
---
# <a name="what-are-messaging-extensions"></a><span data-ttu-id="d4f2c-103">¿Qué son las extensiones de mensajería?</span><span class="sxs-lookup"><span data-stu-id="d4f2c-103">What are messaging extensions?</span></span>

<span data-ttu-id="d4f2c-104">Las extensiones de mensajería permiten que los usuarios interactúen con el servicio Web a través de botones y formularios en el cliente de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-104">Messaging extensions allow users to interact with your web service through buttons and forms in the Microsoft Teams client.</span></span> <span data-ttu-id="d4f2c-105">Pueden buscar o iniciar acciones en un sistema externo desde el área de mensaje de redacción, el cuadro de comandos o directamente desde un mensaje.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-105">They can search, or initiate actions, in an external system from the compose message area, the command box, or directly from a message.</span></span> <span data-ttu-id="d4f2c-106">A continuación, puede enviar los resultados de la interacción de vuelta al cliente de Microsoft Teams, normalmente en forma de una tarjeta con formato enriquecido.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-106">You can then send the results of that interaction back to the Microsoft Teams client, typically in the form of a richly formatted card.</span></span>

<span data-ttu-id="d4f2c-107">La captura de pantalla siguiente muestra las ubicaciones desde donde se puede invocar las extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-107">The screenshot below shows the locations where messaging extensions can be invoked from.</span></span>

![ubicaciones de invocación de extensiones de mensajería](~/assets/images/messaging-extension-invoke-locations.png)

## <a name="what-kinds-of-tasks-are-they-good-for"></a><span data-ttu-id="d4f2c-109">¿Para qué tipos de tareas están bien?</span><span class="sxs-lookup"><span data-stu-id="d4f2c-109">What kinds of tasks are they good for?</span></span>

<span data-ttu-id="d4f2c-110">**Escenario:** Necesito un sistema externo para hacer algo y quiero que el resultado de la acción se envíe de nuevo a mi conversación. </span><span class="sxs-lookup"><span data-stu-id="d4f2c-110">**Scenario:** I need some external system to do something and I want the result of the action to be sent back to my conversation.</span></span>\
<span data-ttu-id="d4f2c-111">**Ejemplo:** Reserve un recurso y deje que el canal sepa el día y la hora en que se ha reservado.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-111">**Example:** Reserve a resource and let the channel know what day/time you reserved it for.</span></span>

<span data-ttu-id="d4f2c-112">**Escenario:** Necesito encontrar algo en un sistema externo y deseo compartir los resultados con mi conversación. </span><span class="sxs-lookup"><span data-stu-id="d4f2c-112">**Scenario:** I need to find something in an external system, and I want to share the results with my conversation.</span></span>\
<span data-ttu-id="d4f2c-113">**Ejemplo:**  Buscar un elemento de trabajo en Azure DevOps y compartirlo con el grupo como una tarjeta adaptable.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-113">**Example:**  Search for a work item in Azure DevOps, and share it with the group as an adaptive card.</span></span>

<span data-ttu-id="d4f2c-114">**Escenario:** Tengo que completar una tarea compleja que implique varios pasos (o mucha información) en un sistema externo y los resultados se deben compartir con una conversación. </span><span class="sxs-lookup"><span data-stu-id="d4f2c-114">**Scenario:** I need to complete a complex task involving multiple steps (or lots of information) in an external system, and the results should be shared with a conversation.</span></span>\
<span data-ttu-id="d4f2c-115">**Ejemplo:** Cree un error en el sistema de seguimiento basado en un mensaje de Microsoft Teams, asigne ese error a Bob y, a continuación, envíe una tarjeta a la conversación de conversación con los detalles del error.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-115">**Example:** Create a bug in your tracking system based on a Teams message, assign that bug to Bob, then send a card to the conversation thread with the bug's details.</span></span>

## <a name="how-do-messaging-extensions-work"></a><span data-ttu-id="d4f2c-116">¿Cómo funcionan las extensiones de mensajería?</span><span class="sxs-lookup"><span data-stu-id="d4f2c-116">How do messaging extensions work?</span></span>

<span data-ttu-id="d4f2c-117">Una extensión de mensajería consta de un servicio Web que hospeda y el manifiesto de la aplicación que define desde dónde se puede invocar el servicio Web en el cliente de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-117">A messaging extension consists of a web service you host and your app manifest which defines where your web service can be invoked from in the Microsoft Teams client.</span></span> <span data-ttu-id="d4f2c-118">Aprovechan el esquema de mensajería del marco de robots y el protocolo de comunicación segura, por lo que también necesitará registrar su servicio web como bot en el marco de trabajo de bot.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-118">They take advantage of the Bot Framework's messaging schema and secure communication protocol, so you'll also need to register your web service as a bot in the Bot Framework.</span></span> <span data-ttu-id="d4f2c-119">Aunque puede crear el servicio Web por completo a mano, le recomendamos que aproveche el [SDK de bot Framework](https://github.com/microsoft/botframework) para facilitar el trabajo con el protocolo más sencillo.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-119">Although you can create your web service completely by hand, we recommend you take advantage of the [Bot Framework SDK](https://github.com/microsoft/botframework) to make working with the protocol simpler.</span></span>

<span data-ttu-id="d4f2c-120">En el manifiesto de la aplicación de su aplicación de Microsoft Teams, definirá una única extensión de mensajería con un máximo de diez comandos diferentes.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-120">In the app manifest for your Microsoft Teams app you'll define a single messaging extension with up to ten different commands.</span></span> <span data-ttu-id="d4f2c-121">Cada comando define un tipo (acción o búsqueda) y las ubicaciones en el cliente a las que se puede llamar (área de mensaje de redacción, barra de comandos o mensaje).</span><span class="sxs-lookup"><span data-stu-id="d4f2c-121">Each command defines a type (action or search), and the locations in the client it can be invoked from (compose message area, command bar, and/or message).</span></span> <span data-ttu-id="d4f2c-122">Una vez que se haya invocado, el servicio web recibirá un mensaje HTTPS con una carga JSON que incluye toda la información relevante.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-122">Once invoked, your web service will receive an HTTPS message with a JSON payload including all the relevant information.</span></span> <span data-ttu-id="d4f2c-123">Responderá con una carga JSON, lo que permitirá que el cliente de Microsoft Teams sepa qué interacción se habilitará a continuación.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-123">You'll respond with a JSON payload, letting the Teams client know what interaction to enable next.</span></span>

## <a name="types-of-messaging-extension-commands"></a><span data-ttu-id="d4f2c-124">Tipos de comandos de extensión de mensajería</span><span class="sxs-lookup"><span data-stu-id="d4f2c-124">Types of messaging extension commands</span></span>

<span data-ttu-id="d4f2c-125">El comando tipo de extensión de mensajería define los elementos de la interfaz de usuario y los flujos de interacción disponibles para el servicio Web.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-125">The type of messaging extension command defines the UI elements and interaction flows available to your web service.</span></span> <span data-ttu-id="d4f2c-126">Algunas interacciones, como la autenticación y la configuración, están disponibles para ambos tipos de comandos.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-126">Some interactions, like authentication and configuration, are available for both types of commands.</span></span>

### <a name="action-commands"></a><span data-ttu-id="d4f2c-127">Comandos de acción</span><span class="sxs-lookup"><span data-stu-id="d4f2c-127">Action commands</span></span>

<span data-ttu-id="d4f2c-128">Los comandos de acción permiten presentar a los usuarios un elemento emergente modal para recopilar o Mostrar información.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-128">Action commands allow you to present your users with a modal popup to collect or display information.</span></span> <span data-ttu-id="d4f2c-129">Cuando envían el formulario, el servicio web puede responder insertando un mensaje en la conversación directamente o insertando un mensaje en el área de mensaje de redacción y permitiendo al usuario enviar el mensaje.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-129">When they submit the form, your web service can respond by inserting a message into the conversation directly, or by inserting a message into the compose message area and allowing the user to submit the message.</span></span> <span data-ttu-id="d4f2c-130">Incluso puede enlazar varios formularios entre sí para flujos de trabajo más complejos.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-130">You can even chain multiple forms together for more complex workflows.</span></span>

<span data-ttu-id="d4f2c-131">Se pueden desencadenar desde el área de mensaje de redacción, el cuadro de comando o un mensaje.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-131">They can be triggered from the compose message area, the command box, or from a message.</span></span> <span data-ttu-id="d4f2c-132">Cuando se invoca desde un mensaje, la carga útil JSON inicial que se envía a su bot incluirá el mensaje completo desde el que se invocó.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-132">When invoked from a message, the initial JSON payload sent to your bot will include the entire message it was invoked from.</span></span>

![módulo de tareas comando de acción de extensión de mensajería](~/assets/images/task-module.png)

### <a name="search-commands"></a><span data-ttu-id="d4f2c-134">Comandos de búsqueda</span><span class="sxs-lookup"><span data-stu-id="d4f2c-134">Search commands</span></span>

<span data-ttu-id="d4f2c-135">Los comandos de búsqueda permiten a los usuarios buscar información en un sistema externo (ya sea manualmente mediante un cuadro de búsqueda o pegando un vínculo a un dominio supervisado en el área de mensajes de redacción) y, a continuación, insertan los resultados de la búsqueda en un mensaje.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-135">Search commands allow your users to search an external system for information (either manually through a search box, or by pasting a link to a monitored domain into the compose message area), then insert the results of the search into a message.</span></span> <span data-ttu-id="d4f2c-136">En el flujo de comando de búsqueda más básico, el mensaje de invocación inicial incluirá la cadena de búsqueda enviada por el usuario.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-136">In the most basic search command flow, the initial invoke message will include the search string the user submitted.</span></span> <span data-ttu-id="d4f2c-137">Responderá con una lista de tarjetas de visita y vistas previas de tarjetas.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-137">You'll respond with a list of cards and card previews.</span></span> <span data-ttu-id="d4f2c-138">El cliente de Microsoft Teams representará las vistas previas de las tarjetas en una lista para que el usuario final pueda seleccionarlas.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-138">The Teams client will render the card previews in a list for the end user to select from.</span></span> <span data-ttu-id="d4f2c-139">Cuando el usuario selecciona una tarjeta, se insertará la tarjeta de tamaño completo en el área de mensaje de redacción.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-139">When the user selects a card, the full-size card will be inserted into the compose message area.</span></span>

<span data-ttu-id="d4f2c-140">Se pueden desencadenar desde el área de mensaje de redacción o el cuadro de comandos.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-140">They can be triggered from the compose message area or the command box.</span></span> <span data-ttu-id="d4f2c-141">A diferencia de los comandos de acción, no se pueden desencadenar desde un mensaje.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-141">Unlike action commands, they cannot be triggered from a message.</span></span>

![comando de búsqueda de extensiones de mensajería](~/assets/images/search-extension.png)

### <a name="link-unfurling"></a><span data-ttu-id="d4f2c-143">Apertura de vínculos</span><span class="sxs-lookup"><span data-stu-id="d4f2c-143">Link unfurling</span></span>

<span data-ttu-id="d4f2c-144">También tiene la opción de invocar el servicio cuando se pega una dirección URL en el área de mensaje de redacción.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-144">You also have to option to invoke your service when a URL is pasted in the compose message area.</span></span> <span data-ttu-id="d4f2c-145">Esta funcionalidad, conocida como **unfurling de vínculos**, le permite suscribirse para recibir una llamada cuando las direcciones URL que contienen un dominio en particular se pegan en el área de mensaje de redacción.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-145">This functionality, known as **link unfurling**, allows you to subscribe to receive an invoke when URLs containing a particular domain are pasted into the compose message area.</span></span> <span data-ttu-id="d4f2c-146">El servicio web puede "unfurl" la dirección URL en una tarjeta detallada, lo que proporciona más información que la tarjeta de vista previa del sitio web estándar.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-146">Your web service can "unfurl" the URL into a detailed card, providing more information than the standard website preview card.</span></span> <span data-ttu-id="d4f2c-147">Incluso puede agregar botones para permitir que los usuarios realicen acciones inmediatamente sin dejar el cliente de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="d4f2c-147">You can even add buttons to allow your users to immediately take action without leaving the Microsoft Teams client.</span></span>

## <a name="get-started"></a><span data-ttu-id="d4f2c-148">Introducción</span><span class="sxs-lookup"><span data-stu-id="d4f2c-148">Get Started</span></span>

<span data-ttu-id="d4f2c-149">¿Está listo para empezar a compilar?</span><span class="sxs-lookup"><span data-stu-id="d4f2c-149">Ready to get started building?</span></span> <span data-ttu-id="d4f2c-150">Pruebe con uno de nuestros tutoriales:</span><span class="sxs-lookup"><span data-stu-id="d4f2c-150">Try one of our quickstarts:</span></span>

* <span data-ttu-id="d4f2c-151">**C#**</span><span class="sxs-lookup"><span data-stu-id="d4f2c-151">**C#**</span></span>
  * [<span data-ttu-id="d4f2c-152">Extensión de mensajería con comandos basados en acciones</span><span class="sxs-lookup"><span data-stu-id="d4f2c-152">Messaging extension with action-based commands</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/51.teams-messaging-extensions-action)
  * [<span data-ttu-id="d4f2c-153">Extensión de mensajería con comandos basados en la búsqueda</span><span class="sxs-lookup"><span data-stu-id="d4f2c-153">Messaging extension with search-based commands</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/50.teams-messaging-extensions-search)
* <span data-ttu-id="d4f2c-154">**JavaScript**</span><span class="sxs-lookup"><span data-stu-id="d4f2c-154">**JavaScript**</span></span>
  * [<span data-ttu-id="d4f2c-155">Extensión de mensajería con comandos basados en acciones</span><span class="sxs-lookup"><span data-stu-id="d4f2c-155">Messaging extension with action-based commands</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/51.teams-messaging-extensions-action)
  * [<span data-ttu-id="d4f2c-156">Extensión de mensajería con comandos basados en la búsqueda</span><span class="sxs-lookup"><span data-stu-id="d4f2c-156">Messaging extension with search-based commands</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/50.teams-messaging-extensions-search)

## <a name="learn-more"></a><span data-ttu-id="d4f2c-157">Más información</span><span class="sxs-lookup"><span data-stu-id="d4f2c-157">Learn more</span></span>

<span data-ttu-id="d4f2c-158">Cree una extensión de mensajería:</span><span class="sxs-lookup"><span data-stu-id="d4f2c-158">Build a messaging extension:</span></span>

* [<span data-ttu-id="d4f2c-159">Crear una extensión de mensajería</span><span class="sxs-lookup"><span data-stu-id="d4f2c-159">Create a messaging extension</span></span>](~/messaging-extensions/how-to/create-messaging-extension.md)
* [<span data-ttu-id="d4f2c-160">Comando definir extensión de mensajería de la acción</span><span class="sxs-lookup"><span data-stu-id="d4f2c-160">Define action messaging extension command</span></span>](~/messaging-extensions/how-to/action-commands/define-action-command.md)
* [<span data-ttu-id="d4f2c-161">Comando para definir la extensión de mensajería de búsqueda</span><span class="sxs-lookup"><span data-stu-id="d4f2c-161">Define search messaging extension command</span></span>](~/messaging-extensions/how-to/search-commands/define-search-command.md)
