---
title: Pruebe y depure el bot
description: Describe cómo probar bots en Microsoft Teams
keywords: equipos bots pruebas
ms.topic: how-to
localization_priority: Normal
ms.date: 03/20/2019
ms.openlocfilehash: 269b0680e45d764cf4cb0269c40d3d202145edb8
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/19/2021
ms.locfileid: "52566463"
---
# <a name="test-and-debug-your-microsoft-teams-bot"></a><span data-ttu-id="41aac-104">Prueba y depura el bot de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="41aac-104">Test and debug your Microsoft Teams bot</span></span>

[!include[v3-to-v4-SDK-pointer](~/includes/v3-to-v4-pointer-bots.md)]

<span data-ttu-id="41aac-105">Al probar el bot, debe tener en cuenta tanto los contextos en los que desea que se ejecute el bot, como cualquier funcionalidad que haya agregado al bot que requiera datos específicos de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="41aac-105">When testing your bot you need to take into consideration both the context(s) you want your bot to run in, as well as any functionality you may have added to your bot that requires data specific to Microsoft Teams.</span></span> <span data-ttu-id="41aac-106">Asegúrese de que el método que eligió para probar el bot se alinea con su funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="41aac-106">Make sure that the method you chose to test your bot aligns with its functionality.</span></span>

## <a name="test-by-uploading-to-teams"></a><span data-ttu-id="41aac-107">Prueba subiendo a Teams</span><span class="sxs-lookup"><span data-stu-id="41aac-107">Test by uploading to Teams</span></span>

<span data-ttu-id="41aac-108">La forma más completa de probar el bot es creando un paquete de aplicación y cargándolo en Teams.</span><span class="sxs-lookup"><span data-stu-id="41aac-108">The most comprehensive way to test your bot is by creating an app package and uploading it to Teams.</span></span> <span data-ttu-id="41aac-109">Este es el único método para probar la funcionalidad completa disponible para el bot, en todos los ámbitos.</span><span class="sxs-lookup"><span data-stu-id="41aac-109">This is the only method to test the full functionality available to your bot, across all scopes.</span></span>

<span data-ttu-id="41aac-110">Hay dos métodos para cargar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="41aac-110">There are two methods for uploading your app.</span></span> <span data-ttu-id="41aac-111">Puedes usar [App Studio](~/concepts/build-and-test/app-studio-overview.md) para ayudarte o puedes crear manualmente [un paquete de aplicación](~/concepts/build-and-test/apps-package.md) y cargar la [aplicación.](~/concepts/deploy-and-publish/apps-upload.md)</span><span class="sxs-lookup"><span data-stu-id="41aac-111">You can either use [App Studio](~/concepts/build-and-test/app-studio-overview.md) to help you, or you can manually [create an app package](~/concepts/build-and-test/apps-package.md) and [upload your app](~/concepts/deploy-and-publish/apps-upload.md).</span></span> <span data-ttu-id="41aac-112">Si necesitas modificar el manifiesto y volver a cargar la aplicación, [debes eliminar el bot](#deleting-a-bot-from-teams) antes de cargar el paquete de aplicación modificado.</span><span class="sxs-lookup"><span data-stu-id="41aac-112">If you need to alter your manifest and re-upload your app, you should [delete your bot](#deleting-a-bot-from-teams) before uploading your altered app package.</span></span>

## <a name="debug-your-bot-locally"></a><span data-ttu-id="41aac-113">Depurar el bot localmente</span><span class="sxs-lookup"><span data-stu-id="41aac-113">Debug your bot locally</span></span>

<span data-ttu-id="41aac-114">Si está alojando su bot localmente durante el desarrollo, deberá utilizar un servicio de tunelización como [ngrok](https://ngrok.com/) para probar el bot.</span><span class="sxs-lookup"><span data-stu-id="41aac-114">If you are hosting your bot locally during development you'll need to use a tunneling service like [ngrok](https://ngrok.com/) in order to test your bot.</span></span> <span data-ttu-id="41aac-115">Una vez que haya descargado e instalado ngrok, ejecute el siguiente comando para iniciar el servicio de tunelización.</span><span class="sxs-lookup"><span data-stu-id="41aac-115">Once you've downloaded and installed ngrok, run the below command to start the tunneling service.</span></span> <span data-ttu-id="41aac-116">Es posible que deba agregar ngrok a su ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="41aac-116">You may need to add ngrok to your path.</span></span>

```bash
ngrok http <port> -host-header=localhost:<port>
```

<span data-ttu-id="41aac-117">Use el punto de conexión https proporcionado por ngrok en el manifiesto de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="41aac-117">Use the https endpoint provided by ngrok in your app manifest.</span></span> <span data-ttu-id="41aac-118">Si cierra la ventana de comandos y reinicia, obtendrá una nueva dirección URL y deberá actualizar la dirección del punto de conexión del bot para usarla también.</span><span class="sxs-lookup"><span data-stu-id="41aac-118">If you close your command window and restart you'll get a new URL, and you'll need to update your bot endpoint address to use that one as well.</span></span>

## <a name="testing-your-bot-without-uploading-to-teams"></a><span data-ttu-id="41aac-119">Probar el bot sin cargarlo en Teams</span><span class="sxs-lookup"><span data-stu-id="41aac-119">Testing your bot without uploading to Teams</span></span>

<span data-ttu-id="41aac-120">Ocasionalmente puede ser necesario probar el bot sin instalarlo como una aplicación en Teams.</span><span class="sxs-lookup"><span data-stu-id="41aac-120">Occasionally it may be necessary to test your bot without installing it as an app in Teams.</span></span> <span data-ttu-id="41aac-121">Proporcionamos dos métodos para hacerlo a continuación.</span><span class="sxs-lookup"><span data-stu-id="41aac-121">We provide two methods for doing so below.</span></span> <span data-ttu-id="41aac-122">Probar el bot sin instalarlo como una aplicación puede ser útil para garantizar que el bot esté disponible y respondiendo, sin embargo, no le permitirá probar toda la amplitud de Microsoft Teams funcionalidad que puede haber agregado a su bot.</span><span class="sxs-lookup"><span data-stu-id="41aac-122">Testing your bot without installing it as an app can be useful to ensure your bot is available and responding, however it will not allow you to test the full breadth of Microsoft Teams functionality you may have added to your bot.</span></span> <span data-ttu-id="41aac-123">Si necesita probar completamente su bot, siga las instrucciones para [las pruebas cargando](#test-by-uploading-to-teams).</span><span class="sxs-lookup"><span data-stu-id="41aac-123">If you need to fully test your bot, please follow the instructions for [testing by uploading](#test-by-uploading-to-teams).</span></span>

### <a name="use-the-bot-emulator"></a><span data-ttu-id="41aac-124">Utilice el emulador de bots</span><span class="sxs-lookup"><span data-stu-id="41aac-124">Use the Bot Emulator</span></span>

<span data-ttu-id="41aac-125">La Bot Framework Emulator es una aplicación de escritorio que permite a los desarrolladores de bots probar y depurar sus bots, ya sea localmente o de forma remota.</span><span class="sxs-lookup"><span data-stu-id="41aac-125">The Bot Framework Emulator is a desktop application that allows bot developers to test and debug their bots, either locally or remotely.</span></span> <span data-ttu-id="41aac-126">Con el emulador, puede chatear con su bot e inspeccionar los mensajes que el bot envía y recibe.</span><span class="sxs-lookup"><span data-stu-id="41aac-126">Using the emulator, you can chat with your bot and inspect the messages that your bot sends and receives.</span></span> <span data-ttu-id="41aac-127">Esto puede ser útil para comprobar que el bot está disponible y responder, sin embargo, el emulador no le permitirá probar ninguna funcionalidad específica de Teams que haya agregado al bot, ni las respuestas de su bot serán una representación visual precisa de cómo se representarán en Teams.</span><span class="sxs-lookup"><span data-stu-id="41aac-127">This can be useful for verifying that your bot is available and responding, however the emulator will not allow you to test any Teams-specific functionality you've added to your bot, nor will responses from your bot be an accurate visual representation of how they will be rendered in Teams.</span></span> <span data-ttu-id="41aac-128">Si necesita probar cualquiera de esas cosas es mejor [cargar su bot](#test-by-uploading-to-teams).</span><span class="sxs-lookup"><span data-stu-id="41aac-128">If you need to test either of those things it is best to [upload your bot](#test-by-uploading-to-teams).</span></span>

<span data-ttu-id="41aac-129">Puede encontrar instrucciones completas sobre el Bot Framework Emulator [aquí.](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0&preserve-view=true)</span><span class="sxs-lookup"><span data-stu-id="41aac-129">Complete instructions on the Bot Framework Emulator can be found [here](/azure/bot-service/bot-service-debug-emulator?view=azure-bot-service-4.0&preserve-view=true).</span></span>

### <a name="talk-to-your-bot-directly-by-id"></a><span data-ttu-id="41aac-130">Hable con su bot directamente por Id</span><span class="sxs-lookup"><span data-stu-id="41aac-130">Talk to your bot directly by Id</span></span>

>[!Important]
><span data-ttu-id="41aac-131">Hablar con su bot por id está destinado únicamente a fines de prueba.</span><span class="sxs-lookup"><span data-stu-id="41aac-131">Talking to your bot by Id is intended for testing purposes only.</span></span>

<span data-ttu-id="41aac-132">También puede iniciar una conversación con su bot mediante su id. A continuación se indican dos métodos para hacerlo.</span><span class="sxs-lookup"><span data-stu-id="41aac-132">You can also initiate a conversation with your bot by using its Id. Two methods for doing so are given below.</span></span> <span data-ttu-id="41aac-133">Cuando se ha agregado un bot a través de uno de estos métodos, no se puede abordar en las conversaciones de canal y no puede aprovechar otras capacidades de Microsoft Teams aplicación, como pestañas o extensiones de mensajería.</span><span class="sxs-lookup"><span data-stu-id="41aac-133">When a bot has been added through one of these methods it will not be addressable in channel conversations, and you cannot take advantage of other Microsoft Teams app capabilities like tabs or messaging extensions.</span></span>

1. <span data-ttu-id="41aac-134">En la página [Bot Dashboard del](https://dev.botframework.com/bots) bot, en **Canales**, seleccione Agregar **a Microsoft Teams**.</span><span class="sxs-lookup"><span data-stu-id="41aac-134">On the [Bot Dashboard](https://dev.botframework.com/bots) page for your bot, under **Channels**, select **Add to Microsoft Teams**.</span></span> <span data-ttu-id="41aac-135">Microsoft Teams se iniciará con un chat personal con su bot.</span><span class="sxs-lookup"><span data-stu-id="41aac-135">Microsoft Teams will launch with a personal chat with your bot.</span></span>
2. <span data-ttu-id="41aac-136">Haga referencia directamente al ID de aplicación del bot desde Microsoft Teams:</span><span class="sxs-lookup"><span data-stu-id="41aac-136">Directly reference your bot's app ID from within Microsoft Teams:</span></span>
   * <span data-ttu-id="41aac-137">En la página [Panel de bots del](https://dev.botframework.com/bots) bot, en **Detalles**, copie el identificador de aplicación **de Microsoft** para el bot.</span><span class="sxs-lookup"><span data-stu-id="41aac-137">On the [Bot Dashboard](https://dev.botframework.com/bots) page for your bot, under **Details**, copy the **Microsoft App ID** for your bot.</span></span>
  
     ![Obtener el AppID para el bot](~/assets/images/bots_appid_botframework.png)
  
   * <span data-ttu-id="41aac-139">En Microsoft Teams, en el panel **Chat,** seleccione el icono **Agregar chat.**</span><span class="sxs-lookup"><span data-stu-id="41aac-139">From within Microsoft Teams, on the **Chat** pane, select the **Add chat** icon.</span></span> <span data-ttu-id="41aac-140">**Para:**, pegue el IDENTIFICADOR de microsoft app del bot.</span><span class="sxs-lookup"><span data-stu-id="41aac-140">For **To:**, paste your bot's Microsoft App ID.</span></span>
  
     ![Carga del AppID para el bot](~/assets/images/bots_uploading.png)

     <span data-ttu-id="41aac-142">El identificador de aplicación debe resolverse con el nombre del bot.</span><span class="sxs-lookup"><span data-stu-id="41aac-142">The app ID should resolve to your bot name.</span></span>

   * <span data-ttu-id="41aac-143">Seleccione el bot y envíe un mensaje para iniciar una conversación.</span><span class="sxs-lookup"><span data-stu-id="41aac-143">Select your bot and send a message to initiate a conversation.</span></span>
   * <span data-ttu-id="41aac-144">Como alternativa, puede pegar el IDENTIFICADOR de aplicación del bot en el cuadro de búsqueda en la parte superior izquierda de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="41aac-144">Alternatively, you can paste your bot's app ID in the search box in the top left in Microsoft Teams.</span></span> <span data-ttu-id="41aac-145">En la página de resultados de búsqueda, vaya a la pestaña Personas para ver el bot y empezar a chatear con él.</span><span class="sxs-lookup"><span data-stu-id="41aac-145">In the search results page, navigate to the People tab to see your bot and to start chatting with it.</span></span>

<span data-ttu-id="41aac-146">El bot recibirá el `conversationUpdate` evento al igual que los bots agregados a un equipo, pero sin la información del equipo en el `channelData` objeto.</span><span class="sxs-lookup"><span data-stu-id="41aac-146">Your bot will receive the `conversationUpdate` event just like bots added to a team, but without the team information in the `channelData` object.</span></span>

## <a name="blocking-a-bot-in-personal-chat"></a><span data-ttu-id="41aac-147">Bloqueo de un bot en el chat personal</span><span class="sxs-lookup"><span data-stu-id="41aac-147">Blocking a bot in personal chat</span></span>

<span data-ttu-id="41aac-148">Tenga en cuenta que los usuarios pueden elegir bloquear el envío de mensajes de chat personales por parte del bot.</span><span class="sxs-lookup"><span data-stu-id="41aac-148">Note that users can choose to block your bot from sending personal chat messages.</span></span> <span data-ttu-id="41aac-149">Pueden alternar esto haciendo clic con el botón derecho en el bot en el canal de chat y eligiendo **Bloquear conversación de bot.**</span><span class="sxs-lookup"><span data-stu-id="41aac-149">They may toggle this by right-clicking your bot in the chat channel and choosing **Block bot conversation**.</span></span> <span data-ttu-id="41aac-150">Esto significa que los bots seguirán enviando mensajes, pero el usuario no recibirá esos mensajes.</span><span class="sxs-lookup"><span data-stu-id="41aac-150">This means your bots will continue to send messages but the user will not receive those messages.</span></span>

![Bloqueo de un bot](~/assets/images/bots/botdisable.png)

## <a name="removing-a-bot-from-a-team"></a><span data-ttu-id="41aac-152">Extracción de un bot de un equipo</span><span class="sxs-lookup"><span data-stu-id="41aac-152">Removing a bot from a team</span></span>

<span data-ttu-id="41aac-153">Los usuarios pueden eliminar el bot eligiendo el icono de papelera en la lista de bots en la vista de sus equipos.</span><span class="sxs-lookup"><span data-stu-id="41aac-153">Users can delete the bot by choosing the trash-can icon on the bots list in their teams view.</span></span> <span data-ttu-id="41aac-154">Tenga en cuenta que esto solo elimina el bot del uso de ese equipo; los usuarios individuales todavía podrán interactuar en contexto personal.</span><span class="sxs-lookup"><span data-stu-id="41aac-154">Note that this only removes the bot from that team's use; individual users will still be able to interact in personal context.</span></span>

<span data-ttu-id="41aac-155">Los bots en contexto personal no pueden ser deshabilitados o eliminados por un usuario, a falta de eliminar completamente el bot de Teams.</span><span class="sxs-lookup"><span data-stu-id="41aac-155">Bots in personal context cannot be disabled or removed by a user, short of completely removing the bot from Teams.</span></span>

## <a name="disabling-a-bot-in-teams"></a><span data-ttu-id="41aac-156">Deshabilitar un bot en Teams</span><span class="sxs-lookup"><span data-stu-id="41aac-156">Disabling a bot in Teams</span></span>

<span data-ttu-id="41aac-157">Para evitar que el bot reciba mensajes, vaya al Panel de bots y edite el canal de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="41aac-157">To stop your bot receiving messages, go to your Bot Dashboard and edit the Microsoft Teams channel.</span></span> <span data-ttu-id="41aac-158">Desactive la opción **Habilitar en Microsoft Teams.**</span><span class="sxs-lookup"><span data-stu-id="41aac-158">Clear the **Enable on Microsoft Teams** option.</span></span> <span data-ttu-id="41aac-159">Esto impide que los usuarios interactúen con el bot, pero seguirá siendo detectable y los usuarios podrán agregarlo a los equipos.</span><span class="sxs-lookup"><span data-stu-id="41aac-159">This prevents users from interacting with the bot, but it will still be discoverable and users will still be able to add it to teams.</span></span>

## <a name="deleting-a-bot-from-teams"></a><span data-ttu-id="41aac-160">Eliminación de un bot de Teams</span><span class="sxs-lookup"><span data-stu-id="41aac-160">Deleting a bot from Teams</span></span>

<span data-ttu-id="41aac-161">Para eliminar el bot por completo de Teams, ve al Panel de bots y edita el canal de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="41aac-161">To remove your bot completely from Teams, go to your Bot Dashboard and edit the Microsoft Teams channel.</span></span> <span data-ttu-id="41aac-162">Elija el botón **Eliminar** en la parte inferior.</span><span class="sxs-lookup"><span data-stu-id="41aac-162">Choose the **Delete** button at the bottom.</span></span> <span data-ttu-id="41aac-163">Esto impide que los usuarios descubran, agreguen o interactúen con el bot.</span><span class="sxs-lookup"><span data-stu-id="41aac-163">This prevents users from discovering, adding, or interacting with your bot.</span></span> <span data-ttu-id="41aac-164">Tenga en cuenta que esto no quita el bot de las instancias de Teams de otros usuarios, aunque también dejará de funcionar para ellos.</span><span class="sxs-lookup"><span data-stu-id="41aac-164">Note that this does not remove the bot from other users' Teams instances, although it will cease functioning for them as well.</span></span>

## <a name="removing-your-bot-from-appsource"></a><span data-ttu-id="41aac-165">Eliminación del bot de AppSource</span><span class="sxs-lookup"><span data-stu-id="41aac-165">Removing your bot from AppSource</span></span>

<span data-ttu-id="41aac-166">Si quieres quitar el bot de la aplicación Teams en AppSource (anteriormente Office Store), debes quitar el bot del manifiesto de la aplicación y volver a enviar la aplicación para su validación.</span><span class="sxs-lookup"><span data-stu-id="41aac-166">If you want to remove your bot from your Teams app in AppSource (previously Office Store), you must remove the bot from your app manifest and resubmit your app for validation.</span></span> <span data-ttu-id="41aac-167">Para obtener más información, consulte [Publicar la aplicación Microsoft Teams en AppSource](~/concepts/deploy-and-publish/apps-publish.md).</span><span class="sxs-lookup"><span data-stu-id="41aac-167">For more information, see [Publish your Microsoft Teams app to AppSource](~/concepts/deploy-and-publish/apps-publish.md).</span></span>
