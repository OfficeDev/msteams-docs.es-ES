---
title: Autenticar a un usuario en Microsoft Teams
description: Describe la autenticación en Microsoft Teams y cómo usarla en las aplicaciones.
keywords: autenticación de Teams SSO de OAuth para AAD
ms.openlocfilehash: d3ae57d9937c6794fb743b44ca8210a5afd181bf
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/01/2020
ms.locfileid: "41675829"
---
# <a name="authentication-in-teams"></a><span data-ttu-id="e3b5e-104">Autenticación en Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="e3b5e-104">Authentication in Teams</span></span>

> [!Note]
> <span data-ttu-id="e3b5e-105">La autenticación basada en Web en clientes móviles requiere la versión 1.4.1 o posterior del SDK de Teams para JavaScript.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-105">Web-based authentication on mobile clients requires version 1.4.1 or later of the Teams JavaScript SDK.</span></span>

<span data-ttu-id="e3b5e-106">Para que la aplicación tenga acceso a la información de usuario protegida con Azure Active Directory, así como el acceso a datos de otros servicios como Facebook y Twitter, la aplicación tendrá que establecer una conexión de confianza con estos proveedores.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-106">In order for your app to access user information protected by Azure Active Directory, as well as access data from other services like Facebook and Twitter, your app will have to establish a trusted connection with those providers.</span></span> <span data-ttu-id="e3b5e-107">Si la aplicación necesita usar las API de Microsoft Graph en el ámbito de usuario, también necesitará autenticar al usuario para recuperar los tokens de autenticación adecuados.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-107">If your app needs to use Microsoft Graph APIs in the user scope, you'll also need to authenticate the user to retrieve the appropriate authentication tokens.</span></span>

<span data-ttu-id="e3b5e-108">En Microsoft Teams hay dos flujos de autenticación diferentes para que la aplicación aproveche.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-108">In Microsoft Teams there are two different authentication flows for your app to take advantage of.</span></span> <span data-ttu-id="e3b5e-109">Puede realizar un flujo de autenticación tradicional basado en Web en una [Página de contenido](~/tabs/how-to/create-tab-pages/content-page.md) incrustada en una pestaña, una página de configuración o un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-109">You can perform a traditional web-based authentication flow in a [content page](~/tabs/how-to/create-tab-pages/content-page.md) embedded in a tab, a configuration page, or a task module.</span></span> <span data-ttu-id="e3b5e-110">Si la aplicación contiene un bot conversante, puede usar el flujo OAuthPrompt (y, opcionalmente, el servicio de token de Azure bot Framework) para autenticar a un usuario como parte de una conversación.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-110">If your app contains a conversational bot you can use the OAuthPrompt flow (and optionally the Azure Bot Framework's token service) to authenticate a user as part of a conversation.</span></span>

## <a name="web-based-authentication-flow"></a><span data-ttu-id="e3b5e-111">Flujo de autenticación basada en Web</span><span class="sxs-lookup"><span data-stu-id="e3b5e-111">Web-based authentication flow</span></span>

<span data-ttu-id="e3b5e-112">Deberá usar el flujo de autenticación basada en web para las [pestañas](~/tabs/what-are-tabs.md)y puede elegir usarla con [bots de conversación](~/bots/what-are-bots.md) o con extensiones de [Mensajería](~/messaging-extensions/what-are-messaging-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="e3b5e-112">You'll need to use the web-based authentication flow for [tabs](~/tabs/what-are-tabs.md), and can choose to use it with [conversational bots](~/bots/what-are-bots.md) or [messaging extensions](~/messaging-extensions/what-are-messaging-extensions.md).</span></span> <span data-ttu-id="e3b5e-113">Usará el SDK del [cliente de JavaScript de Microsoft Teams](/javascript/api/overview/msteams-client) en una página de contenido web para habilitar la autenticación y, a continuación, insertar esa página de contenido en una pestaña, una página de configuración o un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-113">You'll use the [Microsoft Teams JavaScript client SDK](/javascript/api/overview/msteams-client) in a web content page to enable authentication, then embed that content page in a tab, a configuration page, or a task module.</span></span> <span data-ttu-id="e3b5e-114">Si desea usar el flujo de autenticación basado en Web con un bot conversador, deberá [usar un módulo de tareas con un bot](~/task-modules-and-cards/task-modules/task-modules-bots.md).</span><span class="sxs-lookup"><span data-stu-id="e3b5e-114">If you want to use the web-based authentication flow with a conversational bot, you'll need to [use a task module with a bot](~/task-modules-and-cards/task-modules/task-modules-bots.md).</span></span>

* <span data-ttu-id="e3b5e-115">[Flujo de autenticación en las pestañas](~/tabs/how-to/authentication/auth-flow-tab.md) describe cómo funciona la autenticación de pestañas en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-115">[Authentication flow in tabs](~/tabs/how-to/authentication/auth-flow-tab.md) describes how tab authentication works in Teams.</span></span> <span data-ttu-id="e3b5e-116">Muestra un flujo típico de autenticación basada en Web que se usa para las pestañas.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-116">This shows a typical web based authentication flow used for tabs.</span></span>
* <span data-ttu-id="e3b5e-117">[Autenticación de Azure ad en pestañas](~/tabs/how-to/authentication/auth-tab-AAD.md) se describe cómo conectarse a Azure Active Directory desde una pestaña de la aplicación en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-117">[Azure AD authentication in tabs](~/tabs/how-to/authentication/auth-tab-AAD.md) describes how to connect to Azure Active Directory from within a tab in your app in Teams.</span></span>
* <span data-ttu-id="e3b5e-118">[Autenticación silenciosa (Azure ad)](~/tabs/how-to/authentication/auth-silent-AAD.md) describe cómo reducir los mensajes de inicio de sesión/consentimiento en la aplicación con Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-118">[Silent authentication (Azure AD)](~/tabs/how-to/authentication/auth-silent-AAD.md) describes how to reduce sign-in/consent prompts in your app using Azure Active Directory.</span></span>
* <span data-ttu-id="e3b5e-119">Autenticación basada en Web en [dotnet/C#](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp) o [JavaScript/node. js](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)</span><span class="sxs-lookup"><span data-stu-id="e3b5e-119">Web-based authentication in [dotnet/C#](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp) or [JavaScript/Node.js](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)</span></span>

## <a name="the-oauthprompt-flow-for-conversational-bots"></a><span data-ttu-id="e3b5e-120">Flujo de OAuthPrompt para bots de conversación</span><span class="sxs-lookup"><span data-stu-id="e3b5e-120">The OAuthPrompt flow for conversational bots</span></span>

<span data-ttu-id="e3b5e-121">El OAuthPrompt de Azure bot Framework facilita la autenticación para las aplicaciones que usan bots de conversación.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-121">The Azure Bot Framework’s OAuthPrompt makes authentication easier for apps using conversational bots.</span></span> <span data-ttu-id="e3b5e-122">Puede aprovechar el servicio de tokens de Azure bot Framework para ayudar también con el almacenamiento en caché de tokens.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-122">You can take advantage of Azure Bot Framework's token service to assist with token caching as well.</span></span>

<span data-ttu-id="e3b5e-123">Para obtener más información sobre el uso de OAuthPrompt, vea:</span><span class="sxs-lookup"><span data-stu-id="e3b5e-123">For more information on using the OAuthPrompt see:</span></span>

* <span data-ttu-id="e3b5e-124">[Información general sobre el flujo de autenticación de bot](~/bots/how-to/authentication/auth-flow-bot.md) describe cómo funciona la autenticación dentro de un bot en la aplicación en Teams.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-124">[Bot authentication flow overview](~/bots/how-to/authentication/auth-flow-bot.md) describes how authentication works within a bot in your app in Teams.</span></span> <span data-ttu-id="e3b5e-125">Muestra un flujo de autenticación no basado en Web que se usa para bots en todas las versiones de Teams (Web, aplicación de escritorio y aplicaciones móviles)</span><span class="sxs-lookup"><span data-stu-id="e3b5e-125">This shows a non-web based authentication flow used for bots on all versions of Teams (web, desktop app, and mobile apps)</span></span>
* [<span data-ttu-id="e3b5e-126">Autenticación de bot</span><span class="sxs-lookup"><span data-stu-id="e3b5e-126">Bot authentication</span></span>](~/bots/how-to/authentication/add-authentication.md)
* <span data-ttu-id="e3b5e-127">Ejemplo de autenticación de Bot (SDK de V3) en [dotnet/C#](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/46.teams-auth) o [JavaScript/node. js](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/46.teams-auth)</span><span class="sxs-lookup"><span data-stu-id="e3b5e-127">Bot authentication (v3 SDK) sample in [dotnet/C#](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/46.teams-auth) or [JavaScript/Node.js](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/46.teams-auth)</span></span>

## <a name="configure-your-identity-provider"></a><span data-ttu-id="e3b5e-128">Configurar el proveedor de identidades</span><span class="sxs-lookup"><span data-stu-id="e3b5e-128">Configure your identity provider</span></span>

<span data-ttu-id="e3b5e-129">Independientemente del flujo de autenticación que use (puede que incluso esté usando ambos), deberá configurar su proveedor de identidad para comunicarse con la aplicación de Teams.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-129">Regardless of which authentication flow your app is using (you might even be using both), you'll need to configure your identity provider to communicate with your Teams app.</span></span> <span data-ttu-id="e3b5e-130">La mayoría de los ejemplos y tutoriales que encontrará aquí se ocuparán principalmente del uso de Azure Active Directory como proveedor de identidades.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-130">The majority of the samples and walkthroughs you'll find here will deal primarily with using Azure Active Directory as your identity provider.</span></span> <span data-ttu-id="e3b5e-131">Sin embargo, los conceptos se aplican independientemente del proveedor de identidad que vaya a usar.</span><span class="sxs-lookup"><span data-stu-id="e3b5e-131">The concepts however apply regardless of which identity provider you'll use.</span></span>

<span data-ttu-id="e3b5e-132">Para obtener más información, vea [Configuring an Identity Provider](~/concepts/authentication/configure-identity-provider.md) .</span><span class="sxs-lookup"><span data-stu-id="e3b5e-132">For more information see [configuring an identity provider](~/concepts/authentication/configure-identity-provider.md)</span></span>
