---
title: Autenticación de usuarios de aplicaciones
description: Describe la autenticación en Teams y cómo usarla en las aplicaciones
ms.topic: conceptual
localization_priority: Normal
keywords: Autenticación de teams OAuth SSO AAD
ms.openlocfilehash: 23e0e500ee041afa191e9381b6f69b4c3881c391
ms.sourcegitcommit: 825abed2f8784d2bab7407ba7a4455ae17bbd28f
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 04/26/2021
ms.locfileid: "52019975"
---
# <a name="authenticate-users-in-microsoft-teams"></a><span data-ttu-id="aef1d-104">Autenticar usuarios en Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="aef1d-104">Authenticate users in Microsoft Teams</span></span>

> [!NOTE]
> <span data-ttu-id="aef1d-105">La autenticación basada en web en clientes móviles requiere la versión 1.4.1 o posterior del SDK de JavaScript de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="aef1d-105">Web-based authentication on mobile clients requires version 1.4.1 or later of the Microsoft Teams JavaScript SDK.</span></span>

<span data-ttu-id="aef1d-106">Para obtener acceso a la información de usuario protegida por Azure Active Directory (AAD) y acceder a datos de servicios como Facebook y Twitter, la aplicación establece una conexión de confianza con esos proveedores.</span><span class="sxs-lookup"><span data-stu-id="aef1d-106">To access user information protected by Azure Active Directory (AAD) and to access data from services like Facebook and Twitter, the app establishes a trusted connection with those providers.</span></span> <span data-ttu-id="aef1d-107">Si la aplicación usa las API de Microsoft Graph en el ámbito de usuario, autentique al usuario para recuperar los tokens de autenticación adecuados.</span><span class="sxs-lookup"><span data-stu-id="aef1d-107">If the app uses Microsoft Graph APIs in the user scope, authenticate the user to retrieve the appropriate authentication tokens.</span></span>

<span data-ttu-id="aef1d-108">En Teams, hay dos flujos de autenticación diferentes para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="aef1d-108">In Teams, there are two different authentication flows for the app.</span></span> <span data-ttu-id="aef1d-109">Realice un flujo de autenticación basado en web tradicional en [una](~/tabs/how-to/create-tab-pages/content-page.md) página de contenido incrustada en una pestaña, una página de configuración o un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="aef1d-109">Perform a traditional web-based authentication flow in a [content page](~/tabs/how-to/create-tab-pages/content-page.md) embedded in a tab, a configuration page, or a task module.</span></span> <span data-ttu-id="aef1d-110">Si la aplicación contiene un bot de conversación, use el flujo OAuthPrompt y, opcionalmente, el servicio de tokens de Azure Bot Framework para autenticar a un usuario como parte de una conversación.</span><span class="sxs-lookup"><span data-stu-id="aef1d-110">If the app contains a conversational bot, use the OAuthPrompt flow and optionally the Azure Bot Framework's token service to authenticate a user as part of a conversation.</span></span>

## <a name="web-based-authentication-flow"></a><span data-ttu-id="aef1d-111">Flujo de autenticación basado en web</span><span class="sxs-lookup"><span data-stu-id="aef1d-111">Web-based authentication flow</span></span>

<span data-ttu-id="aef1d-112">Use el flujo de autenticación basado en web para las [pestañas](~/tabs/what-are-tabs.md) y elija usarlo con [bots de](~/bots/what-are-bots.md) conversación o extensiones [de mensajería.](~/messaging-extensions/what-are-messaging-extensions.md)</span><span class="sxs-lookup"><span data-stu-id="aef1d-112">Use the web-based authentication flow for [tabs](~/tabs/what-are-tabs.md) and choose to use it with [conversational bots](~/bots/what-are-bots.md) or [messaging extensions](~/messaging-extensions/what-are-messaging-extensions.md).</span></span> <span data-ttu-id="aef1d-113">Use el [SDK de cliente de JavaScript de Microsoft Teams](/javascript/api/overview/msteams-client) en una página de contenido web para habilitar la autenticación.</span><span class="sxs-lookup"><span data-stu-id="aef1d-113">Use the [Microsoft Teams JavaScript client SDK](/javascript/api/overview/msteams-client) in a web content page to enable authentication.</span></span> <span data-ttu-id="aef1d-114">Después de habilitar la autenticación, inserte la página de contenido en una pestaña, una página de configuración o un módulo de tareas.</span><span class="sxs-lookup"><span data-stu-id="aef1d-114">After enabling authentication, embed the content page in a tab, a configuration page, or a task module.</span></span> <span data-ttu-id="aef1d-115">Para obtener más información sobre el flujo de autenticación basado en web, vea:</span><span class="sxs-lookup"><span data-stu-id="aef1d-115">For more information on web-based authentication flow, see:</span></span>

* <span data-ttu-id="aef1d-116">[Agregar autenticación al bot de Teams](~/bots/how-to/authentication/add-authentication.md) describe cómo usar el flujo de autenticación basado en web con un bot conversacional.</span><span class="sxs-lookup"><span data-stu-id="aef1d-116">[Add authentication to the Teams bot](~/bots/how-to/authentication/add-authentication.md) describes how to use web-based authentication flow with a conversational bot.</span></span>
* <span data-ttu-id="aef1d-117">[El flujo de autenticación en las pestañas](~/tabs/how-to/authentication/auth-flow-tab.md) describe cómo funciona la autenticación de pestañas en Teams.</span><span class="sxs-lookup"><span data-stu-id="aef1d-117">[Authentication flow in tabs](~/tabs/how-to/authentication/auth-flow-tab.md) describes how tab authentication works in Teams.</span></span> <span data-ttu-id="aef1d-118">Esto muestra un flujo de autenticación basado en web típico usado para las pestañas.</span><span class="sxs-lookup"><span data-stu-id="aef1d-118">This shows a typical web-based authentication flow used for tabs.</span></span>
* <span data-ttu-id="aef1d-119">[La autenticación de AAD](~/tabs/how-to/authentication/auth-tab-AAD.md) en pestañas describe cómo conectarse a AAD desde dentro de una pestaña de la aplicación en Teams.</span><span class="sxs-lookup"><span data-stu-id="aef1d-119">[AAD authentication in tabs](~/tabs/how-to/authentication/auth-tab-AAD.md) describes how to connect to AAD from within a tab in the app in Teams.</span></span>
* <span data-ttu-id="aef1d-120">[La autenticación silenciosa AAD](~/tabs/how-to/authentication/auth-silent-AAD.md) describe cómo reducir los mensajes de inicio de sesión o de consentimiento en la aplicación mediante AAD.</span><span class="sxs-lookup"><span data-stu-id="aef1d-120">[Silent authentication AAD](~/tabs/how-to/authentication/auth-silent-AAD.md) describes how to reduce sign-in or consent prompts in the app using AAD.</span></span>
* <span data-ttu-id="aef1d-121">[.Net o C#,](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp) [JavaScript o Node.js](https://github.com/OfficeDev/microsoft-teams-sample-complete-node) proporciona ejemplos para la autenticación basada en web.</span><span class="sxs-lookup"><span data-stu-id="aef1d-121">[.Net or C#](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp) or [JavaScript or Node.js](https://github.com/OfficeDev/microsoft-teams-sample-complete-node) provides samples for web-based authentication.</span></span>

## <a name="the-oauthprompt-flow-for-conversational-bots"></a><span data-ttu-id="aef1d-122">Flujo OAuthPrompt para bots conversacionales</span><span class="sxs-lookup"><span data-stu-id="aef1d-122">The OAuthPrompt flow for conversational bots</span></span>

<span data-ttu-id="aef1d-123">OAuthPrompt de Azure Bot Framework facilita la autenticación para las aplicaciones que usan bots de conversación.</span><span class="sxs-lookup"><span data-stu-id="aef1d-123">The Azure Bot Framework’s OAuthPrompt makes authentication easier for apps using conversational bots.</span></span> <span data-ttu-id="aef1d-124">Use el servicio de token de Azure Bot Framework para ayudar con el almacenamiento en caché de tokens.</span><span class="sxs-lookup"><span data-stu-id="aef1d-124">Use Azure Bot Framework's token service to assist with token caching.</span></span>

<span data-ttu-id="aef1d-125">Para obtener más información sobre el uso de OAuthPrompt, vea:</span><span class="sxs-lookup"><span data-stu-id="aef1d-125">For more information on using the OAuthPrompt, see:</span></span>

* <span data-ttu-id="aef1d-126">[Información general sobre el flujo de](~/bots/how-to/authentication/auth-flow-bot.md) autenticación de bots describe cómo funciona la autenticación dentro de un bot en la aplicación en Teams.</span><span class="sxs-lookup"><span data-stu-id="aef1d-126">[Bot authentication flow overview](~/bots/how-to/authentication/auth-flow-bot.md) describes how authentication works within a bot in the app in Teams.</span></span> <span data-ttu-id="aef1d-127">Esto muestra un flujo de autenticación no basado en web usado para bots en la web de Teams, aplicaciones de escritorio y aplicaciones móviles.</span><span class="sxs-lookup"><span data-stu-id="aef1d-127">This shows a non-web-based authentication flow used for bots on Teams web, desktop app, and mobile apps.</span></span>
* <span data-ttu-id="aef1d-128">[La autenticación](~/bots/how-to/authentication/add-authentication.md) de bots describe cómo agregar la autenticación de OAuth al bot de Teams.</span><span class="sxs-lookup"><span data-stu-id="aef1d-128">[Bot authentication](~/bots/how-to/authentication/add-authentication.md) describes how to add OAuth authentication to the Teams bot.</span></span>

## <a name="code-sample"></a><span data-ttu-id="aef1d-129">Ejemplo de código</span><span class="sxs-lookup"><span data-stu-id="aef1d-129">Code sample</span></span>

<span data-ttu-id="aef1d-130">proporciona un ejemplo de SDK de autenticación de bot v3.</span><span class="sxs-lookup"><span data-stu-id="aef1d-130">provides Bot authentication v3 SDK sample.</span></span>

| <span data-ttu-id="aef1d-131">**Nombre de ejemplo**</span><span class="sxs-lookup"><span data-stu-id="aef1d-131">**Sample name**</span></span> | <span data-ttu-id="aef1d-132">**Description**</span><span class="sxs-lookup"><span data-stu-id="aef1d-132">**Description**</span></span> | <span data-ttu-id="aef1d-133">**.NET**</span><span class="sxs-lookup"><span data-stu-id="aef1d-133">**.NET**</span></span> | <span data-ttu-id="aef1d-134">**Node.js**</span><span class="sxs-lookup"><span data-stu-id="aef1d-134">**Node.js**</span></span> | <span data-ttu-id="aef1d-135">**Python**</span><span class="sxs-lookup"><span data-stu-id="aef1d-135">**Python**</span></span> |
|---------------|------------|------------|-------------|---------------|
| <span data-ttu-id="aef1d-136">Autenticación de bot</span><span class="sxs-lookup"><span data-stu-id="aef1d-136">Bot authentication</span></span> | <span data-ttu-id="aef1d-137">En este ejemplo se muestra cómo empezar con la autenticación en un bot para Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="aef1d-137">This sample shows how to get started with authentication in a bot for Microsoft Teams.</span></span> | [<span data-ttu-id="aef1d-138">View</span><span class="sxs-lookup"><span data-stu-id="aef1d-138">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/csharp_dotnetcore/46.teams-auth) | [<span data-ttu-id="aef1d-139">View</span><span class="sxs-lookup"><span data-stu-id="aef1d-139">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/master/samples/javascript_nodejs/46.teams-auth) | [<span data-ttu-id="aef1d-140">View</span><span class="sxs-lookup"><span data-stu-id="aef1d-140">View</span></span>](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/python/46.teams-auth) |

## <a name="configure-the-identity-provider"></a><span data-ttu-id="aef1d-141">Configurar el proveedor de identidades</span><span class="sxs-lookup"><span data-stu-id="aef1d-141">Configure the identity provider</span></span>

<span data-ttu-id="aef1d-142">Independientemente del flujo de autenticación de la aplicación, configure el proveedor de identidades para que se comunique con la aplicación de Teams.</span><span class="sxs-lookup"><span data-stu-id="aef1d-142">Regardless of the app's authentication flow, configure the identity provider to communicate with the Teams app.</span></span> <span data-ttu-id="aef1d-143">La mayoría de los ejemplos y tutoriales tratan principalmente con el uso de AAD como proveedor de identidades.</span><span class="sxs-lookup"><span data-stu-id="aef1d-143">Most samples and walkthroughs primarily deal with using AAD as the identity provider.</span></span> <span data-ttu-id="aef1d-144">Sin embargo, los conceptos se aplican independientemente del proveedor de identidades.</span><span class="sxs-lookup"><span data-stu-id="aef1d-144">The concepts, however, apply regardless of the identity provider.</span></span>

<span data-ttu-id="aef1d-145">Para obtener más información, vea [configuring an identity provider](~/concepts/authentication/configure-identity-provider.md).</span><span class="sxs-lookup"><span data-stu-id="aef1d-145">For more information, see [configuring an identity provider](~/concepts/authentication/configure-identity-provider.md).</span></span>
