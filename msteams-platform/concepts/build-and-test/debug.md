---
title: Ejecutar y depurar la aplicación
description: Describe los pasos que se deben seguir para ejecutar y depurar las aplicaciones de Microsoft Teams
keywords: Teams ejecutar aplicaciones de depuración
ms.topic: conceptual
ms.openlocfilehash: f7f49038617e0a6b8729df7fa53b97b63b3b3158
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/01/2020
ms.locfileid: "41676076"
---
# <a name="run-and-debug-your-microsoft-teams-app"></a><span data-ttu-id="528b8-104">Ejecutar y depurar la aplicación de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="528b8-104">Run and debug your Microsoft Teams app</span></span>

<span data-ttu-id="528b8-105">Las aplicaciones de Microsoft Teams pueden contener una o más funcionalidades y las formas de ejecutar o incluso hospedarlas pueden ser diferentes.</span><span class="sxs-lookup"><span data-stu-id="528b8-105">Microsoft Teams apps can contain one or more capabilities, and the ways to run or even host them may be different.</span></span> <span data-ttu-id="528b8-106">En general, en lo que se refiere a la depuración, tenemos las siguientes formas de ejecutar su aplicación de Microsoft Teams:</span><span class="sxs-lookup"><span data-stu-id="528b8-106">When it comes to debugging, in general, we have the following ways to run your Microsoft Teams app:</span></span>

* <span data-ttu-id="528b8-107">**Puramente local**&emsp;para bots, puede probar su experiencia en el emulador de bot.</span><span class="sxs-lookup"><span data-stu-id="528b8-107">**Purely local**&emsp;For bots, you can test your experience in the Bot Emulator.</span></span> <span data-ttu-id="528b8-108">Para otros contenidos, puede ejecutar localmente en el explorador y dirigir el contenido a `http://localhost`través de.</span><span class="sxs-lookup"><span data-stu-id="528b8-108">For other content, you can run locally in your browser and address content through `http://localhost`.</span></span>
* <span data-ttu-id="528b8-109">**Hospedado localmente, en Microsoft Teams**&emsp;, esto implica la ejecución local con software de tunelización y [la creación de un paquete](~/concepts/build-and-test/apps-package.md) para [cargarlo](~/concepts/deploy-and-publish/apps-upload.md) en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="528b8-109">**Locally hosted, in Teams**&emsp;This involves running locally with tunneling software and [creating a package](~/concepts/build-and-test/apps-package.md) to [upload](~/concepts/deploy-and-publish/apps-upload.md) into Teams.</span></span> <span data-ttu-id="528b8-110">Esto le permite ejecutar y depurar fácilmente la aplicación en el cliente de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="528b8-110">This allows you to easily run and debug your app within the Teams client.</span></span>
* <span data-ttu-id="528b8-111">**Hospedado en la nube, en Teams** Esto simula realmente (o es) la compatibilidad de nivel de producción para una aplicación de Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="528b8-111">**Cloud-hosted, in Teams** This truly simulates (or is) production-level support for a Teams app.</span></span> <span data-ttu-id="528b8-112">Implica cargar la solución en el servidor de accesible desde el exterior o en la nube que elija (recomendamos Azure, naturalmente) y [crea un paquete](~/concepts/build-and-test/apps-package.md) para [cargarlo](~/concepts/deploy-and-publish/apps-upload.md) en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="528b8-112">It involves uploading your solution to your externally accessible server or cloud provider of choice (we recommend Azure, of course) and [creating a package](~/concepts/build-and-test/apps-package.md) to [upload](~/concepts/deploy-and-publish/apps-upload.md) into Teams.</span></span>

<span data-ttu-id="528b8-113">Para las pruebas puramente locales o locales de Teams, la experiencia se ejecuta desde su propio equipo.</span><span class="sxs-lookup"><span data-stu-id="528b8-113">For purely local or local Teams testing, you run the experience from your own computer.</span></span> <span data-ttu-id="528b8-114">Esto le permite compilar y ejecutar en su IDE y aprovechar al máximo las técnicas como puntos de interrupción y depuración de pasos.</span><span class="sxs-lookup"><span data-stu-id="528b8-114">This allows you to actually compile and run within your IDE, and take full advantage of such techniques as breakpoints and step debugging.</span></span> <span data-ttu-id="528b8-115">Para realizar pruebas y depuración en el nivel de producción, se recomienda seguir sus propias directrices de la empresa para asegurarse de que puede admitir pruebas, staging e implementación a través de sus propios procesos.</span><span class="sxs-lookup"><span data-stu-id="528b8-115">For production-scale debugging and testing, we recommend that you follow your own company guidelines to ensure you are able to support testing, staging, and deployment through your own processes.</span></span>

<span data-ttu-id="528b8-116">En general, le recomendamos que use varios manifiestos y paquetes para permitirle mantener la separación entre los servicios de producción y desarrollo.</span><span class="sxs-lookup"><span data-stu-id="528b8-116">In general we recommend you use multiple manifests and packages to allow you to maintain separation between production and development services.</span></span> <span data-ttu-id="528b8-117">Por ejemplo, puede optar por registrar los bots independientes de desarrollo y producción, y crear los paquetes apropiados para cargarlos en el entorno de prueba.</span><span class="sxs-lookup"><span data-stu-id="528b8-117">For example, you might choose to register separate development and production bots and create appropriate packages to upload them in your testing environment.</span></span> <span data-ttu-id="528b8-118">También le recomendamos que cargue y pruebe el paquete de producción antes de enviar la aplicación para publicarla en nuestra tienda de aplicaciones o distribuirla a los clientes.</span><span class="sxs-lookup"><span data-stu-id="528b8-118">We also recommend you upload and test your production package before submitting your app for publishing in our app store, or distributing to customers.</span></span>

## <a name="purely-local"></a><span data-ttu-id="528b8-119">Puramente local</span><span class="sxs-lookup"><span data-stu-id="528b8-119">Purely local</span></span>

> [!NOTE]
> <span data-ttu-id="528b8-120">La ejecución de esta manera no le da acceso a las funciones de la aplicación Teams o a las funciones de bot específicas de Teams, como las llamadas de la lista y otras funciones específicas del canal.</span><span class="sxs-lookup"><span data-stu-id="528b8-120">Running this way does not give you access to Teams app functionality or Teams-specific bot functions like roster calls and other channel-specific functionality.</span></span> <span data-ttu-id="528b8-121">Además, el marco de bot puede permitir algunas capacidades en el emulador de bot? n que podrían no funcionar cuando se ejecutan en Microsoft Teams.</span><span class="sxs-lookup"><span data-stu-id="528b8-121">In addition, some capabilities may be allowed by the Bot Framework in the Bot Emulator that might not function when running in Microsoft Teams.</span></span>

<span data-ttu-id="528b8-122">El bot se puede ejecutar en el emulador de bot.</span><span class="sxs-lookup"><span data-stu-id="528b8-122">Your bot can be run within the Bot Emulator.</span></span> <span data-ttu-id="528b8-123">Esto le permite probar parte de la lógica principal del bot, ver un diseño aproximado de mensajes y realizar pruebas sencillas.</span><span class="sxs-lookup"><span data-stu-id="528b8-123">This enables you to test some of the core logic of the bot, see a rough layout of messages, and perform simple tests.</span></span> <span data-ttu-id="528b8-124">Para ello, siga estos pasos:</span><span class="sxs-lookup"><span data-stu-id="528b8-124">Here are the steps:</span></span>

* <span data-ttu-id="528b8-125">Ejecutar el código de forma local</span><span class="sxs-lookup"><span data-stu-id="528b8-125">Run the code locally</span></span>
* <span data-ttu-id="528b8-126">Inicie el emulador de Bot y establezca la dirección URL:</span><span class="sxs-lookup"><span data-stu-id="528b8-126">Launch the Bot Emulator and set the URL:</span></span>
  * <span data-ttu-id="528b8-127">Node. js:`http://localhost:3978/api/messages`</span><span class="sxs-lookup"><span data-stu-id="528b8-127">Node.js: `http://localhost:3978/api/messages`</span></span>
  * <span data-ttu-id="528b8-128">.NET/C#:`http://localhost:3979/api/messages`</span><span class="sxs-lookup"><span data-stu-id="528b8-128">.NET/C#: `http://localhost:3979/api/messages`</span></span>
* <span data-ttu-id="528b8-129">Deje en blanco el identificador de aplicación y la contraseña de Microsoft app para que se ajusten a las variables de entorno predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="528b8-129">Leave the Microsoft app ID and Microsoft app password blank, to match the default environment variables.</span></span>

## <a name="locally-hosted"></a><span data-ttu-id="528b8-130">Hospedado localmente</span><span class="sxs-lookup"><span data-stu-id="528b8-130">Locally hosted</span></span>

<span data-ttu-id="528b8-131">Debido a que Microsoft Teams es un producto totalmente basado en la nube, requiere que todos los servicios a los que tenga acceso estén disponibles públicamente mediante extremos HTTPS.</span><span class="sxs-lookup"><span data-stu-id="528b8-131">Because Microsoft Teams is an entirely cloud-based product, it requires all services it accesses to be available publicly using HTTPS endpoints.</span></span> <span data-ttu-id="528b8-132">Por lo tanto, para habilitar la aplicación para que funcione en Microsoft Teams, debe publicar el código en la nube que elija o hacer que nuestra instancia local de ejecución sea accesible externamente.</span><span class="sxs-lookup"><span data-stu-id="528b8-132">Therefore, to enable your app to work within Teams, you need to either publish the code to the cloud of your choice, or make our local running instance externally accessible.</span></span> <span data-ttu-id="528b8-133">Podemos hacer esto último con software de túnel.</span><span class="sxs-lookup"><span data-stu-id="528b8-133">We can do the latter with tunneling software.</span></span>

<span data-ttu-id="528b8-134">Aunque puede usar cualquier herramienta, se usa y se recomienda [ngrok](https://ngrok.com/download), que crea una dirección URL externamente direccionable para un puerto que se abre de forma local en el equipo.</span><span class="sxs-lookup"><span data-stu-id="528b8-134">Although you can use any tool of choice, we use and recommend [ngrok](https://ngrok.com/download), which creates an externally addressable URL for a port you open locally on your machine.</span></span> <span data-ttu-id="528b8-135">Para configurar ngrok en preparación para la ejecución local de la aplicación de Microsoft Teams:</span><span class="sxs-lookup"><span data-stu-id="528b8-135">To set up ngrok in preparation for running your Microsoft Teams app locally:</span></span>

* <span data-ttu-id="528b8-136">En una aplicación de terminal, vaya al directorio en el que se ha instalado ngrok. exe.</span><span class="sxs-lookup"><span data-stu-id="528b8-136">In a terminal application, go the directory where you have ngrok.exe installed.</span></span> <span data-ttu-id="528b8-137">Es posible que desee agregarla como variable de ruta de acceso para evitar este paso.</span><span class="sxs-lookup"><span data-stu-id="528b8-137">You may want to add it as a path variable to avoid this step.</span></span>
* <span data-ttu-id="528b8-138">Ejecute, por ejemplo `ngrok http 3978 --host-header=localhost:3978`, o reemplace el número de Puerto según sea necesario.</span><span class="sxs-lookup"><span data-stu-id="528b8-138">Run, for example, `ngrok http 3978 --host-header=localhost:3978`, or replace the port number as needed.</span></span>

<span data-ttu-id="528b8-139">Se inicia ngrok para escuchar en el puerto especificado.</span><span class="sxs-lookup"><span data-stu-id="528b8-139">This launches ngrok to listen on the port you specify.</span></span> <span data-ttu-id="528b8-140">A cambio, le proporciona una dirección URL que se puede direccionar externamente, válida durante el tiempo que se ejecute ngrok.</span><span class="sxs-lookup"><span data-stu-id="528b8-140">In return, it gives you an externally addressable URL, valid for as long as ngrok is running.</span></span>

> [!NOTE]
> <span data-ttu-id="528b8-141">Si detiene y reinicia ngrok, la dirección URL cambia.</span><span class="sxs-lookup"><span data-stu-id="528b8-141">If you stop and restart ngrok, the URL changes.</span></span>

<span data-ttu-id="528b8-142">Para usar ngrok en el proyecto y las funcionalidades que use, debe reemplazar todas las referencias a direcciones URL en el código, la configuración o el archivo manifest. JSON para usar este extremo de dirección URL.</span><span class="sxs-lookup"><span data-stu-id="528b8-142">To use ngrok in your project, and depending on the capabilities you are using, you must replace all URL references in your code, configuration, and/or manifest.json file to use this URL endpoint.</span></span>

<span data-ttu-id="528b8-143">Por ejemplo, para bots registrados en Microsoft bot Framework, actualice el punto de conexión de mensajería del bot para que use este nuevo extremo de ngrok.</span><span class="sxs-lookup"><span data-stu-id="528b8-143">For example, for bots registered in the Microsoft Bot Framework, update the bot's messaging endpoint to use this new ngrok endpoint.</span></span> <span data-ttu-id="528b8-144">Por ejemplo, `https://2d1224fb.ngrok.io/api/messages`.</span><span class="sxs-lookup"><span data-stu-id="528b8-144">For example, `https://2d1224fb.ngrok.io/api/messages`.</span></span> <span data-ttu-id="528b8-145">Puede comprobar que ngrok funciona mediante la prueba de la respuesta de bot en la ventana probar chat del portal de bot Framework.</span><span class="sxs-lookup"><span data-stu-id="528b8-145">You can validate that ngrok is working by testing bot response in the Bot Framework portal's Test chat window.</span></span> <span data-ttu-id="528b8-146">(De nuevo, al igual que el emulador, esta prueba no permite el acceso a funciones específicas de Teams).</span><span class="sxs-lookup"><span data-stu-id="528b8-146">(Again, like the emulator, this test doesn't allow you to access Teams-specific functionality.)</span></span>

> [!NOTE]
> <span data-ttu-id="528b8-147">Para actualizar el punto de conexión de mensajería de un bot, debe usar el marco de robots.</span><span class="sxs-lookup"><span data-stu-id="528b8-147">To update the messaging endpoint for a bot, you must use the Bot Framework.</span></span> <span data-ttu-id="528b8-148">Haga clic en su bot en [su lista de bots en el marco de bot](https://dev.botframework.com/bots).</span><span class="sxs-lookup"><span data-stu-id="528b8-148">Click on your bot in [your list of bots in Bot Framework](https://dev.botframework.com/bots).</span></span> <span data-ttu-id="528b8-149">No es necesario migrar el bot a Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="528b8-149">You do not need to migrate your bot to Microsoft Azure.</span></span> <span data-ttu-id="528b8-150">También puede actualizar el punto de conexión de mensajería a través de [App Studio](~/concepts/build-and-test/app-studio-overview.md).</span><span class="sxs-lookup"><span data-stu-id="528b8-150">You can also update your messaging endpoint through [App Studio](~/concepts/build-and-test/app-studio-overview.md).</span></span>

## <a name="cloud-hosted"></a><span data-ttu-id="528b8-151">Hospedado en la nube</span><span class="sxs-lookup"><span data-stu-id="528b8-151">Cloud-hosted</span></span>

<span data-ttu-id="528b8-152">Puede usar cualquier servicio externamente direccionable para hospedar el código de desarrollo y producción y sus extremos HTTPS.</span><span class="sxs-lookup"><span data-stu-id="528b8-152">You can use any externally addressable service to host your development and production code and their HTTPS endpoints.</span></span> <span data-ttu-id="528b8-153">No hay expectativa de que sus funciones residan en el mismo servicio.</span><span class="sxs-lookup"><span data-stu-id="528b8-153">There is no expectation that your capabilities reside on the same service.</span></span> <span data-ttu-id="528b8-154">Es necesario que todos los dominios a los que se accede desde las aplicaciones de Microsoft Team aparezcan en el [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) objeto del archivo manifest. JSON.</span><span class="sxs-lookup"><span data-stu-id="528b8-154">We do require that all domains being accessed from your Microsoft Teams apps be listed in the [`validDomains`](~/resources/schema/manifest-schema.md#validdomains) object in the manifest.json file.</span></span>

> [!NOTE]
> <span data-ttu-id="528b8-155">Para garantizar un entorno seguro, debe ser explícito acerca del dominio y los subdominios exactos a los que hace referencia, y esos dominios deben estar en el control.</span><span class="sxs-lookup"><span data-stu-id="528b8-155">To ensure a secure environment, be explicit about the exact domain and subdomains you reference, and those domains must be in your control.</span></span> <span data-ttu-id="528b8-156">Por ejemplo, `*.azurewebsites.net` no se recomendaría, pero `contoso.azurewebsites.net` sí?.</span><span class="sxs-lookup"><span data-stu-id="528b8-156">For example, `*.azurewebsites.net` would not be recommended, but `contoso.azurewebsites.net` would.</span></span>

## <a name="loading-and-running"></a><span data-ttu-id="528b8-157">Carga y ejecución</span><span class="sxs-lookup"><span data-stu-id="528b8-157">Loading and running</span></span>

<span data-ttu-id="528b8-158">En general, para cargar y ejecutar la experiencia en Microsoft Teams, debe crear un paquete y cargarlo en Teams con las siguientes instrucciones:</span><span class="sxs-lookup"><span data-stu-id="528b8-158">In general, to load and run your experience within Microsoft Teams, you need to create a package and upload it into Teams, using the following guidance:</span></span>

* [<span data-ttu-id="528b8-159">Crear el paquete para su aplicación de Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="528b8-159">Create the package for your Microsoft Teams app</span></span>](~/concepts/build-and-test/apps-package.md)
* [<span data-ttu-id="528b8-160">Cargar la aplicación en Microsoft Teams</span><span class="sxs-lookup"><span data-stu-id="528b8-160">Upload your app in Microsoft Teams</span></span>](~/concepts/deploy-and-publish/apps-upload.md)
